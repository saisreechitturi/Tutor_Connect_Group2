/*! For license information please see main.d1559e81.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},106:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,o=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(o,u):u}e.exports=function(e,o){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];o=o||{};var d=1,m=1;function h(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");m=~r?e.length-r:m+e.length}function p(){var e={line:d,column:m};return function(t){return t.position=new f(e),y(),t}}function f(e){this.start=e,this.end={line:d,column:m},this.source=o.source}function g(t){var n=new Error(o.source+":"+d+":"+m+": "+t);if(n.reason=t,n.filename=o.source,n.line=d,n.column=m,n.source=e,!o.silent)throw n}function x(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function y(){x(r)}function D(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return m+=2,h(r),e=e.slice(n),m+=2,t({type:"comment",comment:r})}}function b(){var e=p(),n=x(s);if(n){if(v(),!x(a))return g("property missing ':'");var r=x(i),o=e({type:"declaration",property:c(n[0].replace(t,u)),value:r?c(r[0].replace(t,u)):u});return x(l),o}}return f.prototype.content=e,y(),function(){var e,t=[];for(D(t);e=b();)!1!==e&&(t.push(e),D(t));return t}()}},146:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,s=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,l=function(e,t){return t.toUpperCase()},o=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||s.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(i,o):e.replace(a,o)).replace(r,l))}},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:u,ref:c,props:a,_owner:l.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function D(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var v=D.prototype=new y;v.constructor=D,f(v,x.prototype),v.isPureReactComponent=!0;var b=Array.isArray,j=Object.prototype.hasOwnProperty,w={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var s,a={},i=null,l=null;if(null!=t)for(s in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===a[s]&&(a[s]=o[s]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:w.current}}function F(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,s,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return i=i(o=e),e=""===a?"."+k(o,0):a,b(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),A(i,t,s,"",function(e){return e})):null!=i&&(F(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=""===a?".":a+":",b(e))for(var u=0;u<e.length;u++){var c=a+k(l=e[u],u);o+=A(l,t,s,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)o+=A(l=l.value,t,s,c=a+k(l,u++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function S(e,t,n){if(null==e)return e;var r=[],s=0;return A(e,r,"","",function(e){return t.call(n,e,s++)}),r}function B(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},P={transition:null},_={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:P,ReactCurrentOwner:w};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:S,forEach:function(e,t,n){S(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return S(e,function(){t++}),t},toArray:function(e){return S(e,function(e){return e})||[]},only:function(e){if(!F(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=s,t.Profiler=i,t.PureComponent=D,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)j.call(t,u)&&!N.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==o?o[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=F,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:B}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},222:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=null;if(!e||"string"!==typeof e)return n;const r=(0,s.default)(e),a="function"===typeof t;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:r,value:s}=e;a?t(r,s,e):s&&(n=n||{},n[r]=s)}),n};const s=r(n(106))},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var l=2*(r+1)-1,o=e[l],u=l+1,c=e[u];if(0>a(o,n))u<s&&0>a(c,o)?(e[r]=c,e[u]=n,r=u):(e[r]=o,e[l]=n,r=l);else{if(!(u<s&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var u=[],c=[],d=1,m=null,h=3,p=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,D="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function b(e){if(g=!1,v(e),!f)if(null!==r(u))f=!0,P(j);else{var t=r(c);null!==t&&_(b,t.startTime-e)}}function j(e,n){f=!1,g&&(g=!1,y(F),F=-1),p=!0;var a=h;try{for(v(n),m=r(u);null!==m&&(!(m.expirationTime>n)||e&&!A());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?m.callback=l:m===r(u)&&s(u),v(n)}else s(u);m=r(u)}if(null!==m)var o=!0;else{var d=r(c);null!==d&&_(b,d.startTime-n),o=!1}return o}finally{m=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,N=!1,C=null,F=-1,E=5,k=-1;function A(){return!(t.unstable_now()-k<E)}function S(){if(null!==C){var e=t.unstable_now();k=e;var n=!0;try{n=C(!0,e)}finally{n?w():(N=!1,C=null)}}else N=!1}if("function"===typeof D)w=function(){D(S)};else if("undefined"!==typeof MessageChannel){var B=new MessageChannel,T=B.port2;B.port1.onmessage=S,w=function(){T.postMessage(null)}}else w=function(){x(S,0)};function P(e){C=e,N||(N=!0,w())}function _(e,n){F=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,P(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(F),F=-1):g=!0,_(b,a-i))):(e.sortIndex=l,n(u,e),f||p||(f=!0,P(j))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},240:e=>{var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},i=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,s=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!a)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},o=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(s)return s(e,n).value}return e[n]};e.exports=function e(){var t,n,r,s,u,c,d=arguments[0],m=1,h=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},m=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});m<h;++m)if(null!=(t=arguments[m]))for(n in t)r=o(d,n),d!==(s=o(t,n))&&(p&&s&&(i(s)||(u=a(s)))?(u?(u=!1,c=r&&a(r)?r:[]):c=r&&i(r)?r:{},l(d,{name:n,newValue:e(p,c,s)})):"undefined"!==typeof s&&l(d,{name:n,newValue:s}));return d}},294:function(e,t,n){var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(222)),s=n(146);function a(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,function(e,r){e&&r&&(n[(0,s.camelCase)(e,t)]=r)}),n):n}a.default=a,e.exports=a},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function D(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var I,O=Object.assign;function L(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var M=!1;function z(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var s=u.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||s[i]!==a[l]){var o="\n"+s[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function U(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case j:return"Portal";case C:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case B:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&D(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var xe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function De(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,Ne=null;function Ce(e){if(e=Ds(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=bs(t),je(e.stateNode,e.type,t))}}function Fe(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Ee(){if(we){var e=we,t=Ne;if(Ne=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function ke(e,t){return e(t)}function Ae(){}var Se=!1;function Be(e,t,n){if(Se)return e(t,n);Se=!0;try{return ke(e,t,n)}finally{Se=!1,(null!==we||null!==Ne)&&(Ae(),Ee())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=bs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(c)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch(ce){Pe=!1}function Re(e,t,n,r,s,a,i,l,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ie=!1,Oe=null,Le=!1,Me=null,ze={onError:function(e){Ie=!0,Oe=e}};function Ue(e,t,n,r,s,a,i,l,o){Ie=!1,Oe=null,Re.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return He(s),e;if(i===r)return He(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Qe=s.unstable_shouldYield,Ke=s.unstable_requestPaint,Je=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~s;0!==l?r=dt(l):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~s)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Dt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,jt,wt,Nt,Ct,Ft=!1,Et=[],kt=null,At=null,St=null,Bt=new Map,Tt=new Map,Pt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Bt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Ds(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ot(e){var t=ys(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ds(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Mt(e,t,n){Lt(e)&&n.delete(t)}function zt(){Ft=!1,null!==kt&&Lt(kt)&&(kt=null),null!==At&&Lt(At)&&(At=null),null!==St&&Lt(St)&&(St=null),Bt.forEach(Mt),Tt.forEach(Mt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Ut(kt,e),null!==At&&Ut(At,e),null!==St&&Ut(St,e),Bt.forEach(t),Tt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Pt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var s=Dt,a=Vt.transition;Vt.transition=null;try{Dt=1,Yt(e,t,n,r)}finally{Dt=s,Vt.transition=a}}function $t(e,t,n,r){var s=Dt,a=Vt.transition;Vt.transition=null;try{Dt=4,Yt(e,t,n,r)}finally{Dt=s,Vt.transition=a}}function Yt(e,t,n,r){if(Ht){var s=Qt(e,t,n,r);if(null===s)Hr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return kt=It(kt,e,t,n,r,s),!0;case"dragenter":return At=It(At,e,t,n,r,s),!0;case"mouseover":return St=It(St,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Bt.set(a,It(Bt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Tt.set(a,It(Tt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<_t.indexOf(e)){for(;null!==s;){var a=Ds(s);if(null!==a&&bt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Gt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=ys(e=be(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Jt?Jt.value:Jt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),dn=O({},un,{view:0,detail:0}),mn=sn(dn),hn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=sn(hn),fn=sn(O({},hn,{dataTransfer:0})),gn=sn(O({},dn,{relatedTarget:0})),xn=sn(O({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dn=sn(yn),vn=sn(O({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Cn(){return Nn}var Fn=O({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Fn),kn=sn(O({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Sn=sn(O({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=O({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(Bn),Pn=[9,13,27,32],_n=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var In=c&&"TextEvent"in window&&!Rn,On=c&&(!_n||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Mn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Fe(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Gn(e){Lr(e,0)}function Qn(e){if(Y(vs(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Yn=$n=null)}function nr(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];Wn(t,Yn,e,be(e)),Be(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function ar(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=cr(n,a);var i=cr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,yr=null,Dr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Dr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=$r(xr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},Nr={};function Cr(e){if(wr[e])return wr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return wr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Fr=Cr("animationend"),Er=Cr("animationiteration"),kr=Cr("animationstart"),Ar=Cr("transitionend"),Sr=new Map,Br="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Sr.set(e,t),o(t,[e])}for(var Pr=0;Pr<Br.length;Pr++){var _r=Br[Pr];Tr(_r.toLowerCase(),"on"+(_r[0].toUpperCase()+_r.slice(1)))}Tr(Fr,"onAnimationEnd"),Tr(Er,"onAnimationIteration"),Tr(kr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,l,o,u){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var c=Oe;Ie=!1,Oe=null,Le||(Le=!0,Me=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;Or(s,l,u),a=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,u=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;Or(s,l,u),a=o}}}if(Le)throw e=Me,Le=!1,Me=null,e}function Mr(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var s=Wt;break;case 4:s=$t;break;default:s=Yt}n=s.bind(null,t,n,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===s||8===l.nodeType&&l.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;i=i.return}for(;null!==l;){if(null===(i=ys(l)))return;if(5===(o=i.tag)||6===o){r=a=i;continue e}l=l.parentNode}}r=r.return}Be(function(){var r=a,s=be(n),i=[];e:{var l=Sr.get(e);if(void 0!==l){var o=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=En;break;case"focusin":u="focus",o=gn;break;case"focusout":u="blur",o=gn;break;case"beforeblur":case"afterblur":o=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=An;break;case Fr:case Er:case kr:o=xn;break;case Ar:o=Sn;break;case"scroll":o=mn;break;case"wheel":o=Tn;break;case"copy":case"cut":case"paste":o=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=kn}var c=0!==(4&t),d=!c&&"scroll"===e,m=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Te(p,m))&&c.push(Wr(p,f,h)))),d)break;p=p.return}0<c.length&&(l=new o(l,u,null,n,s),i.push({event:l,listeners:c}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!ys(u)&&!u[ps])&&(o||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(u=(u=n.relatedTarget||n.toElement)?ys(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(o=null,u=r),o!==u)){if(c=pn,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,f="onPointerLeave",m="onPointerEnter",p="pointer"),d=null==o?l:vs(o),h=null==u?l:vs(u),(l=new c(f,p+"leave",o,n,s)).target=d,l.relatedTarget=h,f=null,ys(s)===r&&((c=new c(m,p+"enter",u,n,s)).target=h,c.relatedTarget=d,f=c),d=f,o&&u)e:{for(m=u,p=0,h=c=o;h;h=Yr(h))p++;for(h=0,f=m;f;f=Yr(f))h++;for(;0<p-h;)c=Yr(c),p--;for(;0<h-p;)m=Yr(m),h--;for(;p--;){if(c===m||null!==m&&c===m.alternate)break e;c=Yr(c),m=Yr(m)}c=null}else c=null;null!==o&&Gr(i,l,o,c,!1),null!==u&&null!==d&&Gr(i,d,u,c,!0)}if("select"===(o=(l=r?vs(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=Kn;else if(Hn(l))if(Jn)g=ir;else{g=sr;var x=rr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(i,g,n,s):(x&&x(e,l,r),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=r?vs(r):window,e){case"focusin":(Hn(x)||"true"===x.contentEditable)&&(gr=x,xr=r,yr=null);break;case"focusout":yr=xr=gr=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,vr(i,n,s);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(i,n,s)}var y;if(_n)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else qn?zn(e,n)&&(D="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(D="onCompositionStart");D&&(On&&"ko"!==n.locale&&(qn||"onCompositionStart"!==D?"onCompositionEnd"===D&&qn&&(y=en()):(Xt="value"in(Jt=s)?Jt.value:Jt.textContent,qn=!0)),0<(x=$r(r,D)).length&&(D=new vn(D,e,null,n,s),i.push({event:D,listeners:x}),y?D.data=y:null!==(y=Un(n))&&(D.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Mn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Mn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!_n&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(s=new vn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Lr(i,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Te(e,n))&&r.unshift(Wr(e,a,s)),null!=(a=Te(e,t))&&r.push(Wr(e,a,s))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,u=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==u&&(l=u,s?null!=(o=Te(n,a))&&i.unshift(Wr(n,o,l)):s||null!=(o=Te(n,a))&&i.push(Wr(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Kr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(ls)}:rs;function ls(e){setTimeout(function(){throw e})}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);qt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),ms="__reactFiber$"+ds,hs="__reactProps$"+ds,ps="__reactContainer$"+ds,fs="__reactEvents$"+ds,gs="__reactListeners$"+ds,xs="__reactHandles$"+ds;function ys(e){var t=e[ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[ms])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function Ds(e){return!(e=e[ms]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bs(e){return e[hs]||null}var js=[],ws=-1;function Ns(e){return{current:e}}function Cs(e){0>ws||(e.current=js[ws],js[ws]=null,ws--)}function Fs(e,t){ws++,js[ws]=e.current,e.current=t}var Es={},ks=Ns(Es),As=Ns(!1),Ss=Es;function Bs(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ts(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ps(){Cs(As),Cs(ks)}function _s(e,t,n){if(ks.current!==Es)throw Error(a(168));Fs(ks,t),Fs(As,n)}function Rs(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,V(e)||"Unknown",s));return O({},n,r)}function Is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Ss=ks.current,Fs(ks,e),Fs(As,As.current),!0}function Os(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Rs(e,t,Ss),r.__reactInternalMemoizedMergedChildContext=e,Cs(As),Cs(ks),Fs(ks,e)):Cs(As),Fs(As,n)}var Ls=null,Ms=!1,zs=!1;function Us(e){null===Ls?Ls=[e]:Ls.push(e)}function qs(){if(!zs&&null!==Ls){zs=!0;var e=0,t=Dt;try{var n=Ls;for(Dt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ls=null,Ms=!1}catch(s){throw null!==Ls&&(Ls=Ls.slice(e+1)),Ye(Ze,qs),s}finally{Dt=t,zs=!1}}return null}var Vs=[],Hs=0,Ws=null,$s=0,Ys=[],Gs=0,Qs=null,Ks=1,Js="";function Xs(e,t){Vs[Hs++]=$s,Vs[Hs++]=Ws,Ws=e,$s=t}function Zs(e,t,n){Ys[Gs++]=Ks,Ys[Gs++]=Js,Ys[Gs++]=Qs,Qs=e;var r=Ks;e=Js;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Ks=1<<32-it(t)+s|n<<s|r,Js=a+e}else Ks=1<<a|n<<s|r,Js=e}function ea(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ta(e){for(;e===Ws;)Ws=Vs[--Hs],Vs[Hs]=null,$s=Vs[--Hs],Vs[Hs]=null;for(;e===Qs;)Qs=Ys[--Gs],Ys[Gs]=null,Js=Ys[--Gs],Ys[Gs]=null,Ks=Ys[--Gs],Ys[Gs]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=Bu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qs?{id:Ks,overflow:Js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(sa){var t=ra;if(t){var n=t;if(!la(e,t)){if(oa(e))throw Error(a(418));t=us(n.nextSibling);var r=na;t&&la(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!sa)return ca(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=us(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?us(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ra;e;)e=us(e.nextSibling)}function ha(){ra=na=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=v.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function Da(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Ou(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ya(a)===t.type)?((r=s(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=_u(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ou(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=_u(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case j:return(t=Lu(t,e.mode,n)).return=e,t;case T:return m(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===s?u(e,t,n,r):null;case j:return n.key===s?c(e,t,n,r):null;case T:return h(e,t,(s=n._init)(n._payload),r)}if(te(n)||R(n))return null!==s?null:d(e,t,n,r,null);xa(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case T:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,s,null);xa(t,r)}return null}function f(s,a,l,o){for(var u=null,c=null,d=a,f=a=0,g=null;null!==d&&f<l.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var x=h(s,d,l[f],o);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(s,d),a=i(x,a,f),null===c?u=x:c.sibling=x,c=x,d=g}if(f===l.length)return n(s,d),sa&&Xs(s,f),u;if(null===d){for(;f<l.length;f++)null!==(d=m(s,l[f],o))&&(a=i(d,a,f),null===c?u=d:c.sibling=d,c=d);return sa&&Xs(s,f),u}for(d=r(s,d);f<l.length;f++)null!==(g=p(d,s,f,l[f],o))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),a=i(g,a,f),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(s,e)}),sa&&Xs(s,f),u}function g(s,l,o,u){var c=R(o);if("function"!==typeof c)throw Error(a(150));if(null==(o=c.call(o)))throw Error(a(151));for(var d=c=null,f=l,g=l=0,x=null,y=o.next();null!==f&&!y.done;g++,y=o.next()){f.index>g?(x=f,f=null):x=f.sibling;var D=h(s,f,y.value,u);if(null===D){null===f&&(f=x);break}e&&f&&null===D.alternate&&t(s,f),l=i(D,l,g),null===d?c=D:d.sibling=D,d=D,f=x}if(y.done)return n(s,f),sa&&Xs(s,g),c;if(null===f){for(;!y.done;g++,y=o.next())null!==(y=m(s,y.value,u))&&(l=i(y,l,g),null===d?c=y:d.sibling=y,d=y);return sa&&Xs(s,g),c}for(f=r(s,f);!y.done;g++,y=o.next())null!==(y=p(f,s,g,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),l=i(y,l,g),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),sa&&Xs(s,g),c}return function e(r,a,i,o){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case b:e:{for(var u=i.key,c=a;null!==c;){if(c.key===u){if((u=i.type)===w){if(7===c.tag){n(r,c.sibling),(a=s(c,i.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===T&&ya(u)===c.type){n(r,c.sibling),(a=s(c,i.props)).ref=ga(r,c,i),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===w?((a=Ru(i.props.children,r.mode,o,i.key)).return=r,r=a):((o=_u(i.type,i.key,i.props,null,r.mode,o)).ref=ga(r,a,i),o.return=r,r=o)}return l(r);case j:e:{for(c=i.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Lu(i,r.mode,o)).return=r,r=a}return l(r);case T:return e(r,a,(c=i._init)(i._payload),o)}if(te(i))return f(r,a,i,o);if(R(i))return g(r,a,i,o);xa(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Ou(i,r.mode,o)).return=r,r=a),l(r)):n(r,a)}}var va=Da(!0),ba=Da(!1),ja=Ns(null),wa=null,Na=null,Ca=null;function Fa(){Ca=Na=wa=null}function Ea(e){var t=ja.current;Cs(ja),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){wa=e,Ca=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===wa)throw Error(a(308));Na=e,wa.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Ba=null;function Ta(e){null===Ba?Ba=[e]:Ba.push(e)}function Pa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ta(t)):(n.next=s.next,s.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ko)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_a(e,n)}return null===(s=r.interleaved)?(t.next=t,Ta(r)):(t.next=s.next,s.next=t),r.interleaved=t,_a(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var s=e.updateQueue;Ra=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var o=l,u=o.next;o.next=null,null===i?a=u:i.next=u,i=o;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=o))}if(null!==a){var d=s.baseState;for(i=0,c=u=o=null,l=a;;){var m=l.lane,h=l.eventTime;if((r&m)===m){null!==c&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,f=l;switch(m=t,h=n,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(h,d,m);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,d,m):p)||void 0===m)break e;d=O({},d,m);break e;case 2:Ra=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=h,o=d):c=c.next=h,i|=m;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(m=l).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===c&&(o=d),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Io|=i,e.lanes=i,e.memoizedState=d}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ha={},Wa=Ns(Ha),$a=Ns(Ha),Ya=Ns(Ha);function Ga(e){if(e===Ha)throw Error(a(174));return e}function Qa(e,t){switch(Fs(Ya,t),Fs($a,e),Fs(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(Wa),Fs(Wa,t)}function Ka(){Cs(Wa),Cs($a),Cs(Ya)}function Ja(e){Ga(Ya.current);var t=Ga(Wa.current),n=oe(t,e.type);t!==n&&(Fs($a,e),Fs(Wa,n))}function Xa(e){$a.current===e&&(Cs(Wa),Cs($a))}var Za=Ns(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=v.ReactCurrentDispatcher,si=v.ReactCurrentBatchConfig,ai=0,ii=null,li=null,oi=null,ui=!1,ci=!1,di=0,mi=0;function hi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,s),ci){i=0;do{if(ci=!1,di=0,25<=i)throw Error(a(301));i+=1,oi=li=null,t.updateQueue=null,ri.current=el,e=n(r,s)}while(ci)}if(ri.current=Ji,t=null!==li&&null!==li.next,ai=0,oi=li=ii=null,ui=!1,t)throw Error(a(300));return e}function gi(){var e=0!==di;return di=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function yi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function Di(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=li,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var o=l=null,u=null,c=i;do{var d=c.lane;if((ai&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(o=u=m,l=r):u=u.next=m,ii.lanes|=d,Io|=d}c=c.next}while(null!==c&&c!==i);null===u?l=r:u.next=o,lr(r,t.memoizedState)||(yl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Io|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var l=s=s.next;do{i=e(i,l.action),l=l.next}while(l!==s);lr(i,t.memoizedState)||(yl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function wi(e,t){var n=ii,r=yi(),s=t(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,yl=!0),r=r.queue,Ri(Fi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(n.flags|=2048,Si(9,Ci.bind(null,n,r,s,t),void 0,null),null===Ao)throw Error(a(349));0!==(30&ai)||Ni(n,t,s)}return s}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ci(e,t,n,r){t.value=n,t.getSnapshot=r,Ei(t)&&ki(e)}function Fi(e,t,n){return n(function(){Ei(t)&&ki(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function ki(e){var t=_a(e,1);null!==t&&nu(t,e,1,-1)}function Ai(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function Si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bi(){return yi().memoizedState}function Ti(e,t,n,r){var s=xi();ii.flags|=e,s.memoizedState=Si(1|t,n,void 0,void 0===r?null:r)}function Pi(e,t,n,r){var s=yi();r=void 0===r?null:r;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(s.memoizedState=Si(t,n,a,r))}ii.flags|=e,s.memoizedState=Si(1|t,n,a,r)}function _i(e,t){return Ti(8390656,8,e,t)}function Ri(e,t){return Pi(2048,8,e,t)}function Ii(e,t){return Pi(4,2,e,t)}function Oi(e,t){return Pi(4,4,e,t)}function Li(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4,4,Li.bind(null,t,e),n)}function zi(){}function Ui(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vi(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=n):(lr(n,t)||(n=ft(),ii.lanes|=n,Io|=n,e.baseState=!0),t)}function Hi(e,t){var n=Dt;Dt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{Dt=n,si.transition=r}}function Wi(){return yi().memoizedState}function $i(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))Qi(t,n);else if(null!==(n=Pa(e,t,n,r))){nu(n,e,r,eu()),Ki(n,t,r)}}function Yi(e,t,n){var r=tu(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Qi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,lr(l,i)){var o=t.interleaved;return null===o?(s.next=s,Ta(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(u){}null!==(n=Pa(e,t,s,r))&&(nu(n,e,r,s=eu()),Ki(n,t,r))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){ci=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ki(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ji={readContext:Sa,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:Sa,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:_i,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,Li.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$i.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ai,useDebugValue:zi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Hi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=xi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ao)throw Error(a(349));0!==(30&ai)||Ni(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,_i(Fi.bind(null,r,i,e),[e]),r.flags|=2048,Si(9,Ci.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=Ao.identifierPrefix;if(sa){var n=Js;t=":"+t+"R"+(n=(Ks&~(1<<32-it(Ks)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Sa,useCallback:Ui,useContext:Sa,useEffect:Ri,useImperativeHandle:Mi,useInsertionEffect:Ii,useLayoutEffect:Oi,useMemo:qi,useReducer:vi,useRef:Bi,useState:function(){return vi(Di)},useDebugValue:zi,useDeferredValue:function(e){return Vi(yi(),li.memoizedState,e)},useTransition:function(){return[vi(Di)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:wi,useId:Wi,unstable_isNewReconciler:!1},el={readContext:Sa,useCallback:Ui,useContext:Sa,useEffect:Ri,useImperativeHandle:Mi,useInsertionEffect:Ii,useLayoutEffect:Oi,useMemo:qi,useReducer:bi,useRef:Bi,useState:function(){return bi(Di)},useDebugValue:zi,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:Vi(t,li.memoizedState,e)},useTransition:function(){return[bi(Di)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:wi,useId:Wi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),s=tu(e),a=La(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,s))&&(nu(t,e,s,r),za(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),s=tu(e),a=La(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,s))&&(nu(t,e,s,r),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),s=La(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ma(e,s,r))&&(nu(t,e,r,n),za(t,e,r))}};function sl(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(s,a))}function al(e,t,n){var r=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(s=Ts(t)?Ss:ks.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Bs(e,s):Es),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function il(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Sa(a):(a=Ts(t)?Ss:ks.current,s.context=Bs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(nl(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&rl.enqueueReplaceState(s,s.state,null),qa(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dl="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,Wo=r),cl(0,t)},n}function hl(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){cl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){cl(0,t),"function"!==typeof r&&(null===$o?$o=new Set([this]):$o.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function fl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Ma(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var xl=v.ReactCurrentOwner,yl=!1;function Dl(e,t,n,r){t.child=null===e?ba(t,null,n,r):va(t,e.child,n,r)}function vl(e,t,n,r,s){n=n.render;var a=t.ref;return Aa(t,s),r=fi(e,t,n,r,a,s),n=gi(),null===e||yl?(sa&&n&&ea(t),t.flags|=1,Dl(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vl(e,t,s))}function bl(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Tu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_u(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,jl(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return Vl(e,t,s)}return t.flags|=1,(e=Pu(a,r)).ref=t.ref,e.return=t,t.child=e}function jl(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(yl=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Vl(e,t,s);0!==(131072&e.flags)&&(yl=!0)}}return Cl(e,t,n,r,s)}function wl(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fs(Po,To),To|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fs(Po,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Fs(Po,To),To|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fs(Po,To),To|=r;return Dl(e,t,s,n),t.child}function Nl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,r,s){var a=Ts(n)?Ss:ks.current;return a=Bs(t,a),Aa(t,s),n=fi(e,t,n,r,a,s),r=gi(),null===e||yl?(sa&&r&&ea(t),t.flags|=1,Dl(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vl(e,t,s))}function Fl(e,t,n,r,s){if(Ts(n)){var a=!0;Is(t)}else a=!1;if(Aa(t,s),null===t.stateNode)ql(e,t),al(t,n,r),ll(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=Sa(u):u=Bs(t,u=Ts(n)?Ss:ks.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||o!==u)&&il(t,i,r,u),Ra=!1;var m=t.memoizedState;i.state=m,qa(t,r,i,s),o=t.memoizedState,l!==r||m!==o||As.current||Ra?("function"===typeof c&&(nl(t,n,c,r),o=t.memoizedState),(l=Ra||sl(t,n,l,r,m,o,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=u,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Oa(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tl(t.type,l),i.props=u,d=t.pendingProps,m=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=Sa(o):o=Bs(t,o=Ts(n)?Ss:ks.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||m!==o)&&il(t,i,r,o),Ra=!1,m=t.memoizedState,i.state=m,qa(t,r,i,s);var p=t.memoizedState;l!==d||m!==p||As.current||Ra?("function"===typeof h&&(nl(t,n,h,r),p=t.memoizedState),(u=Ra||sl(t,n,u,r,m,p,o)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=o,r=u):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,n,r,a,s)}function El(e,t,n,r,s,a){Nl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Os(t,n,!1),Vl(e,t,a);r=t.stateNode,xl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=va(t,e.child,null,a),t.child=va(t,null,l,a)):Dl(e,t,l,a),t.memoizedState=r.state,s&&Os(t,n,!0),t.child}function kl(e){var t=e.stateNode;t.pendingContext?_s(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_s(0,t.context,!1),Qa(e,t.containerInfo)}function Al(e,t,n,r,s){return ha(),pa(s),t.flags|=256,Dl(e,t,n,r),t.child}var Sl,Bl,Tl,Pl,_l={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Il(e,t,n){var r,s=t.pendingProps,i=Za.current,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Fs(Za,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Iu(o,s,0,null),e=Ru(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Rl(n),t.memoizedState=_l,e):Ol(t,o));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,l){if(n)return 256&t.flags?(t.flags&=-257,Ll(e,t,l,r=ul(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Iu({mode:"visible",children:r.children},s,0,null),(i=Ru(i,s,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&va(t,e.child,null,l),t.child.memoizedState=Rl(l),t.memoizedState=_l,i);if(0===(1&t.mode))return Ll(e,t,l,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,Ll(e,t,l,r=ul(i=Error(a(419)),r,void 0))}if(o=0!==(l&e.childLanes),yl||o){if(null!==(r=Ao)){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|l))?0:s)&&s!==i.retryLane&&(i.retryLane=s,_a(e,s),nu(r,e,s,-1))}return fu(),Ll(e,t,l,r=ul(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=us(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ys[Gs++]=Ks,Ys[Gs++]=Js,Ys[Gs++]=Qs,Ks=e.id,Js=e.overflow,Qs=t),t=Ol(t,r.children),t.flags|=4096,t)}(e,t,o,s,r,i,n);if(l){l=s.fallback,o=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=u,t.deletions=null):(s=Pu(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Pu(r,l):(l=Ru(l,o,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=null===(o=e.child.memoizedState)?Rl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=_l,s}return e=(l=e.child).sibling,s=Pu(l,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ol(e,t){return(t=Iu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ll(e,t,n,r){return null!==r&&pa(r),va(t,e.child,null,n),(e=Ol(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ml(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function zl(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ul(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Dl(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ml(e,n,t);else if(19===e.tag)Ml(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fs(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zl(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zl(t,!0,n,null,a);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Io|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $l(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return Ts(t.type)&&Ps(),Wl(t),null;case 3:return r=t.stateNode,Ka(),Cs(As),Cs(ks),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(iu(aa),aa=null))),Bl(e,t),Wl(t),null;case 5:Xa(t);var s=Ga(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)Tl(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wl(t),null}if(e=Ga(Wa.current),da(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ms]=t,r[hs]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(s=0;s<Rr.length;s++)Mr(Rr[s],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":K(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":se(r,i),Mr("invalid",r)}for(var o in ye(n,i),s=null,i)if(i.hasOwnProperty(o)){var u=i[o];"children"===o?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,u,e),s=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,u,e),s=["children",""+u]):l.hasOwnProperty(o)&&null!=u&&"onScroll"===o&&Mr("scroll",r)}switch(n){case"input":$(r),Z(r,i,!0);break;case"textarea":$(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ms]=t,e[hs]=r,Sl(e,t,!1,!1),t.stateNode=e;e:{switch(o=De(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),s=r;break;case"iframe":case"object":case"embed":Mr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rr.length;s++)Mr(Rr[s],e);s=r;break;case"source":Mr("error",e),s=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),s=r;break;case"details":Mr("toggle",e),s=r;break;case"input":K(e,r),s=Q(e,r),Mr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=O({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Mr("invalid",e)}for(i in ye(n,s),u=s)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&me(e,c):"number"===typeof c&&me(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Mr("scroll",e):null!=c&&D(e,i,c,o))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)Pl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ga(Ya.current),Ga(Wa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[ms]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ms]=t,t.stateNode=r}return Wl(t),null;case 13:if(Cs(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ms]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),i=!1}else null!==aa&&(iu(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===_o&&(_o=3):fu())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return Ka(),Bl(e,t),null===e&&qr(t.stateNode.containerInfo),Wl(t),null;case 10:return Ea(t.type._context),Wl(t),null;case 19:if(Cs(Za),null===(i=t.memoizedState))return Wl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Hl(i,!1);else{if(0!==_o||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Hl(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fs(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>qo&&(t.flags|=128,r=!0,Hl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!sa)return Wl(t),null}else 2*Je()-i.renderingStartTime>qo&&1073741824!==n&&(t.flags|=128,r=!0,Hl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=Za.current,Fs(Za,r?1&n|2:1&n),t):(Wl(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&To)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(ta(t),t.tag){case 1:return Ts(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ka(),Cs(As),Cs(ks),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Cs(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(Za),null;case 4:return Ka(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Sl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bl=function(){},Tl=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ga(Wa.current);var a,i=null;switch(n){case"input":s=Q(e,s),r=Q(e,r),i=[];break;case"select":s=O({},s,{value:void 0}),r=O({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(o=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(null!=u||null!=o))if("style"===c)if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,o=o?o.__html:void 0,null!=u&&o!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Mr("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Pl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gl=!1,Ql=!1,Kl="function"===typeof WeakSet?WeakSet:Set,Jl=null;function Xl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nu(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){Nu(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Zl(t,n,a)}s=s.next}while(s!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[fs],delete t[gs],delete t[xs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var uo=null,co=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(l){}switch(n.tag){case 5:Ql||Xl(n,t);case 6:var r=uo,s=co;uo=null,mo(e,t,n),co=s,null!==(uo=r)&&(co?(e=uo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uo.removeChild(n.stateNode));break;case 18:null!==uo&&(co?(e=uo,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),qt(e)):os(uo,n.stateNode));break;case 4:r=uo,s=co,uo=n.stateNode.containerInfo,co=!0,mo(e,t,n),uo=r,co=s;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&Zl(n,t,i),s=s.next}while(s!==r)}mo(e,t,n);break;case 1:if(!Ql&&(Xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Nu(n,t,l)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ql=(r=Ql)||null!==n.memoizedState,mo(e,t,n),Ql=r):mo(e,t,n);break;default:mo(e,t,n)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Kl),t.forEach(function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:uo=o.stateNode,co=!1;break e;case 3:case 4:uo=o.stateNode.containerInfo,co=!0;break e}o=o.return}if(null===uo)throw Error(a(160));ho(i,l,s),uo=null,co=!1;var u=s.alternate;null!==u&&(u.return=null),s.return=null}catch(c){Nu(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),xo(e),4&r){try{to(3,e,e.return),no(3,e)}catch(g){Nu(e,e.return,g)}try{to(5,e,e.return)}catch(g){Nu(e,e.return,g)}}break;case 1:fo(t,e),xo(e),512&r&&null!==n&&Xl(n,n.return);break;case 5:if(fo(t,e),xo(e),512&r&&null!==n&&Xl(n,n.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(g){Nu(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===o&&"radio"===i.type&&null!=i.name&&J(s,i),De(o,l);var c=De(o,i);for(l=0;l<u.length;l+=2){var d=u[l],m=u[l+1];"style"===d?ge(s,m):"dangerouslySetInnerHTML"===d?de(s,m):"children"===d?me(s,m):D(s,d,m,c)}switch(o){case"input":X(s,i);break;case"textarea":ae(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(g){Nu(e,e.return,g)}}break;case 6:if(fo(t,e),xo(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Nu(e,e.return,g)}}break;case 3:if(fo(t,e),xo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Nu(e,e.return,g)}break;case 4:default:fo(t,e),xo(e);break;case 13:fo(t,e),xo(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Uo=Je())),4&r&&po(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ql=(c=Ql)||d,fo(t,e),Ql=c):fo(t,e),xo(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Jl=e,d=e.child;null!==d;){for(m=Jl=d;null!==Jl;){switch(p=(h=Jl).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xl(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nu(r,n,g)}}break;case 5:Xl(h,h.return);break;case 22:if(null!==h.memoizedState){bo(m);continue}}null!==p?(p.return=h,Jl=p):bo(m)}d=d.sibling}e:for(d=null,m=e;;){if(5===m.tag){if(null===d){d=m;try{s=m.stateNode,c?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(u=m.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,o.style.display=fe("display",l))}catch(g){Nu(e,e.return,g)}}}else if(6===m.tag){if(null===d)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(g){Nu(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fo(t,e),xo(e),4&r&&po(e);case 21:}}function xo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ao(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(me(s,""),r.flags&=-33),oo(e,io(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(a(161))}}catch(l){Nu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,n){Jl=e,Do(e,t,n)}function Do(e,t,n){for(var r=0!==(1&e.mode);null!==Jl;){var s=Jl,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Gl;if(!i){var l=s.alternate,o=null!==l&&null!==l.memoizedState||Ql;l=Gl;var u=Ql;if(Gl=i,(Ql=o)&&!u)for(Jl=s;null!==Jl;)o=(i=Jl).child,22===i.tag&&null!==i.memoizedState?jo(s):null!==o?(o.return=i,Jl=o):jo(s);for(;null!==a;)Jl=a,Do(a,t,n),a=a.sibling;Jl=s,Gl=l,Ql=u}vo(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Jl=a):vo(e)}}function vo(e){for(;null!==Jl;){var t=Jl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ql||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ql)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var m=d.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(a(163))}Ql||512&t.flags&&ro(t)}catch(h){Nu(t,t.return,h)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function bo(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function jo(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){Nu(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(o){Nu(t,s,o)}}var a=t.return;try{ro(t)}catch(o){Nu(t,a,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){Nu(t,i,o)}}}catch(o){Nu(t,t.return,o)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var wo,No=Math.ceil,Co=v.ReactCurrentDispatcher,Fo=v.ReactCurrentOwner,Eo=v.ReactCurrentBatchConfig,ko=0,Ao=null,So=null,Bo=0,To=0,Po=Ns(0),_o=0,Ro=null,Io=0,Oo=0,Lo=0,Mo=null,zo=null,Uo=0,qo=1/0,Vo=null,Ho=!1,Wo=null,$o=null,Yo=!1,Go=null,Qo=0,Ko=0,Jo=null,Xo=-1,Zo=0;function eu(){return 0!==(6&ko)?Je():-1!==Xo?Xo:Xo=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&ko)&&0!==Bo?Bo&-Bo:null!==fa.transition?(0===Zo&&(Zo=ft()),Zo):0!==(e=Dt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,r){if(50<Ko)throw Ko=0,Jo=null,Error(a(185));xt(e,n,r),0!==(2&ko)&&e===Ao||(e===Ao&&(0===(2&ko)&&(Oo|=n),4===_o&&lu(e,Bo)),ru(e,r),1===n&&0===ko&&0===(1&t.mode)&&(qo=Je()+500,Ms&&qs()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,o=s[i];-1===o?0!==(l&n)&&0===(l&r)||(s[i]=ht(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=mt(e,e===Ao?Bo:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ms=!0,Us(e)}(ou.bind(null,e)):Us(ou.bind(null,e)),is(function(){0===(6&ko)&&qs()}),n=null;else{switch(vt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Xo=-1,Zo=0,0!==(6&ko))throw Error(a(327));var n=e.callbackNode;if(ju()&&e.callbackNode!==n)return null;var r=mt(e,e===Ao?Bo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var s=ko;ko|=2;var i=pu();for(Ao===e&&Bo===t||(Vo=null,qo=Je()+500,mu(e,t));;)try{yu();break}catch(o){hu(e,o)}Fa(),Co.current=i,ko=s,null!==So?t=0:(Ao=null,Bo=0,t=_o)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=au(e,s))),1===t)throw n=Ro,mu(e,0),lu(e,r),ru(e,Je()),n;if(6===t)lu(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!lr(a(),s))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gu(e,r))&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t))throw n=Ro,mu(e,0),lu(e,r),ru(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bu(e,zo,Vo);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Uo+500-Je())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(bu.bind(null,e,zo,Vo),t);break}bu(e,zo,Vo);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>s&&(s=l),r&=~i}if(r=s,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*No(r/1960))-r)){e.timeoutHandle=rs(bu.bind(null,e,zo,Vo),r);break}bu(e,zo,Vo);break;default:throw Error(a(329))}}}return ru(e,Je()),e.callbackNode===n?su.bind(null,e):null}function au(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(mu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=zo,zo=n,null!==t&&iu(t)),e}function iu(e){null===zo?zo=e:zo.push.apply(zo,e)}function lu(e,t){for(t&=~Lo,t&=~Oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(0!==(6&ko))throw Error(a(327));ju();var t=mt(e,0);if(0===(1&t))return ru(e,Je()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ro,mu(e,0),lu(e,t),ru(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,zo,Vo),ru(e,Je()),null}function uu(e,t){var n=ko;ko|=1;try{return e(t)}finally{0===(ko=n)&&(qo=Je()+500,Ms&&qs())}}function cu(e){null!==Go&&0===Go.tag&&0===(6&ko)&&ju();var t=ko;ko|=1;var n=Eo.transition,r=Dt;try{if(Eo.transition=null,Dt=1,e)return e()}finally{Dt=r,Eo.transition=n,0===(6&(ko=t))&&qs()}}function du(){To=Po.current,Cs(Po)}function mu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==So)for(n=So.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ps();break;case 3:Ka(),Cs(As),Cs(ks),ni();break;case 5:Xa(r);break;case 4:Ka();break;case 13:case 19:Cs(Za);break;case 10:Ea(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ao=e,So=e=Pu(e.current,null),Bo=To=t,_o=0,Ro=null,Lo=Oo=Io=0,zo=Mo=null,null!==Ba){for(t=0;t<Ba.length;t++)if(null!==(r=(n=Ba[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Ba=null}return e}function hu(e,t){for(;;){var n=So;try{if(Fa(),ri.current=Ji,ui){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ui=!1}if(ai=0,oi=li=ii=null,ci=!1,di=0,Fo.current=null,null===n||null===n.return){_o=1,Ro=t,So=null;break}e:{var i=e,l=n.return,o=n,u=t;if(t=Bo,o.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=o,m=d.tag;if(0===(1&d.mode)&&(0===m||11===m||15===m)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=fl(l);if(null!==p){p.flags&=-257,gl(p,l,o,0,t),1&p.mode&&pl(i,c,t),u=c;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(u),t.updateQueue=g}else f.add(u);break e}if(0===(1&t)){pl(i,c,t),fu();break e}u=Error(a(426))}else if(sa&&1&o.mode){var x=fl(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),gl(x,l,o,0,t),pa(ol(u,o));break e}}i=u=ol(u,o),4!==_o&&(_o=2),null===Mo?Mo=[i]:Mo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,ml(0,u,t));break e;case 1:o=u;var y=i.type,D=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==D&&"function"===typeof D.componentDidCatch&&(null===$o||!$o.has(D)))){i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,hl(i,o,t));break e}}i=i.return}while(null!==i)}vu(n)}catch(v){t=v,So===n&&null!==n&&(So=n=n.return);continue}break}}function pu(){var e=Co.current;return Co.current=Ji,null===e?Ji:e}function fu(){0!==_o&&3!==_o&&2!==_o||(_o=4),null===Ao||0===(268435455&Io)&&0===(268435455&Oo)||lu(Ao,Bo)}function gu(e,t){var n=ko;ko|=2;var r=pu();for(Ao===e&&Bo===t||(Vo=null,mu(e,t));;)try{xu();break}catch(s){hu(e,s)}if(Fa(),ko=n,Co.current=r,null!==So)throw Error(a(261));return Ao=null,Bo=0,_o}function xu(){for(;null!==So;)Du(So)}function yu(){for(;null!==So&&!Qe();)Du(So)}function Du(e){var t=wo(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?vu(e):So=t,Fo.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$l(n,t,To)))return void(So=n)}else{if(null!==(n=Yl(n,t)))return n.flags&=32767,void(So=n);if(null===e)return _o=6,void(So=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(So=t);So=t=e}while(null!==t);0===_o&&(_o=5)}function bu(e,t,n){var r=Dt,s=Eo.transition;try{Eo.transition=null,Dt=1,function(e,t,n,r){do{ju()}while(null!==Go);if(0!==(6&ko))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Ao&&(So=Ao=null,Bo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yo||(Yo=!0,Au(tt,function(){return ju(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Eo.transition,Eo.transition=null;var l=Dt;Dt=1;var o=ko;ko|=4,Fo.current=null,function(e,t){if(es=Ht,hr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(b){n=null;break e}var l=0,o=-1,u=-1,c=0,d=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==s&&3!==m.nodeType||(o=l+s),m!==i||0!==r&&3!==m.nodeType||(u=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++c===s&&(o=l),h===i&&++d===r&&(u=l),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===o||-1===u?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,y=t.stateNode,D=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:tl(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(b){Nu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}f=eo,eo=!1}(e,n),go(n,e),pr(ts),Ht=!!es,ts=es=null,e.current=n,yo(n,e,s),Ke(),ko=o,Dt=l,Eo.transition=i}else e.current=n;if(Yo&&(Yo=!1,Go=e,Qo=s),i=e.pendingLanes,0===i&&($o=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,e=Wo,Wo=null,e;0!==(1&Qo)&&0!==e.tag&&ju(),i=e.pendingLanes,0!==(1&i)?e===Jo?Ko++:(Ko=0,Jo=e):Ko=0,qs()}(e,t,n,r)}finally{Eo.transition=s,Dt=r}return null}function ju(){if(null!==Go){var e=vt(Qo),t=Eo.transition,n=Dt;try{if(Eo.transition=null,Dt=16>e?16:e,null===Go)var r=!1;else{if(e=Go,Go=null,Qo=0,0!==(6&ko))throw Error(a(331));var s=ko;for(ko|=4,Jl=e.current;null!==Jl;){var i=Jl,l=i.child;if(0!==(16&Jl.flags)){var o=i.deletions;if(null!==o){for(var u=0;u<o.length;u++){var c=o[u];for(Jl=c;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var m=d.child;if(null!==m)m.return=d,Jl=m;else for(;null!==Jl;){var h=(d=Jl).sibling,p=d.return;if(so(d),d===c){Jl=null;break}if(null!==h){h.return=p,Jl=h;break}Jl=p}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Jl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Jl=l;else e:for(;null!==Jl;){if(0!==(2048&(i=Jl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Jl=y;break e}Jl=i.return}}var D=e.current;for(Jl=D;null!==Jl;){var v=(l=Jl).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,Jl=v;else e:for(l=D;null!==Jl;){if(0!==(2048&(o=Jl).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(j){Nu(o,o.return,j)}if(o===l){Jl=null;break e}var b=o.sibling;if(null!==b){b.return=o.return,Jl=b;break e}Jl=o.return}}if(ko=s,qs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(j){}r=!0}return r}finally{Dt=n,Eo.transition=t}}return!1}function wu(e,t,n){e=Ma(e,t=ml(0,t=ol(n,t),1),1),t=eu(),null!==e&&(xt(e,1,t),ru(e,t))}function Nu(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$o||!$o.has(r))){t=Ma(t,e=hl(t,e=ol(n,e),1),1),e=eu(),null!==t&&(xt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ao===e&&(Bo&n)===n&&(4===_o||3===_o&&(130023424&Bo)===Bo&&500>Je()-Uo?mu(e,0):Lo|=n),ru(e,t)}function Fu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=_a(e,t))&&(xt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fu(e,n)}function ku(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Fu(e,n)}function Au(e,t){return Ye(e,t)}function Su(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(e,t,n,r){return new Su(e,t,n,r)}function Tu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Bu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _u(e,t,n,r,s,i){var l=2;if(r=e,"function"===typeof e)Tu(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case w:return Ru(n.children,s,i,t);case N:l=8,s|=8;break;case C:return(e=Bu(12,n,t,2|s)).elementType=C,e.lanes=i,e;case A:return(e=Bu(13,n,t,s)).elementType=A,e.lanes=i,e;case S:return(e=Bu(19,n,t,s)).elementType=S,e.lanes=i,e;case P:return Iu(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case F:l=10;break e;case E:l=9;break e;case k:l=11;break e;case B:l=14;break e;case T:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Bu(l,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Ru(e,t,n,r){return(e=Bu(7,e,r,t)).lanes=n,e}function Iu(e,t,n,r){return(e=Bu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Ou(e,t,n){return(e=Bu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Bu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mu(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,s,a,i,l,o){return e=new Mu(e,t,n,l,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Bu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Uu(e){if(!e)return Es;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ts(n))return Rs(e,n,t)}return t}function qu(e,t,n,r,s,a,i,l,o){return(e=zu(n,r,!0,e,0,a,0,l,o)).context=Uu(null),n=e.current,(a=La(r=eu(),s=tu(n))).callback=void 0!==t&&null!==t?t:null,Ma(n,a,s),e.current.lanes=s,xt(e,s,r),ru(e,r),e}function Vu(e,t,n,r){var s=t.current,a=eu(),i=tu(s);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ma(s,t,i))&&(nu(e,s,i,a),za(e,s,i)),i}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||As.current)yl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yl=!1,function(e,t,n){switch(t.tag){case 3:kl(t),ha();break;case 5:Ja(t);break;case 1:Ts(t.type)&&Is(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Fs(ja,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fs(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Il(e,t,n):(Fs(Za,1&Za.current),null!==(e=Vl(e,t,n))?e.sibling:null);Fs(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ul(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fs(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,wl(e,t,n)}return Vl(e,t,n)}(e,t,n);yl=0!==(131072&e.flags)}else yl=!1,sa&&0!==(1048576&t.flags)&&Zs(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var s=Bs(t,ks.current);Aa(t,n),s=fi(null,t,r,e,s,n);var i=gi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(i=!0,Is(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ia(t),s.updater=rl,t.stateNode=s,s._reactInternals=t,ll(t,r,e,n),t=El(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),Dl(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Tu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===B)return 14}return 2}(r),e=tl(r,e),s){case 0:t=Cl(null,t,r,e,n);break e;case 1:t=Fl(null,t,r,e,n);break e;case 11:t=vl(null,t,r,e,n);break e;case 14:t=bl(null,t,r,tl(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Cl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 1:return r=t.type,s=t.pendingProps,Fl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 3:e:{if(kl(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Oa(e,t),qa(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Al(e,t,r,n,s=ol(Error(a(423)),t));break e}if(r!==s){t=Al(e,t,r,n,s=ol(Error(a(424)),t));break e}for(ra=us(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=ba(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===s){t=Vl(e,t,n);break e}Dl(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ua(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,l=s.children,ns(r,s)?l=null:null!==i&&ns(r,i)&&(t.flags|=32),Nl(e,t),Dl(e,t,l,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Il(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=va(t,null,r,n):Dl(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,vl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 7:return Dl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Dl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Fs(ja,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===s.children&&!As.current){t=Vl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var u=o.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=La(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),ka(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),ka(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}Dl(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Aa(t,n),r=r(s=Sa(s)),t.flags|=1,Dl(e,t,r,n),t.child;case 14:return s=tl(r=t.type,t.pendingProps),bl(e,t,r,s=tl(r.type,s),n);case 15:return jl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tl(r,s),ql(e,t),t.tag=1,Ts(r)?(e=!0,Is(t)):e=!1,Aa(t,n),al(t,r,s),ll(t,r,s,n),El(null,t,r,!0,e,n);case 19:return Ul(e,t,n);case 22:return wl(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var l=s;s=function(){var e=Hu(i);l.call(e)}}Vu(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Hu(i);a.call(e)}}var i=qu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=i,e[ps]=i.current,qr(8===e.nodeType?e.parentNode:e),cu(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var l=r;r=function(){var e=Hu(o);l.call(e)}}var o=zu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=o,e[ps]=o.current,qr(8===e.nodeType?e.parentNode:e),cu(function(){Vu(t,o,n,r)}),o}(n,t,e,s,r);return Hu(i)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vu(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Vu(null,e,null,null)}),t[ps]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ot(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0===(6&ko)&&(qo=Je()+500,qs()))}break;case 13:cu(function(){var t=_a(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),$u(e,1)}},jt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)nu(t,e,134217728,eu());$u(e,134217728)}},wt=function(e){if(13===e.tag){var t=tu(e),n=_a(e,t);if(null!==n)nu(n,e,t,eu());$u(e,t)}},Nt=function(){return Dt},Ct=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bs(r);if(!s)throw Error(a(90));Y(r),X(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[Ds,vs,bs,Fe,Ee,uu]},tc={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{st=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(a(299));var n=!1,r="",s=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,qr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",l=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,s,0,i,l),e[ps]=t.current,qr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(a(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Decoder:()=>ns,Encoder:()=>es,PacketType:()=>Zr,protocol:()=>Xr});var s={};n.r(s),n.d(s,{boolean:()=>ea,booleanish:()=>ta,commaOrSpaceSeparated:()=>ia,commaSeparated:()=>aa,number:()=>ra,overloadedBoolean:()=>na,spaceSeparated:()=>sa});var a={};n.r(a),n.d(a,{attentionMarkers:()=>_l,contentInitial:()=>kl,disable:()=>Rl,document:()=>El,flow:()=>Sl,flowInitial:()=>Al,insideSpan:()=>Pl,string:()=>Bl,text:()=>Tl});var i,l=n(43),o=n.t(l,2),u=n(391),c=n(950),d=n.t(c,2);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const h="popstate";function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t,n,r){return void 0===n&&(n=null),m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?D(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function D(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,o=i.Pop,u=null,c=d();function d(){return(l.state||{idx:null}).idx}function f(){o=i.Pop;let e=d(),t=null==e?null:e-c;c=e,u&&u({action:o,location:v.location,delta:t})}function D(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:y(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,l.replaceState(m({},l.state,{idx:c}),""));let v={get action(){return o},get location(){return e(s,l)},listen(e){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(h,f),u=e,()=>{s.removeEventListener(h,f),u=null}},createHref:e=>t(s,e),createURL:D,encodeLocation(e){let t=D(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=i.Push;let r=x(v.location,e,t);n&&n(r,e),c=d()+1;let m=g(r,c),h=v.createHref(r);try{l.pushState(m,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}a&&u&&u({action:o,location:v.location,delta:1})},replace:function(e,t){o=i.Replace;let r=x(v.location,e,t);n&&n(r,e),c=d();let s=g(r,c),m=v.createHref(r);l.replaceState(s,"",m),a&&u&&u({action:o,location:v.location,delta:0})},go:e=>l.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=O(("string"===typeof t?D(t):t).pathname||"/",n);if(null==s)return null;let a=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let l=0;null==i&&l<a.length;++l){let e=I(s);i=_(a[l],e,r)}return i}function N(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(p(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=W([r,i.relativePath]),o=n.concat(i);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),N(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:P(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of C(e.path))s(e,t,r);else s(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=C(r.join("/")),l=[];return l.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const F=/^:[\w-]+$/,E=3,k=2,A=1,S=10,B=-2,T=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=B),t&&(r+=k),n.filter(e=>!T(e)).reduce((e,t)=>e+(F.test(t)?E:""===t?A:S),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},u),d=e.route;if(!c&&o&&n&&!r[r.length-1].route.index&&(c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(s,c.params),i.push({params:s,pathname:W([a,c.pathname]),pathnameBase:$(W([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=W([a,c.pathnameBase]))}return i}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1),o=r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=l[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[r]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:a,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function M(e,t){void 0===t&&(t="/");let n,{pathname:r,search:s="",hash:a=""}="string"===typeof e?D(e):e;if(r)if((e=>L.test(e))(r))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),f(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?z(r.substring(1),"/"):z(r,t)}else n=t;return{pathname:n,search:Y(s),hash:G(a)}}function z(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function U(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let n=q(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function H(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=D(e):(s=m({},e),p(!s.pathname||!s.pathname.includes("?"),U("?","pathname","search",s)),p(!s.pathname||!s.pathname.includes("#"),U("#","pathname","hash",s)),p(!s.search||!s.search.includes("#"),U("#","search","hash",s)));let a,i=""===e||""===s.pathname,l=i?"/":s.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let o=M(s,a),u=l&&"/"!==l&&l.endsWith("/"),c=(i||"."===l)&&n.endsWith("/");return o.pathname.endsWith("/")||!u&&!c||(o.pathname+="/"),o}const W=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],J=(new Set(K),["get",...K]);new Set(J),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}const Z=l.createContext(null);const ee=l.createContext(null);const te=l.createContext(null);const ne=l.createContext(null);const re=l.createContext({outlet:null,matches:[],isDataRoute:!1});const se=l.createContext(null);function ae(){return null!=l.useContext(ne)}function ie(){return ae()||p(!1),l.useContext(ne).location}function le(e){l.useContext(te).static||l.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=l.useContext(re);return e?function(){let{router:e}=De(xe.UseNavigateStable),t=be(ye.UseNavigateStable),n=l.useRef(!1);return le(()=>{n.current=!0}),l.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,X({fromRouteId:t},s)))},[e,t])}():function(){ae()||p(!1);let e=l.useContext(Z),{basename:t,future:n,navigator:r}=l.useContext(te),{matches:s}=l.useContext(re),{pathname:a}=ie(),i=JSON.stringify(V(s,n.v7_relativeSplatPath)),o=l.useRef(!1);le(()=>{o.current=!0});let u=l.useCallback(function(n,s){if(void 0===s&&(s={}),!o.current)return;if("number"===typeof n)return void r.go(n);let l=H(n,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:W([t,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)},[t,r,i,a,e]);return u}()}function ue(){let{matches:e}=l.useContext(re),t=e[e.length-1];return t?t.params:{}}function ce(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=l.useContext(te),{matches:s}=l.useContext(re),{pathname:a}=ie(),i=JSON.stringify(V(s,r.v7_relativeSplatPath));return l.useMemo(()=>H(e,JSON.parse(i),a,"path"===n),[e,i,a,n])}function de(e,t,n,r){ae()||p(!1);let{navigator:s}=l.useContext(te),{matches:a}=l.useContext(re),o=a[a.length-1],u=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,m=ie();if(t){var h;let e="string"===typeof t?D(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||p(!1),d=e}else d=m;let f=d.pathname||"/",g=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=j(e,{pathname:g});let y=ge(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:W([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:W([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&y?l.createElement(ne.Provider,{value:{location:X({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},y):y}function me(){let e=function(){var e;let t=l.useContext(se),n=ve(ye.UseRouteError),r=be(ye.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:s},n):null,null)}const he=l.createElement(me,null);class pe extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?l.createElement(re.Provider,{value:this.props.routeContext},l.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fe(e){let{routeContext:t,match:n,children:r}=e,s=l.useContext(Z);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(re.Provider,{value:t},r)}function ge(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(s=n)?void 0:s.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||p(!1),i=i.slice(0,Math.min(i.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let l=0;l<i.length;l++){let e=i[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=l),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){u=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,r,s)=>{let a,d=!1,m=null,h=null;var p;n&&(a=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||he,u&&(c<0&&0===s?(p="route-fallback",!1||je[p]||(je[p]=!0),d=!0,h=null):c===s&&(d=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,s+1)),g=()=>{let t;return t=a?m:d?h:r.route.Component?l.createElement(r.route.Component,null):r.route.element?r.route.element:e,l.createElement(fe,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?l.createElement(pe,{location:n.location,revalidation:n.revalidation,component:m,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var xe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xe||{}),ye=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ye||{});function De(e){let t=l.useContext(Z);return t||p(!1),t}function ve(e){let t=l.useContext(ee);return t||p(!1),t}function be(e){let t=function(){let e=l.useContext(re);return e||p(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}const je={};function we(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function Ne(e){let{to:t,replace:n,state:r,relative:s}=e;ae()||p(!1);let{future:a,static:i}=l.useContext(te),{matches:o}=l.useContext(re),{pathname:u}=ie(),c=oe(),d=H(t,V(o,a.v7_relativeSplatPath),u,"path"===s),m=JSON.stringify(d);return l.useEffect(()=>c(JSON.parse(m),{replace:n,state:r,relative:s}),[c,m,s,n,r]),null}function Ce(e){p(!1)}function Fe(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.Pop,navigator:a,static:o=!1,future:u}=e;ae()&&p(!1);let c=t.replace(/^\/*/,"/"),d=l.useMemo(()=>({basename:c,navigator:a,static:o,future:X({v7_relativeSplatPath:!1},u)}),[c,u,a,o]);"string"===typeof r&&(r=D(r));let{pathname:m="/",search:h="",hash:f="",state:g=null,key:x="default"}=r,y=l.useMemo(()=>{let e=O(m,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:g,key:x},navigationType:s}},[c,m,h,f,g,x,s]);return null==y?null:l.createElement(te.Provider,{value:d},l.createElement(ne.Provider,{children:n,value:y}))}function Ee(e){let{children:t,location:n}=e;return de(ke(t),n)}new Promise(()=>{});l.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return l.Children.forEach(e,(e,r)=>{if(!l.isValidElement(e))return;let s=[...t,r];if(e.type===l.Fragment)return void n.push.apply(n,ke(e.props.children,s));e.type!==Ce&&p(!1),e.props.index&&e.props.children&&p(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ke(e.props.children,s)),n.push(a)}),n}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Du){}new Map;const Te=o.startTransition;d.flushSync,o.useId;function Pe(e){let{basename:t,children:n,future:r,window:s}=e,a=l.useRef();var i;null==a.current&&(a.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),v(function(e,t){let{pathname:n="/",search:r="",hash:s=""}=D(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),x("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:y(t))},function(e,t){f("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},i)));let o=a.current,[u,c]=l.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},m=l.useCallback(e=>{d&&Te?Te(()=>c(e)):c(e)},[c,d]);return l.useLayoutEffect(()=>o.listen(m),[o,m]),l.useEffect(()=>we(r),[r]),l.createElement(Fe,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=l.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:i,state:o,target:u,to:c,preventScrollReset:d,viewTransition:m}=e,h=Se(e,Be),{basename:f}=l.useContext(te),g=!1;if("string"===typeof c&&Re.test(c)&&(n=c,_e))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=O(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:g=!0}catch(Du){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;ae()||p(!1);let{basename:r,navigator:s}=l.useContext(te),{hash:a,pathname:i,search:o}=ce(e,{relative:n}),u=i;return"/"!==r&&(u="/"===i?r:W([r,i])),s.createHref({pathname:u,search:o,hash:a})}(c,{relative:s}),D=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=void 0===t?{}:t,u=oe(),c=ie(),d=ce(e,{relative:i});return l.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:y(c)===y(d);u(e,{replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,u,d,r,s,n,e,a,i,o])}(c,{replace:i,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:m});return l.createElement("a",Ae({},h,{href:n||x,onClick:g||a?r:function(e){r&&r(e),e.defaultPrevented||D(e)},ref:t,target:u}))});var Oe,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function ze(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function Ue(e,t,n){return(t=ze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const He={NODE_ENV:"production",PUBLIC_URL:"/Tutor_Connect_Group2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api";const We=new class{constructor(){this.baseURL=He}getAuthToken(){return localStorage.getItem("token")}setAuthToken(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")}getHeaders(){const e={"Content-Type":"application/json"},t=this.getAuthToken();return t&&(e.Authorization="Bearer ".concat(t)),e}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=Ve({headers:this.getHeaders()},t);try{console.log("[API] ".concat(t.method||"GET"," ").concat(n));const s=await fetch(n,r),a=s.headers.get("X-New-Token");if(a&&(console.log("[API] Auto-refreshing token"),this.setAuthToken(a),r.headers.Authorization="Bearer ".concat(a)),!s.ok){const t=await s.json().catch(()=>({})),n=t.message||"HTTP Error: ".concat(s.status),r=new Error(n);if(r.statusCode=s.status,r.errors=t.errors,r.errorData=t,401===s.status)throw e.includes("/auth/login")||e.includes("/auth/register")?r:(this.setAuthToken(null),window.dispatchEvent(new CustomEvent("auth-error")),new Error("Authentication failed"));throw r}const i=await s.json();return console.log("[API] Response:",i),i}catch(s){if(console.error("[API] Error ".concat(t.method||"GET"," ").concat(n,":"),s),"TypeError"===s.name&&s.message.includes("fetch"))throw new Error("Unable to connect to server. Please check your internet connection.");throw s}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ve({method:"GET"},t);if(t.params){const r=new URLSearchParams(t.params),s=e.includes("?")?"&":"?";e=e+s+r.toString(),delete n.params}return this.request(e,n)}async post(e,t){return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async patch(e,t){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}async upload(e,t){const n="".concat(this.baseURL).concat(e),r={},s=this.getAuthToken();s&&(r.Authorization="Bearer ".concat(s));try{const e=await fetch(n,{method:"POST",headers:r,body:t});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||"Upload failed: ".concat(e.status))}return await e.json()}catch(a){throw console.error("[API] Upload error:",a),a}}},$e=We;const Ye=new class{async register(e){try{const t={email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,role:e.role||"student"};e.phone&&e.phone.trim()&&(t.phone=e.phone),e.dateOfBirth&&e.dateOfBirth.trim()&&(t.dateOfBirth=e.dateOfBirth),e.address&&e.address.trim()&&(t.address=e.address),e.pincode&&e.pincode.trim()&&(t.pincode=e.pincode);const n=await $e.post("/auth/register",t);return n.token&&$e.setAuthToken(n.token),n}catch(t){throw console.error("[AuthService] Registration failed:",t),t}}async login(e,t){try{const n=await $e.post("/auth/login",{email:e,password:t});return n.token&&$e.setAuthToken(n.token),n}catch(n){throw console.error("[AuthService] Login failed:",n),n}}async logout(){try{await $e.post("/auth/logout")}catch(e){console.error("[AuthService] Logout API call failed:",e)}finally{$e.setAuthToken(null)}}async verifyToken(){try{return await $e.get("/auth/verify")}catch(e){throw console.error("[AuthService] Token verification failed:",e),$e.setAuthToken(null),e}}async getCurrentUser(){try{return(await $e.get("/auth/profile")).user}catch(e){throw console.error("[AuthService] Get current user failed:",e),e}}async updateProfile(e){try{return await $e.put("/users/profile",e)}catch(t){throw console.error("[AuthService] Profile update failed:",t),t}}isAuthenticated(){return!!$e.getAuthToken()}getToken(){return $e.getAuthToken()}async requestPasswordReset(e){try{return await $e.post("/auth/forgot-password",{email:e})}catch(t){throw console.error("[AuthService] Password reset request failed:",t),t}}async resetPassword(e,t){try{return await $e.post("/auth/reset-password",{token:e,password:t})}catch(n){throw console.error("[AuthService] Password reset failed:",n),n}}};const Ge=new class{async getTutors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t;const n=new URLSearchParams;e.subject&&n.append("subject",e.subject),e.priceRange&&Array.isArray(e.priceRange)&&(n.append("minRate",e.priceRange[0]),n.append("maxRate",e.priceRange[1])),e.minRate&&n.append("minRate",e.minRate),e.maxRate&&n.append("maxRate",e.maxRate),(e.rating||e.minRating)&&n.append("minRating",null!==(t=e.rating)&&void 0!==t?t:e.minRating),e.search&&n.append("search",e.search);const r="/tutors".concat(n.toString()?"?".concat(n.toString()):""),s=await $e.get(r);return s.tutors||s}catch(n){throw console.error("[TutorService] Get tutors failed:",n),n}}async getTutorById(e){try{const t=await $e.get("/tutors/".concat(e));return t.tutor||t}catch(t){throw console.error("[TutorService] Get tutor by ID failed:",t),t}}async getTutorDetails(e){try{return await $e.get("/tutors/".concat(e,"/details"))}catch(t){throw console.error("[TutorService] Get tutor details failed:",t),t}}async getTutorSubjects(e){try{const t=await $e.get("/tutors/".concat(e,"/subjects"));return t.subjects||t}catch(t){throw console.error("[TutorService] Get tutor subjects failed:",t),t}}async getTutorReviews(e){try{const t=await $e.get("/tutors/".concat(e,"/reviews"));return t.reviews||t}catch(t){throw console.error("[TutorService] Get tutor reviews failed:",t),t}}async searchTutors(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=Ve(Ve({},t),{},{search:e});return await this.getTutors(n)}catch(n){throw console.error("[TutorService] Search tutors failed:",n),n}}async getSubjects(){try{const e=await $e.get("/subjects");return e.subjects||e}catch(e){throw console.error("[TutorService] Get subjects failed:",e),e}}async updateTutorProfile(e,t){try{return await $e.put("/users/".concat(e),t)}catch(n){throw console.error("[TutorService] Update tutor profile failed:",n),n}}async addSubject(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"intermediate";try{return await $e.post("/tutors/".concat(e,"/subjects"),{subjectId:t,proficiencyLevel:n})}catch(r){throw console.error("[TutorService] Add subject failed:",r),r}}async removeSubject(e,t){try{return await $e.delete("/tutors/".concat(e,"/subjects/").concat(t))}catch(n){throw console.error("[TutorService] Remove subject failed:",n),n}}async updateAvailability(){throw new Error("Use availabilityService to manage availability slots.")}async getTutorAvailability(e){try{const t=await $e.get("/tutors/".concat(e,"/availability"));return t.availability||t}catch(t){throw console.error("[TutorService] Get tutor availability failed:",t),t}}async getTutorStats(e){try{const t=await $e.get("/tutors/".concat(e,"/stats"));return t.stats||t}catch(t){throw console.error("[TutorService] Get tutor stats failed:",t),t}}async getTutorDashboard(e){try{const t=await $e.get("/tutors/dashboard/".concat(e));return t.dashboard||t}catch(t){throw console.error("[TutorService] Get tutor dashboard failed:",t),t}}async getTutorAnalytics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.period&&n.append("period",t.period);const r="/tutors/analytics/".concat(e).concat(n.toString()?"?".concat(n.toString()):""),s=await $e.get(r);return s.analytics||s}catch(n){throw console.error("[TutorService] Get tutor analytics failed:",n),n}}async refreshStatistics(e){try{return await $e.post("/tutors/".concat(e,"/refresh-stats"))}catch(t){throw console.error("[TutorService] Refresh statistics failed:",t),t}}};const Qe=new class{async getAvailability(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.date&&n.append("date",t.date),t.weekStart&&n.append("weekStart",t.weekStart),void 0!==t.includeBooked&&n.append("includeBooked",t.includeBooked);const r=n.toString(),s="/availability/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching availability:",n),n}}async getAvailableTimeSlots(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.date&&n.append("date",t.date),t.duration&&n.append("duration",t.duration);const r=n.toString(),s="/availability/".concat(e,"/slots").concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching available time slots:",n),n}}async getAvailabilityOverview(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.startDate&&n.append("startDate",t.startDate),t.endDate&&n.append("endDate",t.endDate),t.duration&&n.append("duration",t.duration);const r=n.toString(),s="/availability/".concat(e,"/overview").concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching availability overview:",n),n}}async createRecurringSlot(e,t){try{return await $e.post("/availability/".concat(e,"/recurring"),t)}catch(n){throw console.error("Error creating recurring availability slot:",n),n}}async updateSlot(e,t,n){try{return await $e.put("/availability/".concat(e,"/slots/").concat(t),n)}catch(r){throw console.error("Error updating availability slot:",r),r}}async deleteSlot(e,t){try{return await $e.delete("/availability/".concat(e,"/slots/").concat(t))}catch(n){throw console.error("Error deleting availability slot:",n),n}}async bulkUpdateSlots(e,t){try{throw new Error("Not implemented: bulk update slots")}catch(n){throw console.error("Error bulk updating availability slots:",n),n}}async createSlot(e,t){return this.createRecurringSlot(e,t)}};const Ke=new class{async getSessions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.subjectId&&t.append("subjectId",e.subjectId),e.type&&t.append("type",e.type);const n="/sessions".concat(t.toString()?"?".concat(t.toString()):""),r=await $e.get(n);return r.sessions||r}catch(t){throw console.error("[SessionService] Get sessions failed:",t),t}}async getSessionById(e){try{const t=await $e.get("/sessions/".concat(e));return t.session||t}catch(t){throw console.error("[SessionService] Get session by ID failed:",t),t}}async createSession(e){try{const t={tutorId:e.tutorId,subjectId:e.subjectId,title:e.title,description:e.description,sessionType:e.sessionType,scheduledStart:e.scheduledStart,scheduledEnd:e.scheduledEnd,hourlyRate:e.hourlyRate,meetingLink:e.meetingLink,locationAddress:e.locationAddress};return await $e.post("/sessions",t)}catch(t){throw console.error("[SessionService] Create session failed:",t),t}}async updateSession(e,t){try{return await $e.put("/sessions/".concat(e),t)}catch(n){throw console.error("[SessionService] Update session failed:",n),n}}async cancelSession(e){try{return await $e.delete("/sessions/".concat(e))}catch(t){throw console.error("[SessionService] Cancel session failed:",t),t}}async startSession(e){try{return await $e.put("/sessions/".concat(e),{status:"in_progress"})}catch(t){throw console.error("[SessionService] Start session failed:",t),t}}async endSession(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return await $e.put("/sessions/".concat(e),{status:"completed",sessionNotes:t})}catch(n){throw console.error("[SessionService] End session failed:",n),n}}async addSessionReview(){throw new Error("Use reviewService.create({ sessionId, revieweeId, rating, comment, wouldRecommend })")}async getUpcomingSessions(){try{return await this.getSessions({type:"upcoming"})}catch(e){throw console.error("[SessionService] Get upcoming sessions failed:",e),e}}async getPastSessions(){try{return await this.getSessions({type:"past"})}catch(e){throw console.error("[SessionService] Get past sessions failed:",e),e}}async getTodaySessions(){try{return await this.getSessions({type:"today"})}catch(e){throw console.error("[SessionService] Get today's sessions failed:",e),e}}async checkAvailability(e,t,n){try{const r=new Date(t).toISOString().split("T")[0],{availableSlots:s=[]}=await Qe.getAvailableTimeSlots(e,{date:r,duration:Math.max(15,Math.round((new Date(n)-new Date(t))/6e4))}),a=new Date(t).toISOString().substr(11,5),i=new Date(n).toISOString().substr(11,5);return s.some(e=>e.date===r&&e.startTime===a&&e.endTime===i)}catch(r){throw console.error("[SessionService] Check availability failed:",r),r}}async getSessionStats(){try{const e=await $e.get("/sessions/stats");return e.stats||e}catch(e){throw console.error("[SessionService] Get session stats failed:",e),e}}async rescheduleSession(e,t,n){try{return await $e.put("/sessions/".concat(e),{scheduledStart:new Date(t).toISOString(),scheduledEnd:new Date(n).toISOString()})}catch(r){throw console.error("[SessionService] Reschedule session failed:",r),r}}};const Je=new class{async getMessages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.conversationWith&&t.append("conversationWith",e.conversationWith),e.sessionId&&t.append("sessionId",e.sessionId),void 0!==e.isRead&&t.append("isRead",e.isRead),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n="/messages".concat(t.toString()?"?".concat(t.toString()):""),r=await $e.get(n);return r.messages||r}catch(t){throw console.error("[MessageService] Get messages failed:",t),t}}async getConversation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n={conversationWith:e};return t&&(n.sessionId=t),await this.getMessages(n)}catch(n){throw console.error("[MessageService] Get conversation failed:",n),n}}async sendMessage(e){try{return await $e.post("/messages",{recipientId:e.recipientId,sessionId:e.sessionId,messageText:e.messageText,messageType:e.messageType||"direct",attachmentUrl:e.attachmentUrl})}catch(t){throw console.error("[MessageService] Send message failed:",t),t}}async markAsRead(e){try{return await $e.put("/messages/".concat(e,"/read"))}catch(t){return console.error("[MessageService] Mark as read failed:",t),null}}async markConversationAsRead(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=t?"/messages/conversation/".concat(e,"/session/").concat(t,"/read"):"/messages/conversation/".concat(e,"/read");return await $e.put(n)}catch(n){return console.error("[MessageService] Mark conversation as read failed:",n),null}}async getUnreadCount(){try{if("function"===typeof $e.get)try{const e=await $e.get("/messages/unread-count");if(e&&"number"===typeof e.count)return e.count}catch(e){}const t=await this.getMessages({isRead:!1,limit:200});return(Array.isArray(t)?t:(null===t||void 0===t?void 0:t.messages)||[]).filter(e=>!1===e.isRead).length}catch(t){return console.error("[MessageService] Get unread count failed:",t),0}}async getConversationsList(){try{const{messages:e=[]}=await this.getMessages({limit:100}),t=new Map;return e.forEach(e=>{var n,r,s;const a=localStorage.getItem("userId"),i=(null===(n=e.sender)||void 0===n?void 0:n.id)===a?null===(r=e.recipient)||void 0===r?void 0:r.id:null===(s=e.sender)||void 0===s?void 0:s.id;i&&(t.has(i)||t.set(i,e))}),Array.from(t.values())}catch(e){return console.error("[MessageService] Get conversations list failed:",e),[]}}async deleteMessage(e){try{return await $e.delete("/messages/".concat(e))}catch(t){throw console.error("[MessageService] Delete message failed:",t),t}}async uploadAttachment(e){try{const t=new FormData;t.append("attachment",e);const n=await $e.upload("/messages/upload",t);return n.attachmentUrl||n.url}catch(t){throw console.error("[MessageService] Upload attachment failed:",t),t}}async searchMessages(e){try{const t=await $e.get("/messages/search?q=".concat(encodeURIComponent(e)));return t.messages||t}catch(t){throw console.error("[MessageService] Search messages failed:",t),t}}async getSessionMessages(e){try{return await this.getMessages({sessionId:e})}catch(t){throw console.error("[MessageService] Get session messages failed:",t),t}}async sendSystemMessage(){throw new Error("System messages endpoint is not available on the backend.")}},Xe=Je;const Ze=new class{async getTasks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.dueDate&&t.append("dueDate",e.dueDate),void 0!==e.completed&&t.append("completed",e.completed),e.sessionId&&t.append("sessionId",e.sessionId),e.subjectId&&t.append("subjectId",e.subjectId);const n="/tasks".concat(t.toString()?"?".concat(t.toString()):""),r=await $e.get(n);return r.tasks||r}catch(t){throw console.error("[TaskService] Get tasks failed:",t),t}}async getTaskById(e){try{const t=await $e.get("/tasks/".concat(e));return t.task||t}catch(t){throw console.error("[TaskService] Get task by ID failed:",t),t}}async createTask(e){try{return await $e.post("/tasks",{title:e.title,description:e.description,priority:e.priority||"medium",dueDate:e.dueDate,sessionId:e.sessionId,subjectId:e.subjectId,estimatedHours:e.estimatedHours,tags:e.tags||[]})}catch(t){throw console.error("[TaskService] Create task failed:",t),t}}async updateTask(e,t){try{return await $e.put("/tasks/".concat(e),t)}catch(n){throw console.error("[TaskService] Update task failed:",n),n}}async deleteTask(e){try{return await $e.delete("/tasks/".concat(e))}catch(t){throw console.error("[TaskService] Delete task failed:",t),t}}async completeTask(e){try{return await $e.put("/tasks/".concat(e,"/complete"))}catch(t){throw console.error("[TaskService] Complete task failed:",t),t}}async uncompleteTask(e){try{return await $e.put("/tasks/".concat(e,"/incomplete"))}catch(t){throw console.error("[TaskService] Uncomplete task failed:",t),t}}async getTasksByPriority(e){try{return await this.getTasks({priority:e})}catch(t){throw console.error("[TaskService] Get tasks by priority failed:",t),t}}async getCompletedTasks(){try{return await this.getTasks({completed:!0})}catch(e){throw console.error("[TaskService] Get completed tasks failed:",e),e}}async getPendingTasks(){try{return await this.getTasks({completed:!1})}catch(e){throw console.error("[TaskService] Get pending tasks failed:",e),e}}async getOverdueTasks(){try{const e=(new Date).toISOString().split("T")[0],t=await $e.get("/tasks/overdue?date=".concat(e));return t.tasks||t}catch(e){throw console.error("[TaskService] Get overdue tasks failed:",e),e}}async getTodayTasks(){try{const e=(new Date).toISOString().split("T")[0];return await this.getTasks({dueDate:e})}catch(e){throw console.error("[TaskService] Get today tasks failed:",e),e}}async getSessionTasks(e){try{return await this.getTasks({sessionId:e})}catch(t){throw console.error("[TaskService] Get session tasks failed:",t),t}}async updateTaskProgress(e,t){try{return await $e.put("/tasks/".concat(e,"/progress"),{progress:Math.max(0,Math.min(100,t))})}catch(n){throw console.error("[TaskService] Update task progress failed:",n),n}}async addTaskNote(e,t){try{return await $e.post("/tasks/".concat(e,"/notes"),{note:t})}catch(n){throw console.error("[TaskService] Add task note failed:",n),n}}async getTaskStats(){try{const e=await $e.get("/tasks/stats");return e.stats||e}catch(e){throw console.error("[TaskService] Get task stats failed:",e),e}}async bulkUpdateTasks(e,t){try{return await $e.put("/tasks/bulk-update",{taskIds:e,updateData:t})}catch(n){throw console.error("[TaskService] Bulk update tasks failed:",n),n}}async searchTasks(e){try{const t=await $e.get("/tasks/search?q=".concat(encodeURIComponent(e)));return t.tasks||t}catch(t){throw console.error("[TaskService] Search tasks failed:",t),t}}};const et=new class{async getAllUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.role&&t.append("role",e.role),void 0!==e.isActive&&t.append("isActive",e.isActive),void 0!==e.isVerified&&t.append("isVerified",e.isVerified),e.search&&t.append("search",e.search),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n="/admin/users".concat(t.toString()?"?".concat(t.toString()):"");return await $e.get(n)}catch(t){throw console.error("[AdminService] Get all users failed:",t),t}}async getUserById(e){try{const t=await $e.get("/admin/users/".concat(e));return t.user||t}catch(t){throw console.error("[AdminService] Get user by ID failed:",t),t}}async updateUser(e,t){try{return await $e.put("/admin/users/".concat(e),t)}catch(n){throw console.error("[AdminService] Update user failed:",n),n}}async toggleUserStatus(e,t){try{console.log("[AdminService] Updating user status:",{userId:e,status:t});const n=await $e.patch("/admin/users/".concat(e,"/status"),{status:t});return console.log("[AdminService] Status update successful:",n),n}catch(s){var n,r;throw console.error("[AdminService] Toggle user status failed:",{error:s.message,status:null===(n=s.response)||void 0===n?void 0:n.status,data:null===(r=s.response)||void 0===r?void 0:r.data,url:"/admin/users/".concat(e,"/status"),requestData:{status:t}}),s}}async toggleUserVerification(e,t){try{return await $e.put("/admin/users/".concat(e,"/verification"),{isVerified:t})}catch(n){console.error("[AdminService] Toggle user verification failed:",n)}}async updateTutorVerification(e,t){try{console.log("[AdminService] Updating tutor verification:",{userId:e,isVerified:t});const n=await $e.patch("/admin/tutors/".concat(e,"/verification"),{isVerified:t});return console.log("[AdminService] Tutor verification update successful:",n),n}catch(s){var n,r;throw console.error("[AdminService] Update tutor verification failed:",{error:s.message,status:null===(n=s.response)||void 0===n?void 0:n.status,data:null===(r=s.response)||void 0===r?void 0:r.data,url:"/admin/tutors/".concat(e,"/verification"),requestData:{isVerified:t}}),s}}async getAllSessions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.tutorId&&t.append("tutorId",e.tutorId),e.studentId&&t.append("studentId",e.studentId),e.subjectId&&t.append("subjectId",e.subjectId),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n="/admin/sessions".concat(t.toString()?"?".concat(t.toString()):"");return await $e.get(n)}catch(t){throw console.error("[AdminService] Get all sessions failed:",t),t}}async getSessionById(e){try{const t=await $e.get("/admin/sessions/".concat(e));return t.session||t}catch(t){throw console.error("[AdminService] Get session by ID failed:",t),t}}async cancelSession(e,t){try{return await $e.put("/admin/sessions/".concat(e,"/cancel"),{cancellationReason:t})}catch(n){throw console.error("[AdminService] Cancel session failed:",n),n}}async getAnalytics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";try{const t=await $e.get("/admin/analytics?timeframe=".concat(e));return t.analytics||t}catch(t){throw console.error("[AdminService] Get analytics failed:",t),t}}async getUserStats(){try{const e=await $e.get("/admin/stats/users");return e.stats||e}catch(e){throw console.error("[AdminService] Get user stats failed:",e),e}}async getSessionStats(){try{const e=await $e.get("/admin/stats/sessions");return e.stats||e}catch(e){throw console.error("[AdminService] Get session stats failed:",e),e}}async getFinancialStats(){try{const e=await $e.get("/admin/stats/financial");return e.stats||e}catch(e){throw console.error("[AdminService] Get financial stats failed:",e),e}}async getAllSubjects(){try{const e=await $e.get("/admin/subjects");return e.subjects||e}catch(e){throw console.error("[AdminService] Get all subjects failed:",e),e}}async createSubject(e){try{return await $e.post("/admin/subjects",e)}catch(t){throw console.error("[AdminService] Create subject failed:",t),t}}async updateSubject(e,t){try{return await $e.put("/admin/subjects/".concat(e),t)}catch(n){throw console.error("[AdminService] Update subject failed:",n),n}}async deleteSubject(e){try{return await $e.delete("/admin/subjects/".concat(e))}catch(t){throw console.error("[AdminService] Delete subject failed:",t),t}}async getPlatformSettings(){try{const e=await $e.get("/admin/settings");return e.settings||e}catch(e){throw console.error("[AdminService] Get platform settings failed:",e),e}}async updatePlatformSettings(e){try{return await $e.put("/admin/settings",e)}catch(t){throw console.error("[AdminService] Update platform settings failed:",t),t}}async getAllPayments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.payerId&&t.append("payerId",e.payerId),e.payeeId&&t.append("payeeId",e.payeeId),e.sessionId&&t.append("sessionId",e.sessionId);const n="/admin/payments".concat(t.toString()?"?".concat(t.toString()):"");return await $e.get(n)}catch(t){throw console.error("[AdminService] Get all payments failed:",t),t}}async processRefund(e,t,n){try{return await $e.post("/admin/payments/".concat(e,"/refund"),{amount:t,reason:n})}catch(r){throw console.error("[AdminService] Process refund failed:",r),r}}async sendNotification(e){try{return await $e.post("/admin/notifications",{title:e.title,message:e.message,type:e.type,targetRole:e.targetRole})}catch(t){throw console.error("[AdminService] Send notification failed:",t),t}}async getNotifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.type&&t.append("type",e.type),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n="/admin/notifications".concat(t.toString()?"?".concat(t.toString()):"");return await $e.get(n)}catch(t){throw console.error("[AdminService] Get notifications failed:",t),t}}async getSystemLogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.level&&t.append("level",e.level),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.service&&t.append("service",e.service),e.limit&&t.append("limit",e.limit);const n="/admin/logs".concat(t.toString()?"?".concat(t.toString()):""),r=await $e.get(n);return r.logs||r}catch(t){throw console.error("[AdminService] Get system logs failed:",t),t}}async getStats(){try{return await $e.get("/admin/stats")}catch(e){throw console.error("[AdminService] Get stats failed:",e),e}}async getSettings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.category&&t.append("category",e.category),e.key&&t.append("key",e.key);const n="/admin/settings".concat(t.toString()?"?".concat(t.toString()):""),r=await $e.get(n);return r.settings||r}catch(t){throw console.error("[AdminService] Get settings failed:",t),t}}async updateSetting(e,t){try{return await $e.put("/admin/settings/".concat(e),{value:t.value,description:t.description})}catch(n){throw console.error("[AdminService] Update setting failed:",n),n}}async createSetting(e){try{return await $e.post("/admin/settings",{key:e.key,value:e.value,category:e.category,description:e.description,dataType:e.dataType,isPublic:e.isPublic})}catch(t){throw console.error("[AdminService] Create setting failed:",t),t}}async deleteSetting(e){try{return await $e.delete("/admin/settings/".concat(e))}catch(t){throw console.error("[AdminService] Delete setting failed:",t),t}}async getAllReviews(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.rating&&t.append("rating",e.rating),e.reviewerType&&t.append("reviewerType",e.reviewerType),e.dateRange&&t.append("dateRange",e.dateRange),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n="/admin/reviews".concat(t.toString()?"?".concat(t.toString()):"");return await $e.get(n)}catch(t){throw console.error("[AdminService] Get all reviews failed:",t),t}}async deleteReview(e){try{return await $e.delete("/admin/reviews/".concat(e))}catch(t){throw console.error("[AdminService] Delete review failed:",t),t}}},tt={search:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const n=await $e.get("/users/search?q=".concat(encodeURIComponent(e),"&limit=").concat(t));return(n.users||[]).map(e=>({id:e.id,firstName:e.firstName||e.first_name,lastName:e.lastName||e.last_name,name:"".concat(e.firstName||e.first_name||""," ").concat(e.lastName||e.last_name||"").trim(),role:e.role,email:e.email,profileImageUrl:e.avatarUrl||e.profile_picture_url}))}catch(n){throw console.error("Error searching users:",n),n}},getProfile:async e=>{try{return await $e.get("/users/".concat(e))}catch(t){throw console.error("Error fetching user profile:",t),t}},updateProfile:async(e,t)=>{try{return await $e.put("/users/".concat(e),t)}catch(n){throw console.error("Error updating user profile:",n),n}},changePassword:async e=>{try{return(await $e.put("/auth/password",e)).data}catch(t){throw console.error("Error changing password:",t),t}}};const nt=new class{async getCalendarEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.type&&t.append("type",e.type),e.status&&t.append("status",e.status),e.limit&&t.append("limit",e.limit),e.view&&t.append("view",e.view);const n="/calendar/events".concat(t.toString()?"?".concat(t.toString()):"");console.log("[CalendarService] Making request to:",n);const r=await $e.get(n);return console.log("[CalendarService] Response received:",r),{events:Array.isArray(r.events)?r.events:[],eventsByDate:r.eventsByDate||{},total:r.total||0,filters:r.filters||{},_isLiveData:!0}}catch(a){var t,n,r,s;if(console.error("[CalendarService] Get calendar events failed:",a),console.error("[CalendarService] Error details:",{status:null===(t=a.response)||void 0===t?void 0:t.status,data:null===(n=a.response)||void 0===n?void 0:n.data,message:a.message}),401===(null===(r=a.response)||void 0===r?void 0:r.status))return console.warn("[CalendarService] Authentication required - using sample data"),this.getSampleCalendarData(e);if(404===(null===(s=a.response)||void 0===s?void 0:s.status)||"ECONNREFUSED"===a.code||"NETWORK_ERROR"===a.code)return console.warn("[CalendarService] Backend unavailable, returning sample data"),this.getSampleCalendarData(e);throw a}}getSampleCalendarData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Date,n=[];for(let s=1;s<=30;s++){const e=new Date(t.getFullYear(),t.getMonth(),s);if(Math.random()>.7){const t=Math.random()>.5,r={id:"sample-".concat(s),title:t?"Tutoring Session ".concat(s):"Study Task ".concat(s),description:t?"Mathematics tutoring session":"Complete homework assignment",type:t?"session":"task",status:["scheduled","completed","pending"][Math.floor(3*Math.random())],session_date:e.toISOString().split("T")[0],due_date:e.toISOString().split("T")[0],scheduled_at:e.toISOString(),start_time:"14:00",end_time:"15:00",duration_minutes:60,location:t?"Online":null,priority:t?null:["high","medium","low"][Math.floor(3*Math.random())]};n.push(r)}}const r={};return n.forEach(e=>{const t=e.session_date||e.due_date;r[t]||(r[t]=[]),r[t].push(e)}),{events:n,eventsByDate:r,total:n.length,filters:e,_isSampleData:!0}}async getEventsForDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";try{const n=new URLSearchParams;t&&"all"!==t&&n.append("type",t);const r="/calendar/events/date/".concat(e).concat(n.toString()?"?".concat(n.toString()):""),s=await $e.get(r);return{events:s.events||[],eventsByDate:s.eventsByDate||{},total:s.total||0}}catch(n){throw console.error("[CalendarService] Get events for date failed:",n),n}}async getCalendarStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";try{const t=new URLSearchParams;e&&t.append("period",e);const n="/calendar/stats".concat(t.toString()?"?".concat(t.toString()):""),r=await $e.get(n);return{period:r.period,stats:r.stats||{}}}catch(t){throw console.error("[CalendarService] Get calendar stats failed:",t),t}}async getCurrentMonthEvents(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0);return this.getCalendarEvents({startDate:t.toISOString(),endDate:n.toISOString(),type:"all",view:"month"})}async getCurrentWeekEvents(){const e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay());const n=new Date(t);return n.setDate(t.getDate()+6),this.getCalendarEvents({startDate:t.toISOString(),endDate:n.toISOString(),type:"all",view:"week"})}async getTodayEvents(){const e=(new Date).toISOString().split("T")[0];return this.getEventsForDate(e)}async getUpcomingEvents(){const e=new Date,t=new Date(e);return t.setDate(e.getDate()+7),this.getCalendarEvents({startDate:e.toISOString(),endDate:t.toISOString(),type:"all",status:"scheduled"})}getMonthDateRange(e,t){const n=new Date(t,e,1),r=new Date(t,e+1,0);return{startDate:n.toISOString(),endDate:r.toISOString()}}formatDateForAPI(e){return e.toISOString().split("T")[0]}groupEventsByDate(e){const t={};return e.forEach(e=>{t[e.date]||(t[e.date]=[]),t[e.date].push(e)}),t}filterEventsByType(e,t){return"all"===t?e:e.filter(e=>e.type===t)}sortEventsByDateTime(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return e.sort((e,n)=>{const r=new Date(e.start),s=new Date(n.start);return"desc"===t?s-r:r-s})}};new class{async getDashboardAnalytics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.period&&n.append("period",t.period),t.startDate&&n.append("startDate",t.startDate),t.endDate&&n.append("endDate",t.endDate);const r=n.toString(),s="/analytics/dashboard/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching dashboard analytics:",n),n}}async getEarningsAnalytics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.period&&n.append("period",t.period),t.startDate&&n.append("startDate",t.startDate),t.endDate&&n.append("endDate",t.endDate);const r=n.toString(),s="/analytics/earnings/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching earnings analytics:",n),n}}async getSessionStatistics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.period&&n.append("period",t.period);const r=n.toString(),s="/analytics/sessions/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching session statistics:",n),n}}async getStudentAnalytics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.period&&n.append("period",t.period);const r=n.toString(),s="/analytics/students/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching student analytics:",n),n}}async getPerformanceMetrics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.year&&n.append("year",t.year),t.month&&n.append("month",t.month);const r=n.toString(),s="/analytics/performance/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching performance metrics:",n),n}}};new class{async createSessionPayment(e,t){try{return await $e.post("/payments/session/".concat(e),t)}catch(n){throw console.error("Error creating session payment:",n),n}}async getUserPayments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.type&&n.append("type",t.type),t.status&&n.append("status",t.status),t.limit&&n.append("limit",t.limit),t.offset&&n.append("offset",t.offset);const r=n.toString(),s="/payments/user/".concat(e).concat(r?"?".concat(r):"");return await $e.get(s)}catch(n){throw console.error("Error fetching user payments:",n),n}}async getPaymentDetails(e){try{return await $e.get("/payments/".concat(e))}catch(t){throw console.error("Error fetching payment details:",t),t}}async requestRefund(e,t){try{return await $e.post("/payments/".concat(e,"/refund"),t)}catch(n){throw console.error("Error requesting refund:",n),n}}async getTutorEarnings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;n.append("type","earnings"),t.status&&n.append("status",t.status),t.limit&&n.append("limit",t.limit),t.offset&&n.append("offset",t.offset);const r=n.toString(),s="/payments/user/".concat(e,"?").concat(r);return await $e.get(s)}catch(n){throw console.error("Error fetching tutor earnings:",n),n}}async getStudentPayments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;n.append("type","payments"),t.status&&n.append("status",t.status),t.limit&&n.append("limit",t.limit),t.offset&&n.append("offset",t.offset);const r=n.toString(),s="/payments/user/".concat(e,"?").concat(r);return await $e.get(s)}catch(n){throw console.error("Error fetching student payments:",n),n}}async savePaymentMethod(e){try{return await $e.post("/payments/methods",e)}catch(t){throw console.error("Error saving payment method:",t),t}}async getPaymentMethods(e){try{return await $e.get("/payments/methods/".concat(e))}catch(t){throw console.error("Error fetching payment methods:",t),t}}async deletePaymentMethod(e){try{return await $e.delete("/payments/methods/".concat(e))}catch(t){throw console.error("Error deleting payment method:",t),t}}};const rt=new class{async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.category&&t.append("category",e.category),void 0!==e.active&&t.append("active",String(e.active)),e.search&&t.append("search",e.search),e.limit&&t.append("limit",String(e.limit)),e.offset&&t.append("offset",String(e.offset));const n="/subjects".concat(t.toString()?"?".concat(t.toString()):"");return $e.get(n)}async getById(e){return $e.get("/subjects/".concat(e))}async getCategories(){return $e.get("/subjects/meta/categories")}async create(e){return $e.post("/subjects",e)}async update(e,t){return $e.put("/subjects/".concat(e),t)}async delete(e){return $e.delete("/subjects/".concat(e))}};const st=new class{async getBySession(e){return $e.get("/reviews/session/".concat(e))}async getByTutor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams;t.limit&&n.append("limit",String(t.limit)),t.offset&&n.append("offset",String(t.offset));const r="/reviews/tutor/".concat(e).concat(n.toString()?"?".concat(n.toString()):"");return $e.get(r)}async getByStudent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams;t.limit&&n.append("limit",String(t.limit)),t.offset&&n.append("offset",String(t.offset));const r="/reviews/student/".concat(e).concat(n.toString()?"?".concat(n.toString()):"");return $e.get(r)}async create(e){return $e.post("/reviews",e)}async update(e,t){return $e.put("/reviews/".concat(e),t)}async delete(e){return $e.delete("/reviews/".concat(e))}};new class{async send(e){return $e.post("/admin/notifications",e)}async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.type&&t.append("type",e.type),e.limit&&t.append("limit",String(e.limit)),e.offset&&t.append("offset",String(e.offset));const n="/admin/notifications".concat(t.toString()?"?".concat(t.toString()):"");return $e.get(n)}};new class{async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.category&&t.append("category",e.category),e.key&&t.append("key",e.key);const n="/admin/settings".concat(t.toString()?"?".concat(t.toString()):"");return $e.get(n)}async update(e,t){return $e.put("/admin/settings/".concat(encodeURIComponent(e)),t)}async create(e){return $e.post("/admin/settings",e)}async remove(e){return $e.delete("/admin/settings/".concat(encodeURIComponent(e)))}};const at=new class{async getByUserId(e){return $e.get("/profiles/".concat(e))}async updateUser(e,t){return $e.put("/profiles/".concat(e),t)}async updateStudent(e,t){return $e.put("/profiles/".concat(e,"/student"),t)}async updateTutor(e,t){return $e.put("/profiles/".concat(e,"/tutor"),t)}async updateAddress(e,t){return $e.put("/profiles/".concat(e,"/address"),t)}};const it=new class{async getChatSessions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{return await $e.get("/ai-chat/sessions",{params:{page:e,limit:t}})}catch(n){throw console.error("Error fetching chat sessions:",n),n}}async createChatSession(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Chat";try{return await $e.post("/ai-chat/sessions",{title:e})}catch(t){throw console.error("Error creating chat session:",t),t}}async getChatMessages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{return await $e.get("/ai-chat/sessions/".concat(e,"/messages"),{params:{page:t,limit:n}})}catch(r){throw console.error("Error fetching chat messages:",r),r}}async sendMessage(e,t){try{return await $e.post("/ai-chat/sessions/".concat(e,"/messages"),{message:t.trim()})}catch(n){throw console.error("Error sending message:",n),n}}async updateChatSession(e,t){try{return await $e.put("/ai-chat/sessions/".concat(e),t)}catch(n){throw console.error("Error updating chat session:",n),n}}async deleteChatSession(e){try{return await $e.delete("/ai-chat/sessions/".concat(e))}catch(t){throw console.error("Error deleting chat session:",t),t}}async getChatStats(){try{return await $e.get("/ai-chat/stats")}catch(e){throw console.error("Error fetching chat stats:",e),e}}validateMessage(e){if(!e||"string"!==typeof e)return{isValid:!1,error:"Message is required"};const t=e.trim();return 0===t.length?{isValid:!1,error:"Message cannot be empty"}:t.length>2e3?{isValid:!1,error:"Message is too long (max 2000 characters)"}:{isValid:!0,message:t}}formatTimestamp(e){const t=new Date,n=new Date(e),r=t-n,s=Math.floor(r/6e4),a=Math.floor(r/36e5),i=Math.floor(r/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):a<24?"".concat(a,"h ago"):i<7?"".concat(i,"d ago"):n.toLocaleDateString()}truncateText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!e||e.length<=t?e:e.substring(0,t).trim()+"..."}};var lt=n(579);const ot=(0,l.createContext)(),ut=()=>{const e=(0,l.useContext)(ot);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ct=e=>{let{children:t}=e;const[n,r]=(0,l.useState)(null),[s,a]=(0,l.useState)(!0),[i,o]=(0,l.useState)(!1),[u,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{d()},[]);const d=async()=>{try{if(Ye.isAuthenticated()){const e=localStorage.getItem("user");e&&r(JSON.parse(e));try{const e=await Ye.getCurrentUser();r(e),localStorage.setItem("user",JSON.stringify(e))}catch(u){m()}}}catch(u){console.error("Auth check failed:",u)}finally{a(!1)}},m=async()=>{try{await Ye.logout()}catch(u){console.error("Logout error:",u)}finally{localStorage.removeItem("user"),r(null)}},h={user:n,loading:i,initializing:s,error:u,login:async(e,t)=>{try{c(null),o(!0);const n=(await Ye.login(e,t)).user;return localStorage.setItem("user",JSON.stringify(n)),r(n),{success:!0,user:n}}catch(u){const t=u.message||"Login failed";return c(t),{success:!1,error:t}}finally{o(!1)}},signup:async e=>{try{c(null),o(!0);const t=(await Ye.register(e)).user;return localStorage.setItem("user",JSON.stringify(t)),r(t),{success:!0,user:t}}catch(u){const t=u.message||"Registration failed";return c(t),{success:!1,error:t,errors:u.errors,statusCode:u.statusCode}}finally{o(!1)}},logout:m,updateProfile:async e=>{try{c(null);const t=Ve(Ve({},n),e);return r(t),localStorage.setItem("user",JSON.stringify(t)),{success:!0}}catch(u){var t,s;const n=(null===(t=u.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Profile update failed";return c(n),{success:!1,error:n}}},isAuthenticated:!!n,isStudent:"student"===(null===n||void 0===n?void 0:n.role),isTutor:"tutor"===(null===n||void 0===n?void 0:n.role),isAdmin:"admin"===(null===n||void 0===n?void 0:n.role)};return(0,lt.jsx)(ot.Provider,{value:h,children:t})},dt=e=>{let{children:t,allowedRoles:n=[],requireAuth:r=!0}=e;const{isAuthenticated:s,user:a,initializing:i}=ut(),l=ie();if(console.log("ProtectedRoute check:",{isAuthenticated:s,userRole:null===a||void 0===a?void 0:a.role,allowedRoles:n,requireAuth:r,location:l.pathname}),i)return(0,lt.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,lt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(r&&!s)return console.log("Redirecting to login - not authenticated"),(0,lt.jsx)(Ne,{to:"/login",state:{from:l},replace:!0});if(!r&&s){const e="admin"===(null===a||void 0===a?void 0:a.role)?"/admin":"tutor"===(null===a||void 0===a?void 0:a.role)?"/tutor":"/student";return console.log("Redirecting to dashboard - already authenticated:",e),(0,lt.jsx)(Ne,{to:e,replace:!0})}if(n.length>0&&s&&!n.includes(null===a||void 0===a?void 0:a.role)){const e="admin"===(null===a||void 0===a?void 0:a.role)?"/admin":"tutor"===(null===a||void 0===a?void 0:a.role)?"/tutor":"/student";return console.log("Role mismatch - redirecting to:",e),(0,lt.jsx)(Ne,{to:e,replace:!0})}return console.log("ProtectedRoute - rendering children"),t},mt=()=>{const{user:e}=ut();if(!e)return(0,lt.jsx)(Ne,{to:"/login",replace:!0});const t="admin"===(null===e||void 0===e?void 0:e.role)?"/admin":"tutor"===(null===e||void 0===e?void 0:e.role)?"/tutor":"/student";return(0,lt.jsx)(Ne,{to:t,replace:!0})};function ht(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var pt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ft=["color","size","strokeWidth","absoluteStrokeWidth","children"],gt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xt=(e,t)=>{const n=(0,l.forwardRef)((n,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:u}=n,c=ht(n,ft);return(0,l.createElement)("svg",Ve(Ve({ref:r},pt),{},{width:a,height:a,stroke:s,strokeWidth:o?24*Number(i)/Number(a):i,className:"lucide lucide-".concat(gt(e))},c),[...t.map(e=>{let[t,n]=e;return(0,l.createElement)(t,n)}),...(Array.isArray(u)?u:[u])||[]])});return n.displayName="".concat(e),n},yt=xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dt=xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),vt=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bt=xt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const jt=function(){var e,t,n;const[r,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),{isAuthenticated:o,user:u,logout:c}=ut(),d=oe(),m=()=>{c(),i(!1),d("/")},h=()=>u?"admin"===u.role?"/admin":"tutor"===u.role?"/tutor":"/student":"/";return(0,lt.jsx)("nav",{className:"bg-primary-600 text-white shadow-lg",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,lt.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,lt.jsx)(Ie,{to:"/",className:"font-bold text-xl hover:text-primary-100 transition-colors",children:"TutorConnect"}),(0,lt.jsx)("div",{className:"hidden md:flex items-center space-x-6",children:o?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ie,{to:h(),className:"hover:text-primary-100 transition-colors",children:"Dashboard"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsxs)("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 hover:text-primary-100 transition-colors focus:outline-none",children:[(0,lt.jsx)("img",{src:null===u||void 0===u||null===(e=u.profile)||void 0===e?void 0:e.avatar,alt:null===u||void 0===u||null===(t=u.profile)||void 0===t?void 0:t.firstName,className:"w-8 h-8 rounded-full object-cover"}),(0,lt.jsx)("span",{children:null===u||void 0===u||null===(n=u.profile)||void 0===n?void 0:n.firstName})]}),a&&(0,lt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,lt.jsxs)(Ie,{to:"".concat(h(),"/profile"),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>i(!1),children:[(0,lt.jsx)(yt,{className:"w-4 h-4 mr-2"}),"Profile"]}),(0,lt.jsxs)("button",{onClick:m,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,lt.jsx)(Dt,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ie,{to:"/about",className:"hover:text-primary-100 transition-colors",children:"About Us"}),(0,lt.jsx)(Ie,{to:"/browse-tutors",className:"hover:text-primary-100 transition-colors",children:"Browse Tutors"}),(0,lt.jsx)(Ie,{to:"/login",className:"hover:text-primary-100 transition-colors",children:"Sign In"}),(0,lt.jsx)(Ie,{to:"/signup",className:"bg-white text-primary-600 px-4 py-2 rounded-md hover:bg-gray-100 transition-colors font-medium",children:"Get Started"})]})}),(0,lt.jsx)("div",{className:"md:hidden",children:(0,lt.jsx)("button",{onClick:()=>s(!r),className:"text-white hover:text-primary-100 focus:outline-none",children:r?(0,lt.jsx)(vt,{className:"h-6 w-6"}):(0,lt.jsx)(bt,{className:"h-6 w-6"})})})]}),r&&(0,lt.jsx)("div",{className:"md:hidden",children:(0,lt.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:o?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ie,{to:h(),className:"block px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",onClick:()=>s(!1),children:"Dashboard"}),(0,lt.jsx)(Ie,{to:"".concat(h(),"/profile"),className:"block px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",onClick:()=>s(!1),children:"Profile"}),(0,lt.jsx)("button",{onClick:()=>{m(),s(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",children:"Sign Out"})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ie,{to:"/about",className:"block px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",onClick:()=>s(!1),children:"About Us"}),(0,lt.jsx)(Ie,{to:"/browse-tutors",className:"block px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",onClick:()=>s(!1),children:"Browse Tutors"}),(0,lt.jsx)(Ie,{to:"/login",className:"block px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",onClick:()=>s(!1),children:"Sign In"}),(0,lt.jsx)(Ie,{to:"/signup",className:"block px-3 py-2 text-base font-medium hover:text-primary-100 transition-colors",onClick:()=>s(!1),children:"Get Started"})]})})})]})})},wt=()=>(0,lt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100",children:[(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:(0,lt.jsx)("span",{className:"text-primary-600",children:"TutorConnect"})}),(0,lt.jsx)("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Connect with expert tutors, organize your studies with AI assistance, and achieve your academic goals with personalized learning paths."}),(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,lt.jsx)(Ie,{to:"/signup",className:"btn-primary px-8 py-3 text-lg font-semibold rounded-lg",children:"Get Started Free"}),(0,lt.jsx)(Ie,{to:"/browse-tutors",className:"btn-secondary px-8 py-3 text-lg font-semibold rounded-lg",children:"Browse Tutors"}),(0,lt.jsx)(Ie,{to:"/login",className:"btn-secondary px-8 py-3 text-lg font-semibold rounded-lg",children:"Sign In"})]})]})}),(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,lt.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:(0,lt.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expert Tutors"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Connect with verified tutors across various subjects. Browse profiles, read reviews, and book sessions that fit your schedule."}),(0,lt.jsx)("div",{className:"mt-4",children:(0,lt.jsx)(Ie,{to:"/browse-tutors",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Browse All Tutors \u2192"})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:(0,lt.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Planning"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Organize your study schedule with our intelligent task manager and calendar integration. Track progress and stay on top of deadlines."})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:(0,lt.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI Assistant"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Get instant help with our AI-powered study assistant. Ask questions, get study tips, and receive personalized learning recommendations."})]})]})}),(0,lt.jsx)("div",{className:"bg-white py-16",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"text-3xl font-bold text-primary-600",children:"1,000+"}),(0,lt.jsx)("div",{className:"text-gray-600 mt-1",children:"Active Students"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"text-3xl font-bold text-primary-600",children:"500+"}),(0,lt.jsx)("div",{className:"text-gray-600 mt-1",children:"Expert Tutors"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"text-3xl font-bold text-primary-600",children:"10,000+"}),(0,lt.jsx)("div",{className:"text-gray-600 mt-1",children:"Sessions Completed"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"text-3xl font-bold text-primary-600",children:"4.9/5"}),(0,lt.jsx)("div",{className:"text-gray-600 mt-1",children:"Average Rating"})]})]})})}),(0,lt.jsx)("div",{className:"bg-primary-600 text-white py-16",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,lt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Transform Your Learning?"}),(0,lt.jsx)("p",{className:"text-xl mb-8 text-primary-100",children:"Join thousands of students already achieving their academic goals."}),(0,lt.jsx)(Ie,{to:"/signup",className:"bg-white text-primary-600 px-8 py-3 text-lg font-semibold rounded-lg hover:bg-gray-100 transition-colors inline-block",children:"Start Learning Today"})]})})]}),Nt=xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ct=xt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ft=xt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Et=xt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),kt=xt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),At=xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),St=xt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Bt=xt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Tt=()=>{const e=[{icon:Nt,title:"Expert Tutors",description:"Connect with verified tutors across various subjects with proven track records and excellent reviews."},{icon:Ct,title:"Personalized Learning",description:"AI-powered study plans tailored to your learning style, pace, and academic goals."},{icon:Ft,title:"Student-Centered Approach",description:"We prioritize student success with flexible scheduling, affordable rates, and comprehensive support."},{icon:Et,title:"Quality Assurance",description:"All tutors are thoroughly vetted, and sessions are monitored to ensure the highest quality education."}];return(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white py-16",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About TutorConnect"}),(0,lt.jsx)("p",{className:"text-xl md:text-2xl text-primary-100 max-w-3xl mx-auto",children:"Empowering students worldwide through personalized tutoring and AI-powered learning solutions"})]})})}),(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,lt.jsxs)("div",{className:"mb-16",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Mission"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"To democratize quality education by connecting students with expert tutors and providing AI-powered learning tools that adapt to individual needs, making academic success accessible to everyone."})]}),(0,lt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",children:[{number:"50,000+",label:"Students Helped"},{number:"2,000+",label:"Expert Tutors"},{number:"500,000+",label:"Sessions Completed"},{number:"98%",label:"Student Satisfaction"}].map((e,t)=>(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-primary-600 mb-2",children:e.number}),(0,lt.jsx)("div",{className:"text-gray-600 font-medium",children:e.label})]},t))})]}),(0,lt.jsxs)("div",{className:"mb-16",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose TutorConnect?"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"We're committed to providing the best learning experience through innovation and dedication"})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((e,t)=>{const n=e.icon;return(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:(0,lt.jsx)(n,{className:"h-6 w-6 text-primary-600"})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,lt.jsx)("p",{className:"text-gray-600",children:e.description})]},t)})})]}),(0,lt.jsx)("div",{className:"mb-16",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200",children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),(0,lt.jsxs)("div",{className:"prose prose-lg text-gray-600 max-w-none",children:[(0,lt.jsx)("p",{className:"mb-4",children:"TutorConnect was founded in 2025 with a simple yet powerful vision: to make quality education accessible to students everywhere. Our founders, experienced educators and technologists, recognized the growing need for personalized learning solutions in an increasingly digital world."}),(0,lt.jsx)("p",{className:"mb-4",children:"Starting as a small platform connecting local tutors with students, we've grown into a comprehensive educational ecosystem powered by artificial intelligence. Our platform now serves thousands of students worldwide, offering everything from one-on-one tutoring to AI-powered study planning."}),(0,lt.jsx)("p",{children:"Today, we continue to innovate and expand our services, always keeping our core mission at heart: helping every student achieve their academic potential through personalized, quality education."})]})]})}),(0,lt.jsxs)("div",{className:"mb-16",children:[(0,lt.jsxs)("div",{className:"text-center mb-12",children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"Passionate educators and technologists working to transform education"})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{name:"Sai Sree Chitturi",role:"Chief Executive Officer",description:"Visionary leader driving innovation in educational technology and student success."},{name:"Sai Prathyusha Celoth",role:"Head of Academic Affairs",description:"Educational expert developing curriculum standards and tutor quality assurance programs."},{name:"Chandan Cheni",role:"Head of Product Development",description:"Product strategist focused on creating intuitive learning experiences and user engagement."},{name:"Adarsh Cherukuri",role:"Chief Technology Officer",description:"Technology expert specializing in AI-powered learning solutions and platform architecture."},{name:"Maatheswaran Kannan Chellapandian",role:"Head of Operations",description:"Operations specialist ensuring seamless platform performance and user satisfaction."}].map((e,t)=>(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:e.name}),(0,lt.jsx)("p",{className:"text-primary-600 font-medium mb-3",children:e.role}),(0,lt.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]}),(0,lt.jsxs)("div",{className:"mb-16",children:[(0,lt.jsx)("div",{className:"text-center mb-12",children:(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Values"})}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,lt.jsx)(kt,{className:"h-8 w-8 text-blue-600"})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Excellence"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"We maintain the highest standards in education quality, tutor selection, and platform performance."})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,lt.jsx)(Ft,{className:"h-8 w-8 text-green-600"})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Empathy"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"We understand each student's unique challenges and provide compassionate, personalized support."})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,lt.jsx)(Ct,{className:"h-8 w-8 text-purple-600"})}),(0,lt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Innovation"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"We continuously evolve our platform using cutting-edge technology to enhance learning outcomes."})]})]})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200",children:[(0,lt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Get In Touch"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,lt.jsx)(At,{className:"h-6 w-6 text-primary-600"})}),(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Email"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"contact@tutorconnect.com"})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,lt.jsx)(St,{className:"h-6 w-6 text-primary-600"})}),(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Phone"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"+1 (555) 123-4567"})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,lt.jsx)(Bt,{className:"h-6 w-6 text-primary-600"})}),(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Address"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"123 Education St, Learning City, LC 12345"})]})]})]})]})]})},Pt=xt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_t=xt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Rt=xt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),It=xt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ot=xt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Lt=xt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Mt=xt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),zt=xt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ut=e=>{var t,n,r,s,a,i,o,u,c;let{isOpen:d,onClose:m,onSessionBooked:h,selectedTutor:p=null}=e;const[f,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)(null),[D,v]=(0,l.useState)(!1),[b,j]=(0,l.useState)([]),[w,N]=(0,l.useState)(null),[C,F]=(0,l.useState)([]),[E,k]=(0,l.useState)(!1),[A,S]=(0,l.useState)(1),[B,T]=(0,l.useState)(!1),[P,_]=(0,l.useState)({tutorId:(null===p||void 0===p?void 0:p.id)||"",title:"",description:"",subjectId:"",sessionType:"online",scheduledDate:"",scheduledTime:"",durationMinutes:60,hourlyRate:(null===p||void 0===p?void 0:p.hourlyRate)||0,meetingLink:"",locationAddress:""}),R=[{value:"online",label:"Online Session",icon:Lt},{value:"in_person",label:"In-Person Session",icon:Bt}];(0,l.useEffect)(()=>{d&&!p&&I()},[d,p]),(0,l.useEffect)(()=>{P.tutorId?O(P.tutorId):N(null)},[P.tutorId]),(0,l.useEffect)(()=>{P.tutorId&&P.scheduledDate&&P.durationMinutes?L():F([])},[P.tutorId,P.scheduledDate,P.durationMinutes]),(0,l.useEffect)(()=>{p&&d&&_(e=>Ve(Ve({},e),{},{tutorId:p.id,hourlyRate:p.hourlyRate||0}))},[p,d]);const I=async()=>{try{g(!0);const e=await Ge.getTutors();j(e||[])}catch(e){console.error("Error fetching tutors:",e),y("Failed to load tutors. Please try again.")}finally{g(!1)}},O=async e=>{try{var t;const n=await Ge.getTutorDetails(e);N(n),null!==(t=n.tutor)&&void 0!==t&&t.hourlyRate&&_(e=>Ve(Ve({},e),{},{hourlyRate:n.tutor.hourlyRate}))}catch(n){console.error("Error fetching tutor details:",n),y("Failed to load tutor details. Please try again.")}},L=async()=>{try{var e;k(!0),y(null);const t=await Qe.getAvailableTimeSlots(P.tutorId,{date:P.scheduledDate,duration:P.durationMinutes});F(t.availableSlots||[]),0===(null===(e=t.availableSlots)||void 0===e?void 0:e.length)&&y("No available slots for the selected date and duration. Please try a different date.")}catch(t){console.error("Error fetching available slots:",t),y("Failed to check availability. Please try again."),F([])}finally{k(!1)}},M=(e,t)=>{_(n=>Ve(Ve({},n),{},{[e]:t})),"scheduledDate"!==e&&"durationMinutes"!==e||_(e=>Ve(Ve({},e),{},{scheduledTime:""})),x&&y(null),D&&v(!1)},z=()=>{if(!P.tutorId)return y("Please select a tutor"),!1;if(!P.title.trim())return y("Session title is required"),!1;if(!P.subjectId)return y("Please select a subject"),!1;if(!P.scheduledDate)return y("Please select a date"),!1;if(!P.scheduledTime)return y("Please select a time slot"),!1;try{const e=new Date("".concat(P.scheduledDate,"T").concat(P.scheduledTime));if(isNaN(e.getTime()))return y("Invalid date or time format"),!1;if(e<=new Date)return y("Scheduled time must be in the future"),!1}catch(x){return y("Invalid date or time format"),!1}return"online"!==P.sessionType||P.meetingLink.trim()?!("in_person"===P.sessionType&&!P.locationAddress.trim())||(y("Location address is required for in-person sessions"),!1):(y("Meeting link is required for online sessions"),!1)},U=()=>{const e=P.durationMinutes/60;return(P.hourlyRate*e).toFixed(2)},q=async()=>{if(z())try{T(!0),y(null);const t=new Date("".concat(P.scheduledDate,"T").concat(P.scheduledTime));if(isNaN(t.getTime()))return y("Invalid date or time format"),void T(!1);const n=new Date(t.getTime()+6e4*P.durationMinutes),r={tutorId:P.tutorId,subjectId:P.subjectId||null,title:P.title.trim(),description:P.description.trim(),sessionType:P.sessionType,scheduledStart:t.toISOString(),scheduledEnd:n.toISOString(),hourlyRate:parseFloat(P.hourlyRate),meetingLink:"online"===P.sessionType?P.meetingLink.trim():null,locationAddress:"in_person"===P.sessionType?P.locationAddress.trim():null};console.log("Session data being sent:",r);const s=await Ke.createSession(r),a=await(async e=>(console.log("Processing mock payment for session:",e.id),await new Promise(e=>setTimeout(e,1500)),{success:!0,paymentId:"mock_payment_"+Date.now(),amount:U(),currency:"USD",paymentMethod:"mock"}))(s);if(a.success){v(!0);try{window.dispatchEvent(new CustomEvent("toast",{detail:{type:"success",title:"Session booked and paid successfully!",message:'Your session "'.concat(P.title.trim(),'" has been scheduled and payment processed.')}}))}catch(e){console.warn("Failed to show toast:",e)}h&&h(Ve(Ve({},s),{},{paymentResult:a})),setTimeout(()=>{V()},2e3)}else y("Payment processing failed. Please try again.")}catch(t){console.error("Error booking session:",t);const e=((null===t||void 0===t?void 0:t.message)||"").toLowerCase();e.includes("conflict")||e.includes("not available")||e.includes("overlap")?y("The selected time slot is no longer available. Please choose a different time."):y(t.message||"Failed to book session. Please try again.")}finally{T(!1)}},V=()=>{_({tutorId:(null===p||void 0===p?void 0:p.id)||"",title:"",description:"",subjectId:"",sessionType:"online",scheduledDate:"",scheduledTime:"",durationMinutes:60,hourlyRate:(null===p||void 0===p?void 0:p.hourlyRate)||0,meetingLink:"",locationAddress:""}),y(null),v(!1),N(null),F([]),S(1),T(!1),m()};return d?(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[(0,lt.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Book a Tutoring Session"]}),(0,lt.jsx)("button",{onClick:V,className:"text-gray-400 hover:text-gray-600 p-1 rounded",disabled:B,children:(0,lt.jsx)(vt,{className:"h-5 w-5"})})]}),(0,lt.jsxs)("div",{className:"p-6",children:[D&&(0,lt.jsxs)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[(0,lt.jsx)(kt,{className:"h-5 w-5 text-green-600 mr-3"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-green-800 font-medium",children:"Session booked successfully!"}),(0,lt.jsx)("p",{className:"text-green-700 text-sm",children:"You will receive a confirmation email shortly."})]})]}),x&&(0,lt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-600 mr-3"}),(0,lt.jsx)("p",{className:"text-red-800",children:x})]}),(0,lt.jsx)("div",{className:"mb-6",children:(0,lt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm ".concat(1===A?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:[(0,lt.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(1===A?"bg-blue-600 text-white":"bg-green-600 text-white"),children:A>1?"\u2713":"1"}),(0,lt.jsx)("span",{children:"Session Details"})]}),(0,lt.jsx)("div",{className:"w-8 h-0.5 ".concat(A>1?"bg-green-300":"bg-gray-300")}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm ".concat(2===A?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"),children:[(0,lt.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(2===A?"bg-blue-600 text-white":"bg-gray-400 text-white"),children:"2"}),(0,lt.jsx)("span",{children:"Payment"})]})]})}),(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),1!==A?2===A&&await q():1===A&&z()&&S(2)},className:"space-y-6",children:[1===A?(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{className:"space-y-6",children:[!p&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tutor *"}),f?(0,lt.jsx)("div",{className:"p-3 text-gray-500 text-center",children:"Loading tutors..."}):(0,lt.jsxs)("select",{value:P.tutorId,onChange:e=>M("tutorId",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,lt.jsx)("option",{value:"",children:"Choose a tutor..."}),b.map(e=>(0,lt.jsxs)("option",{value:e.id,children:[e.name," - $",e.hourlyRate,"/hr (",e.rating,"\u2b50)"]},e.id))]})]}),(p||w)&&(0,lt.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,lt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,lt.jsx)(yt,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,lt.jsx)("h3",{className:"font-medium text-blue-900",children:(null===p||void 0===p?void 0:p.name)||(null===w||void 0===w||null===(t=w.tutor)||void 0===t?void 0:t.name)})]}),(0,lt.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:["$",(null===p||void 0===p?void 0:p.hourlyRate)||(null===w||void 0===w||null===(n=w.tutor)||void 0===n?void 0:n.hourlyRate),"/hr \u2022",(null===p||void 0===p?void 0:p.rating)||(null===w||void 0===w||null===(r=w.tutor)||void 0===r?void 0:r.rating),"\u2b50 \u2022",(null===p||void 0===p?void 0:p.totalSessions)||(null===w||void 0===w||null===(s=w.tutor)||void 0===s?void 0:s.totalSessions)," sessions"]}),((null===p||void 0===p?void 0:p.bio)||(null===w||void 0===w||null===(a=w.tutor)||void 0===a?void 0:a.bio))&&(0,lt.jsx)("p",{className:"text-sm text-blue-600",children:(null===p||void 0===p?void 0:p.bio)||(null===w||void 0===w||null===(i=w.tutor)||void 0===i?void 0:i.bio)})]}),(null===w||void 0===w?void 0:w.subjects)&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),(0,lt.jsxs)("select",{value:P.subjectId,onChange:e=>M("subjectId",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,lt.jsx)("option",{value:"",children:"Choose a subject..."}),w.subjects.map(e=>(0,lt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Title *"}),(0,lt.jsx)("input",{type:"text",value:P.title,onChange:e=>M("title",e.target.value),placeholder:"e.g., Algebra Review Session",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,lt.jsx)("textarea",{value:P.description,onChange:e=>M("description",e.target.value),placeholder:"Describe what you'd like to focus on in this session...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Type *"}),(0,lt.jsx)("div",{className:"grid grid-cols-2 gap-3",children:R.map(e=>{const t=e.icon;return(0,lt.jsxs)("button",{type:"button",onClick:()=>M("sessionType",e.value),className:"p-3 rounded-lg border-2 transition-colors flex items-center justify-center ".concat(P.sessionType===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,lt.jsx)(t,{className:"h-4 w-4 mr-2"}),e.label]},e.value)})})]}),"online"===P.sessionType&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Link *"}),(0,lt.jsx)("input",{type:"url",value:P.meetingLink,onChange:e=>M("meetingLink",e.target.value),placeholder:"https://zoom.us/j/123456789 or Google Meet link",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),"in-person"===P.sessionType&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Location *"}),(0,lt.jsx)("input",{type:"text",value:P.locationAddress,onChange:e=>M("locationAddress",e.target.value),placeholder:"Library, coffee shop, campus building, etc.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),(0,lt.jsx)("select",{value:P.durationMinutes,onChange:e=>M("durationMinutes",parseInt(e.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[{value:30,label:"30 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"},{value:180,label:"3 hours"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsx)("input",{type:"date",id:"scheduledDate",value:P.scheduledDate,onChange:e=>M("scheduledDate",e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),P.scheduledDate&&P.tutorId&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Time Slots *"}),E?(0,lt.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,lt.jsx)(Ot,{className:"h-5 w-5 mx-auto mb-2 animate-spin"}),"Checking availability..."]}):C.length>0?(0,lt.jsx)("div",{className:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:C.map((e,t)=>(0,lt.jsx)("button",{type:"button",onClick:()=>M("scheduledTime",e.startTime),className:"p-2 text-sm rounded border-2 transition-colors ".concat(P.scheduledTime===e.startTime?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:e.startTime},t))}):(0,lt.jsx)("div",{className:"p-4 text-center text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:"No available slots for selected date and duration"})]}),P.hourlyRate>0&&(0,lt.jsxs)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,lt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,lt.jsx)(Rt,{className:"h-5 w-5 text-gray-600 mr-2"}),(0,lt.jsx)("h3",{className:"font-medium text-gray-900",children:"Cost Summary"})]}),(0,lt.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{children:"Duration:"}),(0,lt.jsxs)("span",{children:[P.durationMinutes," minutes"]})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{children:"Hourly Rate:"}),(0,lt.jsxs)("span",{children:["$",P.hourlyRate,"/hr"]})]}),(0,lt.jsxs)("div",{className:"flex justify-between font-medium text-gray-900 pt-2 border-t",children:[(0,lt.jsx)("span",{children:"Total Cost:"}),(0,lt.jsxs)("span",{children:["$",U()]})]})]})]})]})]}):(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Summary"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"font-medium text-gray-700",children:"Tutor:"}),(0,lt.jsx)("p",{className:"text-gray-900",children:(null===p||void 0===p?void 0:p.name)||(null===w||void 0===w||null===(o=w.tutor)||void 0===o?void 0:o.name)})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"font-medium text-gray-700",children:"Subject:"}),(0,lt.jsx)("p",{className:"text-gray-900",children:(null===w||void 0===w||null===(u=w.subjects)||void 0===u||null===(c=u.find(e=>e.id==P.subjectId))||void 0===c?void 0:c.name)||"Selected Subject"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"font-medium text-gray-700",children:"Title:"}),(0,lt.jsx)("p",{className:"text-gray-900",children:P.title})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"font-medium text-gray-700",children:"Type:"}),(0,lt.jsxs)("p",{className:"text-gray-900 capitalize",children:[P.sessionType," Session"]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"font-medium text-gray-700",children:"Date & Time:"}),(0,lt.jsxs)("p",{className:"text-gray-900",children:[new Date("".concat(P.scheduledDate,"T").concat(P.scheduledTime)).toLocaleDateString()," at ",P.scheduledTime]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"font-medium text-gray-700",children:"Duration:"}),(0,lt.jsxs)("p",{className:"text-gray-900",children:[P.durationMinutes," minutes"]})]})]})]}),(0,lt.jsxs)("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,lt.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,lt.jsx)(Rt,{className:"h-5 w-5 mr-2"}),"Payment Details"]}),(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lt.jsx)("span",{children:"Hourly Rate:"}),(0,lt.jsxs)("span",{children:["$",P.hourlyRate,"/hr"]})]}),(0,lt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lt.jsx)("span",{children:"Duration:"}),(0,lt.jsxs)("span",{children:[P.durationMinutes/60," hour",60!==P.durationMinutes?"s":""]})]}),(0,lt.jsxs)("div",{className:"flex justify-between text-lg font-semibold text-blue-900 pt-3 border-t border-blue-200",children:[(0,lt.jsx)("span",{children:"Total Amount:"}),(0,lt.jsxs)("span",{children:["$",U()]})]})]})]}),(0,lt.jsxs)("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:"Payment Method"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded text-white text-xs font-bold flex items-center justify-center",children:"MOCK"}),(0,lt.jsx)("div",{children:(0,lt.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"Mock Payment System"})})]})]})]}),(0,lt.jsxs)("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[(0,lt.jsx)("div",{children:2===A&&(0,lt.jsx)("button",{type:"button",onClick:()=>{2===A&&S(1)},className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:B,children:"Back"})}),(0,lt.jsxs)("div",{className:"flex gap-3",children:[(0,lt.jsx)("button",{type:"button",onClick:V,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:B,children:"Cancel"}),(0,lt.jsx)("button",{type:"submit",disabled:B||D,className:"px-6 py-2 rounded-lg transition-colors flex items-center ".concat(B||D?"bg-gray-400 cursor-not-allowed":1===A?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"," text-white"),children:B?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Payment..."]}):D?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(kt,{className:"h-4 w-4 mr-2"}),"Completed!"]}):1===A?(0,lt.jsx)(lt.Fragment,{children:"Continue to Payment"}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Rt,{className:"h-4 w-4 mr-2"}),"Pay $",U()]})})]})]})]})]})]})}):null},qt=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(!0),[s,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(""),[u,c]=(0,l.useState)(""),[d,m]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[f,g]=(0,l.useState)("price_low"),[x,y]=(0,l.useState)([]),[D,v]=(0,l.useState)(!1),[b,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{N()},[]);const w=(0,l.useCallback)(async()=>{try{r(!0),a(null);const e=await Ge.getTutors(Ve(Ve(Ve({subject:u||void 0},d&&{minRate:parseFloat(d)}),h&&{maxRate:parseFloat(h)}),{},{minRating:void 0,search:i||void 0}));t(e||[])}catch(e){a(e.message||"Failed to fetch tutors"),console.error("Error fetching tutors:",e)}finally{r(!1)}},[u,d,h,i]);(0,l.useEffect)(()=>{w()},[w,u,d,h,f]);const N=async()=>{try{const e=((await rt.list({active:!0,limit:100})).subjects||[]).map(e=>e.name).sort();y(e)}catch(e){console.warn("Failed to load subjects; falling back to static list.",e),y(["Mathematics","Physics","Spanish","Chemistry","Biology"])}};if(n)return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"}),(0,lt.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tutors from database..."})]})});if(s)return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsxs)("p",{className:"text-red-600 mb-4",children:["Error loading tutors: ",s]}),(0,lt.jsx)("button",{onClick:w,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Retry"})]})});const C=[...e.filter(e=>{const t=!i||e.firstName.toLowerCase().includes(i.toLowerCase())||e.lastName.toLowerCase().includes(i.toLowerCase())||e.bio&&e.bio.toLowerCase().includes(i.toLowerCase()),n=(!d||e.hourlyRate>=parseFloat(d))&&(!h||e.hourlyRate<=parseFloat(h));return t&&n})].sort((e,t)=>{switch(f){case"price_low":default:return e.hourlyRate-t.hourlyRate;case"price_high":return t.hourlyRate-e.hourlyRate;case"rating":return t.rating-e.rating}});return(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white py-12",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Find Your Perfect Tutor"}),(0,lt.jsx)("p",{className:"text-xl text-primary-100",children:"Browse our network of expert tutors and find the perfect match for your learning needs"})]})})}),(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,lt.jsx)("div",{className:"lg:col-span-2",children:(0,lt.jsx)("input",{type:"text",placeholder:"Search by subject, tutor name...",value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),(0,lt.jsx)("div",{children:(0,lt.jsxs)("select",{value:u,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,lt.jsx)("option",{value:"",children:"All Subjects"}),x.map(e=>(0,lt.jsx)("option",{value:e,children:e},e))]})}),(0,lt.jsxs)("div",{className:"flex space-x-2",children:[(0,lt.jsx)("input",{type:"number",placeholder:"Min $",value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",min:"0",step:"1"}),(0,lt.jsx)("input",{type:"number",placeholder:"Max $",value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",min:"0",step:"1"})]}),(0,lt.jsx)("div",{children:(0,lt.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,lt.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,lt.jsx)("option",{value:"price_high",children:"Price: High to Low"})]})}),(0,lt.jsxs)("button",{onClick:()=>{o(""),c(""),m(""),p(""),g("price_low")},className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Reset all filters",children:[(0,lt.jsx)(Pt,{className:"h-4 w-4 mr-2"}),"Reset"]})]}),(0,lt.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",C.length," of ",e.length," tutors"]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(e=>{var t,n;return(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,lt.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,lt.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:e.profileImageUrl?(0,lt.jsx)("img",{src:e.profileImageUrl,alt:"".concat(e.firstName," ").concat(e.lastName),className:"w-16 h-16 rounded-full object-cover"}):(0,lt.jsxs)("span",{children:[null===(t=e.firstName)||void 0===t?void 0:t[0],null===(n=e.lastName)||void 0===n?void 0:n[0]]})}),(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.firstName," ",e.lastName]}),(0,lt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,lt.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((t,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-300")},n))}),(0,lt.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:[e.rating," (",e.totalSessions," sessions)"]}),e.rating>=4.5&&(0,lt.jsx)(Et,{className:"h-4 w-4 ml-2 text-yellow-500",title:"Top-rated tutor"})]}),e.location&&(0,lt.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-500",children:[(0,lt.jsx)(Bt,{className:"h-3 w-3 mr-1"}),(0,lt.jsx)("span",{children:e.location})]})]})]}),(0,lt.jsx)("div",{className:"mb-4",children:(0,lt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.subjects.slice(0,3).map(e=>(0,lt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:e.name},e.id)),e.subjects.length>3&&(0,lt.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:["+",e.subjects.length-3," more"]})]})}),(0,lt.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.bio}),(0,lt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex items-center justify-center mb-1",children:(0,lt.jsx)(Rt,{className:"h-4 w-4 text-green-600"})}),(0,lt.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:["$",e.hourlyRate]}),(0,lt.jsx)("p",{className:"text-xs text-gray-500",children:"per hour"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex items-center justify-center mb-1",children:(0,lt.jsx)(It,{className:"h-4 w-4 text-blue-600"})}),(0,lt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.totalSessions}),(0,lt.jsx)("p",{className:"text-xs text-gray-500",children:"sessions"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex items-center justify-center mb-1",children:(0,lt.jsx)(Ot,{className:"h-4 w-4 text-purple-600"})}),(0,lt.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[e.experienceYears,"y"]}),(0,lt.jsx)("p",{className:"text-xs text-gray-500",children:"experience"})]})]}),(0,lt.jsx)("div",{className:"mb-4",children:(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-1"}),(0,lt.jsx)("span",{children:e.isAvailable?"Available now":"Busy"})]})}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("button",{onClick:()=>(e=>{j(e),v(!0)})(e),className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-center block font-medium",children:"Book Session"}),(0,lt.jsx)(Ie,{to:"/tutors/".concat(e.id),className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors font-medium text-center block",children:"View Profile"})]})]},e.id)})}),0===C.length&&(0,lt.jsxs)("div",{className:"text-center py-12",children:[(0,lt.jsx)(Nt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tutors found"}),(0,lt.jsx)("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria to find more tutors."}),(0,lt.jsx)("button",{onClick:()=>{o(""),c(""),m(""),p(""),g("price_low")},className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Clear Filters"})]}),(0,lt.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-8 text-white text-center",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Start Learning?"}),(0,lt.jsx)("p",{className:"text-primary-100 mb-6",children:"Join thousands of students who have found their perfect tutor on TutorConnect"}),(0,lt.jsxs)("div",{className:"space-x-4",children:[(0,lt.jsx)(Ie,{to:"/signup",className:"bg-white text-primary-600 px-6 py-3 rounded-lg hover:bg-gray-100 transition-colors font-medium inline-block",children:"Get Started Free"}),(0,lt.jsx)(Ie,{to:"/login",className:"border border-white text-white px-6 py-3 rounded-lg hover:bg-white hover:text-primary-600 transition-colors font-medium inline-block",children:"Sign In"})]})]})]}),D&&(0,lt.jsx)(Ut,{isOpen:D,onClose:()=>v(!1),onSessionBooked:e=>{console.log("Session booked successfully:",e),v(!1),j(null)},selectedTutor:b})]})},Vt=xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ht=xt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Wt=xt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),$t=xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Yt=()=>{var e,t,n;const{id:r}=ue(),[s,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(!0),[u,c]=(0,l.useState)(null),[d,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)([]),[f,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)(null),[D,v]=(0,l.useState)(0),[b,j]=(0,l.useState)({total:0,limit:5,offset:0,hasMore:!1});(0,l.useEffect)(()=>{(async()=>{try{o(!0);const e=await Ge.getTutorById(r);a(e)}catch(e){console.error("Failed to load tutor",e),c(e.message||"Failed to load tutor")}finally{o(!1)}})()},[r]),(0,l.useEffect)(()=>{(async()=>{if(r)try{g(!0),y(null);const e=await st.getByTutor(r,{limit:b.limit,offset:b.offset});p(e.reviews||[]),e.pagination&&j(t=>Ve(Ve({},t),{},{total:e.pagination.total,hasMore:e.pagination.hasMore}))}catch(e){console.error("Failed to load reviews",e),y(e.message||"Failed to load reviews")}finally{g(!1)}})()},[r,b.limit,b.offset,D]);return i?(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto"}),(0,lt.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tutor profile..."})]})}):u||!s?(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("p",{className:"text-red-600 mb-4",children:u||"Tutor not found"}),(0,lt.jsxs)(Ie,{to:"/browse-tutors",className:"inline-flex items-center text-primary-600 hover:underline",children:[(0,lt.jsx)(Vt,{className:"h-4 w-4 mr-1"})," Back to Browse"]})]})}):(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lt.jsx)("div",{className:"mb-6",children:(0,lt.jsxs)(Ie,{to:"/browse-tutors",className:"inline-flex items-center text-primary-600 hover:underline",children:[(0,lt.jsx)(Vt,{className:"h-4 w-4 mr-1"})," Back to Browse"]})}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,lt.jsx)("div",{className:"w-20 h-20 rounded-full bg-primary-600 flex items-center justify-center text-white text-xl font-semibold",children:s.profileImageUrl?(0,lt.jsx)("img",{src:s.profileImageUrl,alt:"".concat(s.firstName," ").concat(s.lastName),className:"w-20 h-20 rounded-full object-cover"}):(0,lt.jsxs)("span",{children:[null===(e=s.firstName)||void 0===e?void 0:e[0],null===(t=s.lastName)||void 0===t?void 0:t[0]]})}),(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[s.firstName," ",s.lastName]}),(0,lt.jsxs)("div",{className:"flex items-center mt-1 text-sm text-gray-600",children:[(0,lt.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,t)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(t<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300")},t))}),(0,lt.jsxs)("span",{className:"ml-2",children:[s.rating," rating"]}),(0,lt.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,lt.jsxs)("span",{children:[s.totalSessions," sessions"]})]})]}),(0,lt.jsxs)("div",{className:"text-right",children:[(0,lt.jsx)("div",{className:"text-gray-500 text-sm",children:"Hourly rate"}),(0,lt.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:["$",s.hourlyRate]})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[(0,lt.jsx)(It,{className:"h-5 w-5 mr-2 text-primary-600"})," Subjects"]}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2",children:null!==(n=s.subjects)&&void 0!==n&&n.length?s.subjects.map(e=>(0,lt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:e.name},e.id||e.name)):(0,lt.jsx)("span",{className:"text-sm text-gray-500",children:"No subjects listed"})})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),(0,lt.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:s.bio||"This tutor has not added a bio yet."})]}),(0,lt.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,lt.jsx)(Rt,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),(0,lt.jsxs)("div",{className:"text-xl font-semibold text-gray-900",children:["$",s.hourlyRate]}),(0,lt.jsx)("div",{className:"text-xs text-gray-500",children:"per hour"})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,lt.jsx)(Nt,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),(0,lt.jsx)("div",{className:"text-xl font-semibold text-gray-900",children:s.totalSessions}),(0,lt.jsx)("div",{className:"text-xs text-gray-500",children:"total sessions"})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,lt.jsx)(Ot,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),(0,lt.jsxs)("div",{className:"text-xl font-semibold text-gray-900",children:[s.experienceYears||0,"y"]}),(0,lt.jsx)("div",{className:"text-xs text-gray-500",children:"experience"})]})]}),(0,lt.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,lt.jsx)(Ht,{className:"h-5 w-5 mr-2 text-primary-600"}),"Student Reviews",b.total>0&&(0,lt.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",b.total," ",1===b.total?"review":"reviews",")"]})]}),f&&(0,lt.jsxs)("div",{className:"text-center py-8",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,lt.jsx)("p",{className:"mt-3 text-gray-600",children:"Loading reviews..."})]}),!f&&x&&(0,lt.jsxs)("div",{className:"text-center py-8 bg-red-50 rounded-lg border border-red-200",children:[(0,lt.jsx)("p",{className:"text-red-600 mb-3",children:x}),(0,lt.jsx)("button",{onClick:()=>{v(e=>e+1)},className:"text-primary-600 hover:text-primary-700 font-medium","aria-label":"Retry loading reviews",children:"Try Again"})]}),!f&&!x&&0===h.length&&(0,lt.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,lt.jsx)(Ht,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"No reviews yet"}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Be the first to book a session and leave a review!"})]}),!f&&!x&&h.length>0&&(0,lt.jsxs)("div",{className:"space-y-4",children:[h.map(e=>{var t,n,r,s,a,i,l;return(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white text-sm font-medium",children:null!==(t=e.student)&&void 0!==t&&t.avatar?(0,lt.jsx)("img",{src:e.student.avatar,alt:"".concat(e.student.firstName," ").concat(e.student.lastName),className:"w-10 h-10 rounded-full object-cover"}):(0,lt.jsxs)("span",{children:[null===(n=e.student)||void 0===n||null===(r=n.firstName)||void 0===r?void 0:r[0],null===(s=e.student)||void 0===s||null===(a=s.lastName)||void 0===a?void 0:a[0]]})}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(i=e.student)||void 0===i?void 0:i.firstName," ",null===(l=e.student)||void 0===l?void 0:l.lastName]}),(0,lt.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),e.subjectName&&" \u2022 ".concat(e.subjectName)]})]})]}),(0,lt.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((t,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<e.rating?"text-yellow-400 fill-current":"text-gray-300")},n))})]}),e.comment&&(0,lt.jsx)("p",{className:"text-gray-700 text-sm mt-2 whitespace-pre-line",children:e.comment})]},e.id)}),b.total>b.limit&&(0,lt.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,lt.jsxs)("button",{onClick:()=>{b.offset>0&&j(e=>Ve(Ve({},e),{},{offset:Math.max(0,e.offset-e.limit)}))},disabled:0===b.offset,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page of reviews",children:[(0,lt.jsx)(Wt,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,lt.jsxs)("span",{className:"text-sm text-gray-600",children:["Showing ",b.offset+1," - ",Math.min(b.offset+b.limit,b.total)," of ",b.total]}),(0,lt.jsxs)("button",{onClick:()=>{b.hasMore&&j(e=>Ve(Ve({},e),{},{offset:e.offset+e.limit}))},disabled:!b.hasMore,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page of reviews",children:["Next",(0,lt.jsx)($t,{className:"h-4 w-4 ml-1"})]})]})]})]}),(0,lt.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-3",children:[(0,lt.jsx)("button",{onClick:()=>m(!0),className:"btn-primary flex-1",children:"Book Session"}),(0,lt.jsx)(Ie,{to:"/browse-tutors",className:"btn-secondary flex-1 text-center",children:"Continue Browsing"})]})]})]}),d&&(0,lt.jsx)(Ut,{isOpen:d,onClose:()=>m(!1),onSessionBooked:()=>{m(!1)},selectedTutor:s})]})},Gt=xt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Qt=()=>{const{user:e}=ut(),t=oe(),[n,r]=(0,l.useState)(1),[s,a]=(0,l.useState)(!1),[i,o]=(0,l.useState)(""),[u,c]=(0,l.useState)(""),[d,m]=(0,l.useState)({yearsOfExperience:"",hourlyRate:"",educationBackground:"",certifications:"",languagesSpoken:["English"],teachingPhilosophy:"",preferredTeachingMethod:"",subjects:[],availability:{monday:{available:!1,slots:[]},tuesday:{available:!1,slots:[]},wednesday:{available:!1,slots:[]},thursday:{available:!1,slots:[]},friday:{available:!1,slots:[]},saturday:{available:!1,slots:[]},sunday:{available:!1,slots:[]}}}),[h,p]=(0,l.useState)([]),[f,g]=(0,l.useState)([]);(0,l.useEffect)(()=>{e&&"tutor"!==e.role?"admin"===e.role?t("/admin"):t("/student"):x()},[e,t]);const x=async()=>{try{console.log("Fetching subjects from /api/subjects...");const e=localStorage.getItem("token");console.log("Auth token present:",!!e);const t=await fetch("/api/subjects",{method:"GET",headers:Ve({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})});if(console.log("Subjects API response status:",t.status),console.log("Subjects API response headers:",Object.fromEntries(t.headers.entries())),t.ok){const e=await t.json();console.log("Subjects API response data:",e),e&&Array.isArray(e.subjects)?(console.log("Setting subjects from data.subjects:",e.subjects.length,"items"),p(e.subjects)):Array.isArray(e)?(console.log("Setting subjects from direct array:",e.length,"items"),p(e)):(console.error("Invalid subjects data format:",e),p(y()))}else{const e=await t.text();console.error("Failed to fetch subjects:",{status:t.status,statusText:t.statusText,error:e}),p(y())}}catch(i){console.error("Failed to fetch subjects - network error:",i),p(y())}},y=()=>[{id:"5300be37-5643-4372-98c7-3c468655c838",name:"Mathematics",description:"Basic to advanced mathematics including algebra, calculus, and statistics",category:"academics"},{id:"886240f2-186d-4f7c-8a6a-89b41d11adca",name:"Physics",description:"Physics concepts from basic mechanics to advanced quantum physics",category:"science"},{id:"95b21b45-c123-4d56-8e9f-a1b2c3d4e5f6",name:"Spanish",description:"Spanish language learning from beginner to advanced levels",category:"language"},{id:"b59cf17e-6bdf-4de9-b775-7a55609eb1c6",name:"Computer Science",description:"Programming, algorithms, data structures, and software development",category:"technology"}],D=(e,t)=>{m(n=>Ve(Ve({},n),{},{[e]:t}))},v=()=>{m(e=>Ve(Ve({},e),{},{languagesSpoken:[...e.languagesSpoken,""]}))},b=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},j=(e,t,n,r)=>{m(s=>Ve(Ve({},s),{},{availability:Ve(Ve({},s.availability),{},{[e]:Ve(Ve({},s.availability[e]),{},{slots:s.availability[e].slots.map((e,s)=>s===t?Ve(Ve({},e),{},{[n]:r}):e)})})}))},w=e=>{switch(e){case 1:if(!d.yearsOfExperience||!d.hourlyRate||!d.preferredTeachingMethod)return o("Please fill in all required fields"),!1;if(d.hourlyRate<10||d.hourlyRate>200)return o("Hourly rate must be between $10 and $200"),!1;break;case 2:if(0===f.length)return o("Please select at least one subject you can teach"),!1;break;case 3:if(!Object.values(d.availability).some(e=>e.available&&e.slots.length>0))return o("Please set at least one availability slot"),!1;break}return o(""),!0},N=[{number:1,title:"Basic Info",icon:yt},{number:2,title:"Subjects",icon:It},{number:3,title:"Availability",icon:Mt},{number:4,title:"Review",icon:kt}];return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,lt.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,lt.jsx)("div",{className:"mb-8",children:(0,lt.jsx)("div",{className:"flex items-center justify-between",children:N.map((e,t)=>{const r=e.icon,s=n===e.number,a=n>e.number;return(0,lt.jsx)("div",{className:"flex-1",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 ".concat(s?"border-blue-500 bg-blue-500 text-white":a?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white text-gray-400"),children:(0,lt.jsx)(r,{className:"h-5 w-5"})}),(0,lt.jsx)("div",{className:"ml-3 hidden sm:block",children:(0,lt.jsx)("p",{className:"text-sm font-medium ".concat(s?"text-blue-600":a?"text-green-600":"text-gray-500"),children:e.title})}),t<N.length-1&&(0,lt.jsx)("div",{className:"flex-1 ml-4",children:(0,lt.jsx)("div",{className:"h-0.5 ".concat(a?"bg-green-500":"bg-gray-300")})})]})},e.number)})})}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[i&&(0,lt.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),(0,lt.jsx)("span",{className:"text-red-700",children:i})]}),u&&(0,lt.jsxs)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[(0,lt.jsx)(kt,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),(0,lt.jsx)("span",{className:"text-green-700",children:u})]}),1===n&&(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Basic Information"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-2",children:"Tell us about your teaching experience and rates"})]}),(0,lt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience *"}),(0,lt.jsxs)("select",{value:d.yearsOfExperience,onChange:e=>D("yearsOfExperience",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,lt.jsx)("option",{value:"",children:"Select experience"}),(0,lt.jsx)("option",{value:"0",children:"Less than 1 year"}),(0,lt.jsx)("option",{value:"1",children:"1 year"}),(0,lt.jsx)("option",{value:"2",children:"2 years"}),(0,lt.jsx)("option",{value:"3",children:"3 years"}),(0,lt.jsx)("option",{value:"4",children:"4 years"}),(0,lt.jsx)("option",{value:"5",children:"5+ years"}),(0,lt.jsx)("option",{value:"10",children:"10+ years"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate (USD) *"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,lt.jsx)("input",{type:"number",min:"10",max:"200",value:d.hourlyRate,onChange:e=>D("hourlyRate",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50",required:!0})]})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Education Background"}),(0,lt.jsx)("textarea",{value:d.educationBackground,onChange:e=>D("educationBackground",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"e.g., Bachelor's in Mathematics, Master's in Education..."})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),(0,lt.jsx)("textarea",{value:d.certifications,onChange:e=>D("certifications",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"List any teaching certifications or relevant qualifications..."})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages Spoken"}),d.languagesSpoken.map((e,t)=>(0,lt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,lt.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...d.languagesSpoken];n[e]=t,m(e=>Ve(Ve({},e),{},{languagesSpoken:n}))})(t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Language"}),d.languagesSpoken.length>1&&(0,lt.jsx)("button",{type:"button",onClick:()=>(e=>{if(d.languagesSpoken.length>1){const t=d.languagesSpoken.filter((t,n)=>n!==e);m(e=>Ve(Ve({},e),{},{languagesSpoken:t}))}})(t),className:"px-3 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50",children:"Remove"})]},t)),(0,lt.jsx)("button",{type:"button",onClick:v,className:"text-blue-600 hover:text-blue-700 text-sm",children:"+ Add Language"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Teaching Method *"}),(0,lt.jsxs)("select",{value:d.preferredTeachingMethod,onChange:e=>D("preferredTeachingMethod",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,lt.jsx)("option",{value:"",children:"Select teaching method"}),(0,lt.jsx)("option",{value:"online",children:"Online Sessions"}),(0,lt.jsx)("option",{value:"in_person",children:"In-Person Sessions"}),(0,lt.jsx)("option",{value:"both",children:"Both Online and In-Person"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teaching Philosophy"}),(0,lt.jsx)("textarea",{value:d.teachingPhilosophy,onChange:e=>D("teachingPhilosophy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Describe your approach to teaching and learning..."})]})]}),2===n&&(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Subjects You Teach"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-2",children:"Select the subjects you're qualified to tutor"})]}),(0,lt.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-4",children:Array.isArray(h)&&h.length>0?h.map(e=>(0,lt.jsx)("div",{className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat(f.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>b(e.id),children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("input",{type:"checkbox",checked:f.includes(e.id),onChange:()=>b(e.id),className:"mr-3"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),e.description&&(0,lt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]})},e.id)):(0,lt.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,lt.jsx)("div",{className:"text-gray-500",children:0===h.length?(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),(0,lt.jsx)("span",{children:"Loading subjects..."})]}),(0,lt.jsx)("p",{className:"text-sm text-gray-400",children:"Fetching available subjects from the server"})]}):(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsx)("p",{children:"No subjects available at the moment."}),(0,lt.jsx)("p",{className:"text-sm text-gray-400",children:"There might be an issue connecting to the server"})]})}),(0,lt.jsx)("button",{type:"button",onClick:x,className:"mt-4 px-4 py-2 text-blue-600 hover:text-blue-700 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors",children:"Retry Loading Subjects"})]})}),f.length>0&&(0,lt.jsxs)("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[(0,lt.jsx)("h4",{className:"font-medium text-green-900",children:"Selected Subjects:"}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(e=>{const t=h.find(t=>t.id===e);return(0,lt.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:null===t||void 0===t?void 0:t.name},e)})})]})]}),3===n&&(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Set Your Availability"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-2",children:"When are you available for tutoring sessions?"})]}),(0,lt.jsx)("div",{className:"space-y-4",children:Object.entries(d.availability).map(e=>{let[t,n]=e;return(0,lt.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("input",{type:"checkbox",checked:n.available,onChange:e=>((e,t,n)=>{m(r=>Ve(Ve({},r),{},{availability:Ve(Ve({},r.availability),{},{[e]:Ve(Ve({},r.availability[e]),{},{[t]:n})})}))})(t,"available",e.target.checked),className:"mr-3"}),(0,lt.jsx)("span",{className:"font-medium capitalize",children:t})]}),n.available&&(0,lt.jsx)("button",{type:"button",onClick:()=>(e=>{const t={startTime:"09:00",endTime:"10:00"};m(n=>Ve(Ve({},n),{},{availability:Ve(Ve({},n.availability),{},{[e]:Ve(Ve({},n.availability[e]),{},{slots:[...n.availability[e].slots,t]})})}))})(t),className:"text-blue-600 hover:text-blue-700 text-sm",children:"+ Add Time Slot"})]}),n.available&&(0,lt.jsx)("div",{className:"space-y-2",children:n.slots.map((e,n)=>(0,lt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,lt.jsx)("input",{type:"time",value:e.startTime,onChange:e=>j(t,n,"startTime",e.target.value),className:"px-3 py-1 border border-gray-300 rounded"}),(0,lt.jsx)("span",{className:"text-gray-500",children:"to"}),(0,lt.jsx)("input",{type:"time",value:e.endTime,onChange:e=>j(t,n,"endTime",e.target.value),className:"px-3 py-1 border border-gray-300 rounded"}),(0,lt.jsx)("button",{type:"button",onClick:()=>((e,t)=>{m(n=>Ve(Ve({},n),{},{availability:Ve(Ve({},n.availability),{},{[e]:Ve(Ve({},n.availability[e]),{},{slots:n.availability[e].slots.filter((e,n)=>n!==t)})})}))})(t,n),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]},n))})]},t)})})]}),4===n&&(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Your Profile"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-2",children:"Please review your information before submitting"})]}),(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Basic Information"}),(0,lt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"Experience:"}),(0,lt.jsxs)("span",{className:"ml-2",children:[d.yearsOfExperience," years"]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"Hourly Rate:"}),(0,lt.jsxs)("span",{className:"ml-2",children:["$",d.hourlyRate]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"Languages:"}),(0,lt.jsx)("span",{className:"ml-2",children:d.languagesSpoken.filter(e=>e).join(", ")})]})]})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Subjects"}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2",children:f.length>0&&Array.isArray(h)?f.map(e=>{const t=h.find(t=>t.id===e);return(0,lt.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:(null===t||void 0===t?void 0:t.name)||"Unknown Subject"},e)}):(0,lt.jsx)("p",{className:"text-gray-500 text-sm",children:"No subjects selected"})})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Availability"}),(0,lt.jsx)("div",{className:"space-y-2 text-sm",children:Object.entries(d.availability).filter(e=>{let[t,n]=e;return n.available&&n.slots.length>0}).map(e=>{let[t,n]=e;return(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("span",{className:"font-medium capitalize",children:[t,":"]}),(0,lt.jsx)("span",{className:"ml-2",children:n.slots.map(e=>"".concat(e.startTime,"-").concat(e.endTime)).join(", ")})]},t)})})]})]})]}),(0,lt.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[(0,lt.jsx)("button",{type:"button",onClick:()=>{r(e=>Math.max(e-1,1)),o("")},disabled:1===n,className:"px-6 py-2 rounded-lg border transition-colors ".concat(1===n?"border-gray-300 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Previous"}),n<4?(0,lt.jsxs)("button",{type:"button",onClick:()=>{w(n)&&r(e=>Math.min(e+1,4))},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:["Next",(0,lt.jsx)($t,{className:"h-4 w-4 ml-1"})]}):(0,lt.jsx)("button",{type:"button",onClick:async()=>{if(!w(n))return;if(!e)return void o("User not authenticated. Please log in again.");if("tutor"!==e.role)return void o("Access denied. User role is '".concat(e.role,"', but 'tutor' role is required."));if(localStorage.getItem("token")){a(!0),o("");try{console.log("\ud83d\ude80 Starting profile setup submission..."),console.log("\ud83d\udc64 Current user:",e),console.log("\ud83d\udd11 Token exists:",!!localStorage.getItem("token")),console.log("\ud83d\udcdd Step 1: Updating tutor profile...");const n={yearsOfExperience:parseInt(d.yearsOfExperience),hourlyRate:parseFloat(d.hourlyRate),educationBackground:d.educationBackground,certifications:d.certifications?d.certifications.split(",").map(e=>e.trim()).filter(e=>e):[],languagesSpoken:d.languagesSpoken.filter(e=>e.trim()),teachingPhilosophy:d.teachingPhilosophy,preferredTeachingMethod:d.preferredTeachingMethod};console.log("\ud83d\udcdd Profile data to send:",n);const s=await fetch("/api/profiles/tutor",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(n)});if(!s.ok){let e;try{const t=await s.json();e=t.message||"HTTP ".concat(s.status),console.error("\u274c Profile update failed - JSON response:",t)}catch(r){e=await s.text(),console.error("\u274c Profile update failed - Text response:",e)}throw console.error("\u274c Profile update failed:",{status:s.status,statusText:s.statusText,headers:Object.fromEntries(s.headers.entries()),error:e}),new Error("Failed to update profile: ".concat(s.status," - ").concat(e))}const a=await s.json();if(console.log("\u2705 Profile update successful:",a),console.log("\ud83d\udcda Step 2: Saving subjects..."),console.log("\ud83d\udcda Selected subjects:",f),f.length>0){const e=await fetch("/api/tutors/subjects",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({subjects:f})});if(!e.ok){const t=await e.text();throw console.error("\u274c Subjects save failed:",{status:e.status,statusText:e.statusText,error:t}),new Error("Failed to save subjects: ".concat(e.status," - ").concat(t))}const t=await e.json();console.log("\u2705 Subjects save successful:",t)}else console.log("\u26a0\ufe0f No subjects selected, skipping subjects save");console.log("\ud83d\udcc5 Step 3: Saving availability..."),console.log("\ud83d\udcc5 Availability data:",d.availability);const i=await fetch("/api/availability",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({availability:d.availability})});if(!i.ok){const e=await i.text();throw console.error("\u274c Availability save failed:",{status:i.status,statusText:i.statusText,error:e}),new Error("Failed to save availability: ".concat(i.status," - ").concat(e))}const l=await i.json();console.log("\u2705 Availability save successful:",l),console.log("\ud83c\udf89 All steps completed successfully!"),c("Profile setup completed successfully!"),setTimeout(()=>{t("/tutor")},2e3)}catch(i){console.error("\u274c Profile setup error:",i),o("Failed to complete profile setup: ".concat(i.message))}finally{a(!1)}}else o("Authentication token not found. Please log in again.")},disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:s?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Gt,{className:"h-4 w-4 mr-2"}),"Complete Setup"]})})]})]})]})})},Kt=()=>{const{user:e,updateProfile:t}=ut(),n=oe(),[r,s]=(0,l.useState)({firstName:"",lastName:"",grade:"",school:"",interests:"",bio:""}),[a,i]=(0,l.useState)(!1),[o,u]=(0,l.useState)("");(0,l.useEffect)(()=>{e&&s({firstName:e.firstName||e.first_name||"",lastName:e.lastName||e.last_name||"",grade:e.grade||"",school:e.school||"",interests:e.interests||"",bio:e.bio||""})},[e]);const c=e=>{s(Ve(Ve({},r),{},{[e.target.name]:e.target.value}))};return e?(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,lt.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,lt.jsxs)("div",{className:"text-center mb-8",children:[(0,lt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Student Profile"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Please fill in your information to get started"})]}),o&&(0,lt.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,lt.jsx)("p",{className:"text-red-600 text-sm",children:o})}),(0,lt.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),i(!0),u("");try{await at.updateUser(e.id,{firstName:r.firstName,lastName:r.lastName,bio:r.bio});const s={};if(r.grade&&(s.gradeLevel=String(r.grade)),r.school&&(s.schoolName=r.school),r.interests){s.learningGoals=r.interests;const e=r.interests.split(",").map(e=>e.trim()).filter(Boolean);e.length&&(s.subjectsOfInterest=e)}r.preferredLearningStyle&&(s.preferredLearningStyle=r.preferredLearningStyle),await at.updateStudent(e.id,s),await t({firstName:r.firstName,lastName:r.lastName,bio:r.bio}),n("/student",{replace:!0})}catch(a){console.error("Profile update error:",a),u(a.message||"Failed to update profile. Please try again.")}finally{i(!1)}},className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,lt.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,lt.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level *"}),(0,lt.jsxs)("select",{id:"grade",name:"grade",value:r.grade,onChange:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,lt.jsx)("option",{value:"",children:"Select Grade"}),(0,lt.jsx)("option",{value:"6",children:"6th Grade"}),(0,lt.jsx)("option",{value:"7",children:"7th Grade"}),(0,lt.jsx)("option",{value:"8",children:"8th Grade"}),(0,lt.jsx)("option",{value:"9",children:"9th Grade"}),(0,lt.jsx)("option",{value:"10",children:"10th Grade"}),(0,lt.jsx)("option",{value:"11",children:"11th Grade"}),(0,lt.jsx)("option",{value:"12",children:"12th Grade"}),(0,lt.jsx)("option",{value:"13",children:"College Freshman"}),(0,lt.jsx)("option",{value:"14",children:"College Sophomore"}),(0,lt.jsx)("option",{value:"15",children:"College Junior"}),(0,lt.jsx)("option",{value:"16",children:"College Senior"}),(0,lt.jsx)("option",{value:"17",children:"Graduate Student"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700 mb-2",children:"School/Institution"}),(0,lt.jsx)("input",{type:"text",id:"school",name:"school",value:r.school,onChange:c,placeholder:"e.g., Washington High School",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"interests",className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Interests"}),(0,lt.jsx)("input",{type:"text",id:"interests",name:"interests",value:r.interests,onChange:c,placeholder:"e.g., Mathematics, Science, Literature",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"About You"}),(0,lt.jsx)("textarea",{id:"bio",name:"bio",value:r.bio,onChange:c,rows:4,placeholder:"Tell us a bit about yourself, your learning goals, or what you hope to achieve...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,lt.jsx)("button",{type:"button",onClick:()=>n("/student"),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Skip for Now"}),(0,lt.jsx)("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:a?"Saving...":"Complete Profile"})]})]})]})}):(0,lt.jsx)("div",{children:"Loading..."})},Jt=xt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Xt=xt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zt=()=>(0,lt.jsx)("nav",{className:"bg-primary-600 text-white shadow-lg",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,lt.jsx)(Ie,{to:"/",className:"font-bold text-xl hover:text-primary-100 transition-colors",children:"TutorConnect"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,lt.jsx)(Ie,{to:"/about",className:"hover:text-primary-100 transition-colors",children:"About Us"}),(0,lt.jsx)(Ie,{to:"/browse-tutors",className:"hover:text-primary-100 transition-colors",children:"Browse Tutors"}),(0,lt.jsx)(Ie,{to:"/login",className:"hover:text-primary-100 transition-colors",children:"Sign In"}),(0,lt.jsx)(Ie,{to:"/signup",className:"bg-white text-primary-600 px-4 py-2 rounded-md hover:bg-gray-100 transition-colors font-medium",children:"Get Started"})]})]})})}),en=xt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),tn=e=>{let{type:t="info",title:n,message:r,onClose:s,className:a=""}=e;const i=(e=>{switch(e){case"success":return{container:"bg-green-50 border-green-200 text-green-800",icon:(0,lt.jsx)(kt,{className:"h-5 w-5 text-green-400"}),iconBg:"text-green-400"};case"error":return{container:"bg-red-50 border-red-200 text-red-800",icon:(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-400"}),iconBg:"text-red-400"};case"warning":return{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:(0,lt.jsx)(zt,{className:"h-5 w-5 text-yellow-400"}),iconBg:"text-yellow-400"};default:return{container:"bg-blue-50 border-blue-200 text-blue-800",icon:(0,lt.jsx)(en,{className:"h-5 w-5 text-blue-400"}),iconBg:"text-blue-400"}}})(t);return(0,lt.jsx)("div",{className:"border rounded-md p-4 ".concat(i.container," ").concat(a),role:"alert",children:(0,lt.jsxs)("div",{className:"flex",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:i.icon}),(0,lt.jsxs)("div",{className:"ml-3 flex-1",children:[n&&(0,lt.jsx)("h3",{className:"text-sm font-medium mb-1",children:n}),(0,lt.jsx)("div",{className:"text-sm",children:r})]}),s&&(0,lt.jsx)("div",{className:"ml-auto pl-3",children:(0,lt.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,lt.jsxs)("button",{type:"button",className:"inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(i.iconBg," hover:bg-opacity-20"),onClick:s,children:[(0,lt.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,lt.jsx)(vt,{className:"h-5 w-5"})]})})})]})})},nn=e=>{let{isOpen:t,title:n,onClose:r,primaryAction:s,secondaryAction:a,children:i}=e;return t?(0,lt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,lt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40",onClick:r,"aria-hidden":"true"}),(0,lt.jsxs)("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-xl ring-1 ring-black/5 p-6",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[(0,lt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,lt.jsx)("h3",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:n}),(0,lt.jsx)("button",{onClick:r,className:"ml-3 inline-flex rounded-md p-1.5 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-primary-600","aria-label":"Close",children:(0,lt.jsx)(vt,{className:"h-5 w-5"})})]}),(0,lt.jsx)("div",{className:"mt-4 text-gray-700",children:i}),(0,lt.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-3",children:[a&&(0,lt.jsx)("button",{type:"button",onClick:a.onClick,className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600",children:a.label}),s&&(0,lt.jsx)("button",{type:"button",onClick:s.onClick,className:"btn-primary",children:s.label})]})]})]}):null},rn=()=>{var e;const[t,n]=(0,l.useState)({email:"",password:""}),[r,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)(""),[o,u]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(0),[p,f]=(0,l.useState)(!1),g=(0,l.useRef)(null),{login:x}=ut(),y=ie(),D=oe(),v=null===(e=y.state)||void 0===e?void 0:e.message;(0,l.useEffect)(()=>{const e=sessionStorage.getItem("loginEmail");e&&!t.email&&n(t=>Ve(Ve({},t),{},{email:e}))},[]),(0,l.useEffect)(()=>{!p&&g.current&&g.current.focus()},[p]);const b=e=>{const{name:t,value:r}=e.target;n(e=>Ve(Ve({},e),{},{[t]:r})),"email"===t&&sessionStorage.setItem("loginEmail",r.trim()),a&&(i(""),d(!1))};return(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)(Zt,{}),(0,lt.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,lt.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,lt.jsx)(Ie,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500 focus:outline-none focus:underline",children:"create a new account"})]})]}),(0,lt.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),!(t.email?t.email.includes("@")?t.password?!(t.password.length<6)||(i("Password must be at least 6 characters long"),0):(i("Password is required"),0):(i("Please enter a valid email address"),0):(i("Email address is required"),0)))return;u(!0),i("");const r=await x(t.email,t.password);if(r.success)sessionStorage.removeItem("loginEmail");else{let e=r.error||"Login failed. Please try again.";console.log("Login error:",e),e.includes("Invalid email or password")?e="\u274c The email or password you entered is incorrect. Please try again.":e.includes("Account is not active")?e="\u26a0\ufe0f Your account has been deactivated. Please contact support for assistance.":e.includes("Authentication failed")?e="\ud83d\udd12 Unable to sign in. Please check your credentials and try again.":e.includes("Validation failed")?e="\u26a0\ufe0f Please check your email and password format.":e.includes("HTTP Error: 401")?e="\u274c Wrong email or password. Please check your credentials and try again.":e.includes("Unable to connect to server")?e="\ud83c\udf10 Unable to connect to server. Please check your internet connection and try again.":(e.includes("Network Error")||e.includes("fetch"))&&(e="\ud83c\udf10 Network error. Please check your connection and try again.");e.includes("Invalid email or password")||e.includes("Wrong email or password")||e.includes("HTTP Error: 401")||e.toLowerCase().includes("unauthorized")?(h(e=>{const n=e+1;return n>=5?D("/forgot-password",{state:{email:t.email}}):f(!0),n}),n(e=>Ve(Ve({},e),{},{password:""})),i("")):i(e),d(!0),setTimeout(()=>d(!1),1e3)}u(!1)},children:[v&&(0,lt.jsx)(tn,{type:"success",message:v,onClose:()=>window.history.replaceState({},document.title)}),a&&(0,lt.jsx)(tn,{type:"error",message:a,onClose:()=>i("")}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,lt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-field mt-1 ".concat(a?"border-red-300 focus:border-red-500 focus:ring-red-500":""," ").concat(c?"animate-pulse":""),placeholder:"Enter your email",value:t.email,onChange:b,disabled:o})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,lt.jsxs)("div",{className:"mt-1 relative",children:[(0,lt.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,className:"input-field pr-10 ".concat(a?"border-red-300 focus:border-red-500 focus:ring-red-500":""," ").concat(c?"animate-pulse":""),placeholder:"Enter your password",value:t.password,onChange:b,ref:g,disabled:o}),(0,lt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!r),children:r?(0,lt.jsx)(Jt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):(0,lt.jsx)(Xt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})]})]}),(0,lt.jsx)("div",{className:"flex items-center justify-between",children:(0,lt.jsx)(Ie,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-500 focus:outline-none focus:underline",children:"Forgot your password?"})}),(0,lt.jsx)("div",{children:(0,lt.jsx)("button",{type:"submit",className:"btn-primary w-full flex justify-center",disabled:o,children:o?"Signing in...":"Sign in"})})]}),(0,lt.jsx)(nn,{isOpen:p,title:"Incorrect email or password",onClose:()=>f(!1),primaryAction:{label:"Try again (".concat(m,"/5)"),onClick:()=>f(!1)},secondaryAction:{label:"Forgot password",onClick:()=>D("/forgot-password",{state:{email:t.email}})},children:(0,lt.jsxs)("p",{className:"text-sm text-gray-700",children:["The email or password you entered is incorrect. You have ",Math.max(0,5-m)," attempts left before we redirect you to reset your password."]})})]})})]})},sn=xt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),an=e=>{let{password:t,showRequirements:n=!0}=e;const r=[{test:/.{8,}/,text:"At least 8 characters"},{test:/[a-z]/,text:"One lowercase letter"},{test:/[A-Z]/,text:"One uppercase letter"},{test:/\d/,text:"One number"}],s=(()=>{const e=r.filter(e=>e.test.test(t)).length;return 0===e?{level:0,text:"",color:""}:1===e?{level:1,text:"Very Weak",color:"bg-red-500"}:2===e?{level:2,text:"Weak",color:"bg-orange-500"}:3===e?{level:3,text:"Fair",color:"bg-yellow-500"}:4===e?{level:4,text:"Strong",color:"bg-green-500"}:{level:0,text:"",color:""}})();return t?(0,lt.jsxs)("div",{className:"mt-2",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,lt.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,lt.jsx)("div",{className:"h-full rounded-full transition-all duration-300 ".concat(s.color),style:{width:"".concat(s.level/4*100,"%")}})}),s.text&&(0,lt.jsx)("span",{className:"text-xs font-medium ".concat(1===s.level?"text-red-600":2===s.level?"text-orange-600":3===s.level?"text-yellow-600":"text-green-600"),children:s.text})]}),n&&(0,lt.jsx)("div",{className:"space-y-1",children:r.map((e,n)=>{const r=e.test.test(t);return(0,lt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[r?(0,lt.jsx)(sn,{className:"w-3 h-3 text-green-500"}):(0,lt.jsx)(vt,{className:"w-3 h-3 text-gray-400"}),(0,lt.jsx)("span",{className:r?"text-green-600":"text-gray-500",children:e.text})]},n)})})]}):null},ln=()=>{const e=oe(),[t,n]=(0,l.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"student",phone:"",dateOfBirth:"",address:"",pincode:""}),[r,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),[o,u]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),{signup:m}=ut(),h=e=>{n(Ve(Ve({},t),{},{[e.target.name]:e.target.value})),o&&u("")};return(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)(Zt,{}),(0,lt.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,lt.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,lt.jsx)(Ie,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 focus:outline-none focus:underline",children:"sign in to your existing account"})]})]}),(0,lt.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async n=>{if(n.preventDefault(),!(()=>{if(!t.firstName.trim())return u("First name is required"),!1;if(!t.lastName.trim())return u("Last name is required"),!1;if(!t.email.trim())return u("Email address is required"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return u("Please enter a valid email address"),!1;if(!t.password)return u("Password is required"),!1;if(t.password.length<8)return u("Password must be at least 8 characters long"),!1;if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t.password))return u("Password must contain at least one lowercase letter, one uppercase letter, and one number"),!1;if(!t.confirmPassword)return u("Please confirm your password"),!1;if(t.password!==t.confirmPassword)return u("Passwords do not match"),!1;if(t.phone&&!/^[+]?[1-9][\d]{0,15}$/.test(t.phone.replace(/\s/g,"")))return u("Please enter a valid phone number"),!1;if(t.dateOfBirth){const e=new Date(t.dateOfBirth),n=new Date;if(e>=n)return u("Date of birth must be in the past"),!1;if(n.getFullYear()-e.getFullYear()<13)return u("You must be at least 13 years old to register"),!1}return!0})())return;d(!0),u("");const r=await m(t);if(r.success)r.user&&"tutor"===r.user.role?e("/tutor-setup"):r.user&&"admin"===r.user.role?e("/admin"):e("/student");else{let e=r.error;if(e.includes("Validation failed")&&r.errors&&Array.isArray(r.errors)){const t=r.errors.map(e=>{switch(e.path){case"email":return"Please enter a valid email address.";case"password":return"Password must be at least 8 characters with uppercase, lowercase, and numbers.";case"firstName":return"First name is required and must be less than 100 characters.";case"lastName":return"Last name is required and must be less than 100 characters.";case"role":return"Please select a valid role (Student or Tutor).";case"dateOfBirth":return"Please enter a valid date of birth.";case"address":return"Address must be less than 500 characters.";default:return e.msg||"".concat(e.path,": ").concat(e.value," is invalid")}});e=t.join(". ")}else e.includes("User already exists")?e="An account with this email address already exists. Please try signing in instead.":e.includes("email")?e="Please enter a valid email address.":e.includes("password")&&(e="Password does not meet the requirements. Please ensure it has at least 8 characters with uppercase, lowercase, and numbers.");u(e)}d(!1)},children:[o&&(0,lt.jsx)(tn,{type:"error",message:o,onClose:()=>u("")}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,lt.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,className:"input-field mt-1",placeholder:"First name",value:t.firstName,onChange:h,disabled:c})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,lt.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,className:"input-field mt-1",placeholder:"Last name",value:t.lastName,onChange:h,disabled:c})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,lt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-field mt-1",placeholder:"Enter your email",value:t.email,onChange:h,disabled:c})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I want to join as a"}),(0,lt.jsxs)("select",{id:"role",name:"role",className:"input-field mt-1",value:t.role,onChange:h,disabled:c,children:[(0,lt.jsx)("option",{value:"student",children:"Student (Looking for tutoring)"}),(0,lt.jsx)("option",{value:"tutor",children:"Tutor (Offering tutoring services)"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number (Optional)"}),(0,lt.jsx)("input",{id:"phone",name:"phone",type:"tel",className:"input-field mt-1",placeholder:"Enter your phone number",value:t.phone,onChange:h,disabled:c})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700",children:"Date of Birth (Optional)"}),(0,lt.jsx)("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",className:"input-field mt-1",value:t.dateOfBirth,onChange:h,disabled:c,max:new Date((new Date).setFullYear((new Date).getFullYear()-13)).toISOString().split("T")[0]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address (Optional)"}),(0,lt.jsx)("textarea",{id:"address",name:"address",rows:3,className:"input-field mt-1",placeholder:"Enter your full address",value:t.address,onChange:h,disabled:c,maxLength:500})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700",children:"Pincode/ZIP Code (Optional)"}),(0,lt.jsx)("input",{id:"pincode",name:"pincode",type:"text",className:"input-field mt-1",placeholder:"Enter your pincode or ZIP code",value:t.pincode,onChange:h,disabled:c,maxLength:20})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,lt.jsxs)("div",{className:"mt-1 relative",children:[(0,lt.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,className:"input-field pr-10",placeholder:"Create a password",value:t.password,onChange:h,disabled:c}),(0,lt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!r),children:r?(0,lt.jsx)(Jt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):(0,lt.jsx)(Xt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,lt.jsx)(an,{password:t.password})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,lt.jsxs)("div",{className:"mt-1 relative",children:[(0,lt.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,className:"input-field pr-10",placeholder:"Confirm your password",value:t.confirmPassword,onChange:h,disabled:c}),(0,lt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,lt.jsx)(Jt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):(0,lt.jsx)(Xt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]})]})]}),(0,lt.jsx)("div",{children:(0,lt.jsx)("button",{type:"submit",className:"btn-primary w-full flex justify-center",disabled:c,children:c?"Creating account...":"Create account"})})]})]})})]})},on=xt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),un=()=>{const[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)(""),[s,a]=(0,l.useState)(""),[i,o]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)(""),f=oe(),g=ie();(0,l.useEffect)(()=>{var e;const n=null===(e=g.state)||void 0===e?void 0:e.email;n&&t(n)},[g.state]);return(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)(Zt,{}),(0,lt.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex justify-center",children:(0,lt.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:(0,lt.jsx)(At,{className:"h-8 w-8 text-white"})})}),(0,lt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Forgot your password?"}),(0,lt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:u?"Check your email for a reset link":"Enter your email address and we'll send you a link to reset your password"})]}),u?(0,lt.jsxs)("div",{className:"mt-8 space-y-6",children:[n&&(0,lt.jsx)(tn,{type:"success",message:n}),(0,lt.jsxs)("div",{className:"text-center space-y-4",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Didn't receive an email? Check your spam folder or try again."}),(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,lt.jsx)("button",{onClick:()=>{c(!1),t(""),r("")},className:"text-blue-600 hover:text-blue-500 font-medium",children:"Try again"}),(0,lt.jsx)("span",{className:"text-gray-400 hidden sm:inline",children:"|"}),(0,lt.jsxs)("button",{onClick:()=>m(!d),className:"inline-flex items-center text-blue-600 hover:text-blue-500 font-medium",children:[(0,lt.jsx)(on,{className:"h-4 w-4 mr-1"}),d?"Hide":"Enter token manually"]})]}),d&&(0,lt.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:(0,lt.jsxs)("div",{className:"text-left",children:[(0,lt.jsx)("label",{htmlFor:"manualToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reset Token"}),(0,lt.jsx)("input",{id:"manualToken",name:"manualToken",type:"text",value:h,onChange:e=>{p(e.target.value),a("")},className:"w-full px-3 py-2 border rounded-md focus:outline-none text-sm font-mono ".concat(h&&64!==h.length?"border-red-300 focus:ring-red-500 focus:border-red-500":h&&64===h.length?"border-green-300 focus:ring-green-500 focus:border-green-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:"Paste your 64-character reset token here..."}),(0,lt.jsx)("div",{className:"mt-1 text-xs",children:h&&(0,lt.jsxs)("span",{className:"".concat(64===h.length?"text-green-600":"text-red-600"),children:[h.length,"/64 characters",64===h.length&&" \u2713"]})}),(0,lt.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"If you have the reset token from server logs or email, paste it above. Token should be exactly 64 characters long."}),!1,(0,lt.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,lt.jsx)("button",{onClick:()=>{h.trim()&&64===h.length?f("/reset-password/".concat(h.trim())):a("Please enter a valid 64-character reset token.")},disabled:!h.trim(),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Go to Reset Password"}),(0,lt.jsx)("button",{onClick:()=>{m(!1),p(""),a("")},className:"px-4 py-2 bg-gray-200 text-gray-800 text-sm font-medium rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]})]})})]})]}):(0,lt.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),e.trim())if((e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(e)){o(!0),a(""),r("");try{const t=await Ye.requestPasswordReset(e);r(t.message||"If an account with that email exists, we have sent a password reset link to your inbox. Please check your email and follow the instructions to reset your password."),c(!0)}catch(s){var n,i;let t=(null===(n=s.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||s.message;t.includes("Validation failed")?t="Please enter a valid email address.":t.includes("Failed to process")?t="We encountered an issue processing your request. Please try again in a few minutes.":t||(t="Failed to send password reset email. Please try again."),a(t)}finally{o(!1)}}else a("Please enter a valid email address");else a("Email address is required")},children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,lt.jsx)("div",{className:"mt-1",children:(0,lt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>{t(e.target.value),s&&a("")},className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",disabled:i})})]}),s&&(0,lt.jsx)(tn,{type:"error",message:s,onClose:()=>a("")}),(0,lt.jsx)("div",{children:(0,lt.jsx)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending reset link..."]}):"Send reset link"})})]}),(0,lt.jsxs)("div",{className:"text-center space-y-2",children:[(0,lt.jsxs)(Ie,{to:"/login",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-500",children:[(0,lt.jsx)(Vt,{className:"h-4 w-4 mr-1"}),"Back to login"]}),!1]})]})})]})},cn=xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),dn=()=>{const[e,t]=(0,l.useState)({password:"",confirmPassword:""}),[n,r]=(0,l.useState)(!1),[s,a]=(0,l.useState)(!1),[i,o]=(0,l.useState)(""),[u,c]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)(""),{token:f}=ue(),g=oe();(0,l.useEffect)(()=>{f&&64===f.length&&/^[a-f0-9]+$/.test(f)||p("Invalid or malformed reset token")},[f]);const x=n=>{t(Ve(Ve({},e),{},{[n.target.name]:n.target.value})),i&&o("")};return h?(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)(Zt,{}),(0,lt.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex justify-center",children:(0,lt.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:(0,lt.jsx)(cn,{className:"h-8 w-8 text-red-600"})})}),(0,lt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Invalid Reset Link"}),(0,lt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:h})]}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsx)(Ie,{to:"/forgot-password",className:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request new reset link"}),(0,lt.jsx)(Ie,{to:"/login",className:"text-blue-600 hover:text-blue-500",children:"Back to login"})]})]})})]}):d?(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)(Zt,{}),(0,lt.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex justify-center",children:(0,lt.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,lt.jsx)(kt,{className:"h-8 w-8 text-green-600"})})}),(0,lt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Password Reset Successful!"}),(0,lt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Your password has been successfully reset. You will be redirected to the login page in a few seconds."})]}),(0,lt.jsx)("div",{children:(0,lt.jsx)(Ie,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to login now"})})]})})]}):(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsx)(Zt,{}),(0,lt.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"flex justify-center",children:(0,lt.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:(0,lt.jsx)(cn,{className:"h-8 w-8 text-white"})})}),(0,lt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),(0,lt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),(0,lt.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const{password:t,confirmPassword:n}=e;return t?n?t.length<8?(o("Password must be at least 8 characters long"),!1):/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t)?t!==n?(o("Passwords do not match"),!1):(t.length<12&&!/(?=.*[!@#$%^&*])/.test(t)&&console.warn("Consider using a longer password or including special characters for better security"),!0):(o("Password must contain at least one lowercase letter, one uppercase letter, and one number"),!1):(o("Please confirm your new password"),!1):(o("New password is required"),!1)})()){c(!0),o("");try{await Ye.resetPassword(f,e.password),m(!0),setTimeout(()=>{g("/login",{state:{message:"Password reset successful. Please log in with your new password."}})},3e3)}catch(i){var n,r;const t=(null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||i.message||"Failed to reset password. Please try again.";t.includes("Invalid or expired")?p("This password reset link has expired or is invalid. Please request a new password reset."):t.includes("Validation failed")?o("Please check that your password meets all requirements and try again."):t.includes("Failed to reset password")?o("We encountered an issue resetting your password. Please try again or request a new reset link."):o(t)}finally{c(!1)}}},children:[(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,lt.jsxs)("div",{className:"mt-1 relative",children:[(0,lt.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:x,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter new password",disabled:u}),(0,lt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?(0,lt.jsx)(Jt,{className:"h-5 w-5 text-gray-400"}):(0,lt.jsx)(Xt,{className:"h-5 w-5 text-gray-400"})})]}),(0,lt.jsx)(an,{password:e.password})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,lt.jsxs)("div",{className:"mt-1 relative",children:[(0,lt.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:x,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password",disabled:u}),(0,lt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!s),children:s?(0,lt.jsx)(Jt,{className:"h-5 w-5 text-gray-400"}):(0,lt.jsx)(Xt,{className:"h-5 w-5 text-gray-400"})})]})]})]}),i&&(0,lt.jsx)(tn,{type:"error",message:i,onClose:()=>o("")}),(0,lt.jsx)("div",{children:(0,lt.jsx)("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resetting password..."]}):"Reset password"})})]}),(0,lt.jsxs)("div",{className:"text-center space-y-2",children:[(0,lt.jsx)("div",{children:(0,lt.jsx)(Ie,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-500",children:"Back to login"})}),(0,lt.jsx)("div",{children:(0,lt.jsx)(Ie,{to:"/forgot-password",className:"text-sm text-gray-600 hover:text-gray-500",children:"Need a new reset link?"})})]})]})})]})},mn=xt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),hn=xt("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),pn=xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),fn=xt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),gn=()=>{const[e,t]=(0,l.useState)([]),n=(0,l.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]);if((0,l.useEffect)(()=>{const e=e=>{const{type:r="info",title:s,message:a,duration:i=3500}=e.detail||{},l=Date.now()+Math.random(),o={id:l,type:r,title:s,message:a};t(e=>[...e,o]),setTimeout(()=>n(l),i)};return window.addEventListener("toast",e),()=>window.removeEventListener("toast",e)},[n]),0===e.length)return null;const r={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"};return(0,lt.jsx)("div",{className:"fixed top-4 right-4 z-[60] space-y-2",children:e.map(e=>(0,lt.jsxs)("div",{className:"max-w-sm w-80 border rounded-lg shadow-sm p-3 ".concat(r[e.type]||r.info),children:[e.title&&(0,lt.jsx)("div",{className:"font-semibold text-sm",children:e.title}),e.message&&(0,lt.jsx)("div",{className:"text-sm mt-0.5",children:e.message}),(0,lt.jsx)("button",{onClick:()=>n(e.id),className:"absolute top-2 right-2 text-xs opacity-70 hover:opacity-100","aria-label":"Dismiss notification",children:"\u2715"})]},e.id))})},xn=e=>{var t,n;let{userRole:r,children:s}=e;const[a,i]=(0,l.useState)(!1),{user:o,logout:u}=ut(),c=ie(),d=(()=>{const e=[{name:"Dashboard",href:"/".concat(r),icon:mn},{name:"Messages",href:"/".concat(r,"/messages"),icon:Ht},{name:"Tasks",href:"/".concat(r,"/tasks"),icon:hn},{name:"Calendar",href:"/".concat(r,"/calendar"),icon:Mt}],t=[{name:"Dashboard",href:"/".concat(r),icon:mn}],n="admin"===r?t:e,s={student:[{name:"Find Tutors",href:"/student/tutors",icon:pn},{name:"My Sessions",href:"/student/sessions",icon:It}],tutor:[{name:"My Sessions",href:"/tutor/sessions",icon:It},{name:"Analytics",href:"/tutor/analytics",icon:fn},{name:"Availability",href:"/tutor/availability",icon:Ot}],admin:[{name:"Users",href:"/admin/users",icon:Nt},{name:"Sessions",href:"/admin/sessions",icon:It},{name:"Reviews",href:"/admin/reviews",icon:_t}]},a="admin"!==r?{name:"Settings",href:"/".concat(r,"/settings"),icon:Nt}:null;return[...n,...s[r],...a?[a]:[]]})();return(0,lt.jsxs)("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[(0,lt.jsxs)("div",{className:"".concat(a?"block":"hidden"," fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform lg:translate-x-0 lg:static lg:inset-0 lg:block transition-transform duration-300 ease-in-out flex flex-col"),children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 bg-primary-600 text-white flex-shrink-0",children:[(0,lt.jsx)(Ie,{to:"/",className:"font-bold text-lg",children:"TutorConnect"}),(0,lt.jsx)("button",{onClick:()=>i(!1),className:"lg:hidden",children:(0,lt.jsx)(vt,{className:"h-6 w-6"})})]}),(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsxs)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:[null!==o&&void 0!==o&&o.profileImageUrl?(0,lt.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:null===o||void 0===o?void 0:o.profileImageUrl,alt:null===o||void 0===o?void 0:o.firstName,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,lt.jsxs)("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",style:{display:null!==o&&void 0!==o&&o.profileImageUrl?"none":"flex"},children:[null===o||void 0===o||null===(t=o.firstName)||void 0===t?void 0:t[0],null===o||void 0===o||null===(n=o.lastName)||void 0===n?void 0:n[0]]})]}),(0,lt.jsxs)("div",{className:"ml-3",children:[(0,lt.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[null===o||void 0===o?void 0:o.firstName," ",null===o||void 0===o?void 0:o.lastName]}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:null===o||void 0===o?void 0:o.role})]})]})}),(0,lt.jsx)("nav",{className:"flex-1 mt-6 px-3 overflow-y-auto",children:(0,lt.jsx)("div",{className:"space-y-1",children:d.map(e=>{const t=e.icon,n=(s=e.href)==="/".concat(r)?c.pathname===s:c.pathname.startsWith(s);var s;return(0,lt.jsxs)(Ie,{to:e.href,className:"".concat(n?"bg-primary-50 text-primary-600 border-r-2 border-primary-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"," group flex items-center px-3 py-2 text-sm font-medium rounded-l-md transition-colors"),onClick:()=>i(!1),children:[(0,lt.jsx)(t,{className:"".concat(n?"text-primary-600":"text-gray-400 group-hover:text-gray-500"," mr-3 h-5 w-5 transition-colors")}),e.name]},e.name)})})}),(0,lt.jsx)("div",{className:"p-3 flex-shrink-0",children:(0,lt.jsx)("button",{onClick:u,className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 rounded-md transition-colors",children:"Sign Out"})})]}),(0,lt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,lt.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,lt.jsx)("button",{onClick:()=>i(!0),className:"text-gray-500 hover:text-gray-700 lg:hidden",children:(0,lt.jsx)(bt,{className:"h-6 w-6"})}),(0,lt.jsx)("div",{className:"flex items-center space-x-4",children:(0,lt.jsx)("div",{className:"text-sm text-gray-500",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]})}),(0,lt.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,lt.jsx)("div",{className:"p-6",children:s})}),(0,lt.jsx)(gn,{})]}),a&&(0,lt.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>i(!1),children:(0,lt.jsx)("div",{className:"absolute inset-0 bg-black opacity-50"})})]})},yn=xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Dn=xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),vn=xt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),bn=e=>{let{isOpen:t,onClose:n,onTaskAdded:r}=e;const[s,a]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[u,c]=(0,l.useState)({title:"",description:"",subject:"",priority:"medium",dueDate:"",estimatedDuration:60,tags:[]}),[d,m]=(0,l.useState)(""),h=(e,t)=>{c(n=>Ve(Ve({},n),{},{[e]:t})),i&&o(null)},p=()=>{d.trim()&&!u.tags.includes(d.trim())&&(c(e=>Ve(Ve({},e),{},{tags:[...e.tags,d.trim()]})),m(""))},f=()=>{c({title:"",description:"",subject:"",priority:"medium",dueDate:"",estimatedDuration:60,tags:[]}),o(null),m(""),n()};return t?(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,lt.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(Dn,{className:"h-5 w-5 mr-2 text-primary-600"}),"Add New Task"]}),(0,lt.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:s,children:(0,lt.jsx)(vt,{className:"h-6 w-6"})})]}),i&&(0,lt.jsxs)("div",{className:"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,lt.jsx)(zt,{className:"h-4 w-4 text-red-500 mr-2"}),(0,lt.jsx)("span",{className:"text-red-700 text-sm",children:i})]}),(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{if(!u.title.trim())return o("Task title is required"),!1;if(!u.dueDate)return o("Due date is required"),!1;const e=new Date;return e.setHours(0,0,0,0),!(new Date(u.dueDate)<e)||(o("Due date cannot be in the past"),!1)})())try{a(!0),o(null);const e={title:u.title.trim(),description:u.description.trim(),subject:u.subject.trim(),priority:u.priority,dueDate:u.dueDate,estimatedHours:u.estimatedDuration/60,tags:u.tags},t=await Ze.createTask(e);c({title:"",description:"",subject:"",priority:"medium",dueDate:"",estimatedDuration:60,tags:[]}),r&&r(t),n()}catch(t){console.error("Error creating task:",t),o(t.message||"Failed to create task. Please try again.")}finally{a(!1)}},className:"p-6 space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),(0,lt.jsx)("input",{type:"text",required:!0,className:"input-field",placeholder:"Enter task title...",value:u.title,onChange:e=>h("title",e.target.value),disabled:s})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,lt.jsx)("textarea",{className:"input-field",rows:"3",placeholder:"Describe the task in detail...",value:u.description,onChange:e=>h("description",e.target.value),disabled:s})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,lt.jsx)("input",{type:"text",className:"input-field",placeholder:"e.g., Math, Physics, Programming...",value:u.subject,onChange:e=>h("subject",e.target.value),disabled:s})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,lt.jsx)("select",{className:"input-field",value:u.priority,onChange:e=>h("priority",e.target.value),disabled:s,children:[{value:"low",label:"Low Priority",color:"text-green-600"},{value:"medium",label:"Medium Priority",color:"text-yellow-600"},{value:"high",label:"High Priority",color:"text-red-600"},{value:"urgent",label:"Urgent",color:"text-red-800"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 mr-1"}),"Due Date *"]}),(0,lt.jsx)("input",{type:"date",required:!0,className:"input-field",value:u.dueDate,onChange:e=>h("dueDate",e.target.value),min:(new Date).toISOString().split("T")[0],disabled:s})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-1"}),"Estimated Duration (minutes)"]}),(0,lt.jsx)("input",{type:"number",min:"15",step:"15",className:"input-field",value:u.estimatedDuration,onChange:e=>h("estimatedDuration",parseInt(e.target.value)),disabled:s})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,lt.jsx)(vn,{className:"h-4 w-4 mr-1"}),"Tags"]}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:u.tags.map((e,t)=>(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-primary-100 text-primary-800 text-sm rounded-full",children:[e,(0,lt.jsx)("button",{type:"button",onClick:()=>{return t=e,void c(e=>Ve(Ve({},e),{},{tags:e.tags.filter(e=>e!==t)}));var t},className:"ml-1 text-primary-600 hover:text-primary-800",disabled:s,children:(0,lt.jsx)(vt,{className:"h-3 w-3"})})]},t))}),(0,lt.jsxs)("div",{className:"flex gap-2",children:[(0,lt.jsx)("input",{type:"text",className:"input-field flex-1",placeholder:"Add a tag...",value:d,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())},disabled:s}),(0,lt.jsx)("button",{type:"button",onClick:p,className:"btn-secondary",disabled:s||!d.trim(),children:"Add"})]})]}),(0,lt.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,lt.jsx)("button",{type:"button",onClick:f,className:"btn-secondary",disabled:s,children:"Cancel"}),(0,lt.jsx)("button",{type:"submit",className:"btn-primary flex items-center",disabled:s,children:s?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Create Task"]})})]})]})]})}):null},jn=()=>{var e;const{user:t}=ut(),n=oe(),[r,s]=(0,l.useState)([]),[a,i]=(0,l.useState)([]),[o,u]=(0,l.useState)(!0),[c,d]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&(async()=>{try{u(!0),d(null);const[e,t]=await Promise.all([Ke.getSessions({role:"student"}),Ze.getTasks()]);s(e),i(t)}catch(e){console.error("Error fetching dashboard data:",e),d("Failed to load dashboard data. Please try again.")}finally{u(!1)}})()},[null===t||void 0===t?void 0:t.id]);if(o)return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-8 bg-white/20 rounded w-3/4 mb-2"}),(0,lt.jsx)("div",{className:"h-4 bg-white/10 rounded w-1/2"})]})}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>(0,lt.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg mb-4"}),(0,lt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16 mb-2"}),(0,lt.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})]})},t))})]});if(c)return(0,lt.jsx)("div",{className:"space-y-6",children:(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium",children:"Error loading dashboard"}),(0,lt.jsx)("p",{className:"text-red-600 mt-1",children:c}),(0,lt.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-3 px-4 py-2 bg-red-100 text-red-800 rounded-md hover:bg-red-200 transition-colors",children:"Retry"})]})});const p=r.filter(e=>"scheduled"===e.status).length,f=a.filter(e=>"pending"===e.status).length,g=a.filter(e=>"completed"===e.status).length,x=[{name:"Upcoming Sessions",value:p,icon:It,color:"blue",description:"Scheduled tutoring sessions"},{name:"Pending Tasks",value:f,icon:hn,color:"yellow",description:"Tasks to complete"},{name:"Upcoming Events",value:0,icon:Mt,color:"green",description:"Calendar events and deadlines"},{name:"Completed Tasks",value:g,icon:yn,color:"purple",description:"Tasks completed this week"}],y=r.filter(e=>("scheduled"===e.status||"scheduled"===e.actualStatus)&&(e.scheduledStart||e.scheduled_start)).sort((e,t)=>new Date(e.scheduledStart||e.scheduled_start)-new Date(t.scheduledStart||t.scheduled_start)).slice(0,3),D=a.filter(e=>"completed"!==e.status).sort((e,t)=>new Date(e.due_date)-new Date(t.due_date)).slice(0,3);return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:[(0,lt.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome back, ",(null===t||void 0===t?void 0:t.firstName)||(null===t||void 0===t||null===(e=t.profile)||void 0===e?void 0:e.firstName)||"Student","!"]}),(0,lt.jsx)("p",{className:"mt-2 text-primary-100",children:"Ready to continue your learning journey? Check out your upcoming sessions and tasks below."})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,lt.jsxs)("button",{onClick:()=>n("/student/tutors"),className:"flex items-center justify-center px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,lt.jsx)(It,{className:"h-5 w-5 mr-2"}),"Book Session"]}),(0,lt.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,lt.jsx)(hn,{className:"h-5 w-5 mr-2"}),"Add Task"]}),(0,lt.jsxs)("button",{onClick:()=>n("/student/tutors"),className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,lt.jsx)(yn,{className:"h-5 w-5 mr-2"}),"Find Tutors"]}),(0,lt.jsxs)("button",{onClick:()=>n("/student/calendar"),className:"flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,lt.jsx)(Mt,{className:"h-5 w-5 mr-2"}),"View Calendar"]})]})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map(e=>{const t=e.icon;return(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"p-3 rounded-lg ".concat({blue:"bg-blue-50 text-blue-600 border-blue-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200"}[e.color]),children:(0,lt.jsx)(t,{className:"h-6 w-6"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.value}),(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name})]})]}),(0,lt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:e.description})]},e.name)})}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,lt.jsx)(It,{className:"h-5 w-5 mr-2 text-primary-600"}),"Upcoming Sessions"]})}),(0,lt.jsx)("div",{className:"p-6",children:y.length>0?(0,lt.jsx)("div",{className:"space-y-4",children:y.map(e=>{const t=new Date(e.scheduledStart||e.scheduled_start),n=new Date(e.scheduledEnd||e.scheduled_end),r=n&&t?Math.round((n-t)/6e4):e.durationMinutes||60;return(0,lt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-medium text-gray-900",children:e.title||e.subject||"Tutoring Session"}),(0,lt.jsxs)("p",{className:"text-sm text-gray-600",children:[t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," at ",t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]}),(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-1"}),r,"min"]})]},e.id)})}):(0,lt.jsxs)("div",{className:"text-center py-8",children:[(0,lt.jsx)(It,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("p",{className:"text-gray-500",children:"No upcoming sessions"}),(0,lt.jsx)("button",{onClick:()=>n("/student/tutors"),className:"mt-2 text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Book a session"})]})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,lt.jsx)(hn,{className:"h-5 w-5 mr-2 text-primary-600"}),"Urgent Tasks"]})}),(0,lt.jsx)("div",{className:"p-6",children:D.length>0?(0,lt.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,lt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),e.tags&&e.tags.length>0&&(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:e.tags.join(", ")})]}),(0,lt.jsxs)("div",{className:"text-right",children:[(0,lt.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Due: ",new Date(e.due_date).toLocaleDateString()]}),(0,lt.jsxs)("div",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.priority," priority"]})]})]},e.id))}):(0,lt.jsxs)("div",{className:"text-center py-8",children:[(0,lt.jsx)(hn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("p",{className:"text-gray-500",children:"All caught up!"}),(0,lt.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"No urgent tasks at the moment"})]})})]})]}),(0,lt.jsx)(bn,{isOpen:m,onClose:()=>h(!1),onTaskAdded:e=>{i(t=>[...t,e])}})]})},wn=xt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Nn=xt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Cn=xt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Fn=e=>{let{isOpen:t,onClose:n,task:r,onTaskUpdated:s,onEdit:a}=e;const[i,o]=(0,l.useState)(!1),[u,c]=(0,l.useState)(null),[d,m]=(0,l.useState)((null===r||void 0===r?void 0:r.progress)||(null===r||void 0===r?void 0:r.progressPercentage)||0),[h,p]=(0,l.useState)((null===r||void 0===r?void 0:r.status)||"pending");if((0,l.useEffect)(()=>{r&&(m(r.progress||r.progressPercentage||0),p(r.status||"pending"))},[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.progress,null===r||void 0===r?void 0:r.progressPercentage,null===r||void 0===r?void 0:r.status]),!t||!r)return null;const f=new Date(r.dueDate)<new Date&&"completed"!==h;return(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,lt.jsxs)("div",{className:"flex items-start justify-between p-6 border-b border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:r.title}),(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,lt.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full border ".concat((e=>{switch(e){case"urgent":return"bg-red-200 text-red-900 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(r.priority)),children:[r.priority," priority"]}),(0,lt.jsx)("span",{className:"text-sm font-medium ".concat((e=>{switch(e){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";default:return"text-gray-600"}})(h)),children:h}),f&&(0,lt.jsx)("span",{className:"text-xs font-medium text-red-600 bg-red-100 px-2 py-1 rounded-full",children:"Overdue"})]})]}),(0,lt.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,lt.jsx)(vt,{className:"h-5 w-5"})})]}),(0,lt.jsxs)("div",{className:"p-6 space-y-6",children:[u&&(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium text-sm",children:"Error"}),(0,lt.jsx)("p",{className:"text-red-600 text-sm mt-1",children:u})]})]}),r.description&&(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[(0,lt.jsx)(Cn,{className:"h-4 w-4 mr-2"}),"Description"]}),(0,lt.jsx)("p",{className:"text-gray-700 text-sm",children:r.description})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.subject&&(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[(0,lt.jsx)(vn,{className:"h-4 w-4 mr-2"}),"Subject"]}),(0,lt.jsx)("p",{className:"text-gray-700 text-sm",children:r.subject})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 mr-2"}),"Due Date"]}),(0,lt.jsx)("p",{className:"text-gray-700 text-sm",children:r.dueDate&&!isNaN(new Date(r.dueDate).getTime())?new Date(r.dueDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No due date set"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-2"}),"Estimated Time"]}),(0,lt.jsxs)("p",{className:"text-gray-700 text-sm",children:[r.estimatedHours||r.estimatedDuration||"N/A"," hours"]})]}),r.tags&&r.tags.length>0&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map((e,t)=>(0,lt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:e},t))})]})]}),"completed"!==h&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Progress"}),(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,lt.jsx)("span",{children:"Completion"}),(0,lt.jsxs)("span",{children:[d,"%"]})]}),(0,lt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,lt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(d,"%")}})}),(0,lt.jsx)("div",{className:"flex space-x-2",children:[0,25,50,75,100].map(e=>(0,lt.jsxs)("button",{onClick:()=>(async e=>{try{o(!0),c(null),await Ze.updateTaskProgress(r.id,e),m(e);const t=100===e?"completed":e>0?"in-progress":"pending";p(t),s&&s(Ve(Ve({},r),{},{progress:e,progressPercentage:e,status:t,completedAt:100===e?(new Date).toISOString():r.completedAt}))}catch(t){console.error("Failed to update task progress:",t),c("Failed to update progress. Please try again.")}finally{o(!1)}})(e),disabled:i,className:"px-3 py-1 text-xs rounded-full border transition-colors ".concat(d===e?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-700 border-gray-200 hover:bg-gray-200"," ").concat(i?"opacity-50 cursor-not-allowed":""),children:[e,"%"]},e))})]})]})]}),(0,lt.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[(0,lt.jsxs)("button",{onClick:async()=>{try{let e,t;o(!0),c(null),"completed"!==h?(e="completed",t=100,await Ze.completeTask(r.id)):(e="pending",t=0,await Ze.uncompleteTask(r.id)),m(t),p(e),s&&s(Ve(Ve({},r),{},{status:e,progress:t,progressPercentage:t,completedAt:"completed"===e?(new Date).toISOString():null}))}catch(e){console.error("Failed to update task status:",e),c("Failed to update task status. Please try again.")}finally{o(!1)}},disabled:i,className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ".concat(i?"opacity-50 cursor-not-allowed":""," ").concat("completed"===h?"bg-green-100 text-green-700 border-green-200 hover:bg-green-200":"bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-200"),children:[i?(0,lt.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):"completed"===h?(0,lt.jsx)(hn,{className:"h-4 w-4"}):(0,lt.jsx)(wn,{className:"h-4 w-4"}),(0,lt.jsx)("span",{className:"text-sm font-medium",children:i?"Updating...":"completed"===h?"Completed \u2713":"Mark as Complete"})]}),(0,lt.jsxs)("div",{className:"flex space-x-3",children:[a&&(0,lt.jsxs)("button",{onClick:()=>{n(),a(r)},className:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded-lg hover:bg-blue-200 transition-colors flex items-center",children:[(0,lt.jsx)(Nn,{className:"h-4 w-4 mr-1"}),"Edit Task"]}),(0,lt.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})]})]})})},En=e=>{let{isOpen:t,onClose:n,task:r,onTaskUpdated:s}=e;const[a,i]=(0,l.useState)(!1),[o,u]=(0,l.useState)(null),[c,d]=(0,l.useState)({title:"",description:"",subject:"",priority:"medium",dueDate:"",estimatedDuration:60,tags:[]}),[m,h]=(0,l.useState)("");(0,l.useEffect)(()=>{r&&d({title:r.title||"",description:r.description||"",subject:r.subject||"",priority:r.priority||"medium",dueDate:r.dueDate?new Date(r.dueDate).toISOString().split("T")[0]:"",estimatedDuration:r.estimatedHours?60*r.estimatedHours:60,tags:r.tags||[]})},[r]);const p=(e,t)=>{d(n=>Ve(Ve({},n),{},{[e]:t})),u(null)},f=()=>{m.trim()&&!c.tags.includes(m.trim())&&(p("tags",[...c.tags,m.trim()]),h(""))},g=()=>{u(null),h(""),n()};return t&&r?(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,lt.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(vn,{className:"h-5 w-5 mr-2 text-primary-600"}),"Edit Task"]}),(0,lt.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:a,children:(0,lt.jsx)(vt,{className:"h-6 w-6"})})]}),o&&(0,lt.jsxs)("div",{className:"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,lt.jsx)(zt,{className:"h-4 w-4 text-red-500 mr-2"}),(0,lt.jsx)("span",{className:"text-red-700 text-sm",children:o})]}),(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{if(!c.title.trim())return u("Task title is required"),!1;if(!c.dueDate)return u("Due date is required"),!1;const e=new Date,t=new Date(e);return t.setDate(t.getDate()-1),t.setHours(23,59,59,999),!(new Date(c.dueDate)<=t)||(u("Due date cannot be in the past"),!1)})())try{i(!0),u(null);const e={title:c.title.trim(),description:c.description.trim(),subject:c.subject.trim(),priority:c.priority,dueDate:c.dueDate,estimatedHours:c.estimatedDuration/60,tags:c.tags};await Ze.updateTask(r.id,e);const t=Ve(Ve(Ve({},r),e),{},{estimatedHours:e.estimatedHours});s&&s(t),n()}catch(t){console.error("Error updating task:",t),u(t.message||"Failed to update task. Please try again.")}finally{i(!1)}},className:"p-6 space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),(0,lt.jsx)("input",{type:"text",required:!0,className:"input-field",value:c.title,onChange:e=>p("title",e.target.value),disabled:a,placeholder:"Enter task title..."})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,lt.jsx)("textarea",{rows:3,className:"input-field",value:c.description,onChange:e=>p("description",e.target.value),disabled:a,placeholder:"Describe your task..."})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,lt.jsx)("input",{type:"text",className:"input-field",value:c.subject,onChange:e=>p("subject",e.target.value),disabled:a,placeholder:"Enter subject..."})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,lt.jsx)("select",{className:"input-field",value:c.priority,onChange:e=>p("priority",e.target.value),disabled:a,children:[{value:"low",label:"Low Priority",color:"text-green-600"},{value:"medium",label:"Medium Priority",color:"text-yellow-600"},{value:"high",label:"High Priority",color:"text-red-600"},{value:"urgent",label:"Urgent",color:"text-red-800"}].map(e=>(0,lt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 mr-1"}),"Due Date *"]}),(0,lt.jsx)("input",{type:"date",required:!0,className:"input-field",value:c.dueDate,onChange:e=>p("dueDate",e.target.value),min:(new Date).toISOString().split("T")[0],disabled:a})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-1"}),"Estimated Duration (minutes)"]}),(0,lt.jsx)("input",{type:"number",min:"15",step:"15",className:"input-field",value:c.estimatedDuration,onChange:e=>p("estimatedDuration",parseInt(e.target.value)),disabled:a})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,lt.jsx)(vn,{className:"h-4 w-4 mr-1"}),"Tags"]}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:c.tags.map((e,t)=>(0,lt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-primary-100 text-primary-800 text-xs font-medium rounded-md",children:[e,(0,lt.jsx)("button",{type:"button",onClick:()=>{return t=e,void p("tags",c.tags.filter(e=>e!==t));var t},className:"ml-1 text-primary-600 hover:text-primary-800",disabled:a,children:(0,lt.jsx)(vt,{className:"h-3 w-3"})})]},t))}),(0,lt.jsxs)("div",{className:"flex gap-2",children:[(0,lt.jsx)("input",{type:"text",className:"input-field flex-1",value:m,onChange:e=>h(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),f())},placeholder:"Add tag...",disabled:a}),(0,lt.jsx)("button",{type:"button",onClick:f,className:"px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50",disabled:a||!m.trim(),children:"Add"})]})]}),(0,lt.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,lt.jsx)("button",{type:"button",onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 transition-colors disabled:opacity-50",disabled:a,children:"Cancel"}),(0,lt.jsxs)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center",disabled:a,children:[a&&(0,lt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),a?"Updating...":"Update Task"]})]})]})]})}):null},kn=()=>{const{user:e}=ut(),[t,n]=(0,l.useState)([]),[r,s]=(0,l.useState)(!0),[a,i]=(0,l.useState)(null),[o,u]=(0,l.useState)(null),[c,d]=(0,l.useState)("all"),[m,h]=(0,l.useState)("due_date"),[p,f]=(0,l.useState)(!1),[g,x]=(0,l.useState)(null),[y,D]=(0,l.useState)(!1),[v,b]=(0,l.useState)(!1),j=e=>{const t=e.task||e;n(e=>[...e,t])},w=e=>{const t=Ve(Ve({},e),{},{progress:"completed"===e.status?100:e.progress||0,progressPercentage:"completed"===e.status?100:e.progressPercentage||0});n(e=>e.map(e=>e.id===t.id?t:e))},N=e=>{x(e),b(!0)};if((0,l.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&(async()=>{try{s(!0),i(null);const e=(await Ze.getTasks()).map(e=>Ve(Ve({},e),{},{progress:"completed"===e.status?100:e.progress||0,progressPercentage:"completed"===e.status?100:e.progressPercentage||0}));n(e)}catch(e){console.error("Error fetching tasks:",e),i("Failed to load tasks. Please try again.")}finally{s(!1)}})()},[null===e||void 0===e?void 0:e.id]),r)return(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(4)].map((e,t)=>(0,lt.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg"},t))})]})});if(a)return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Task Manager"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Organize and track your study tasks"})]}),(0,lt.jsxs)("button",{onClick:()=>f(!0),className:"btn-primary mt-4 sm:mt-0 inline-flex items-center",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"text-red-600",children:[(0,lt.jsx)("h3",{className:"font-medium",children:"Error loading tasks"}),(0,lt.jsx)("p",{className:"text-sm mt-1",children:a})]}),(0,lt.jsx)("button",{onClick:()=>{i(null),window.location.reload()},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Retry"})]})}),(0,lt.jsx)(bn,{isOpen:p,onClose:()=>f(!1),onTaskAdded:j})]});const C=t.filter(e=>"all"===c||("pending"===c?"pending"===e.status:"in-progress"===c?"in-progress"===e.status:"completed"!==c||"completed"===e.status)).sort((e,t)=>{if("dueDate"===m)return new Date(e.dueDate)-new Date(t.dueDate);if("priority"===m){const n={high:3,medium:2,low:1};return n[t.priority]-n[e.priority]}return"progress"===m?t.progress-e.progress:0}),F=e=>{switch(e){case"urgent":return"bg-red-200 text-red-900 border-red-300";case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=e=>{switch(e){case"completed":return"text-green-600";case"in-progress":return"text-blue-600";default:return"text-gray-600"}},k=(e,t)=>"completed"!==t&&new Date(e)<new Date;return(0,lt.jsxs)("div",{className:"space-y-6",children:[o&&(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"flex items-start",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium text-sm",children:"Task Update Failed"}),(0,lt.jsx)("p",{className:"text-red-600 text-sm mt-1",children:o})]})]}),(0,lt.jsx)("button",{onClick:()=>u(null),className:"text-red-600 hover:text-red-800 flex-shrink-0",children:(0,lt.jsx)(vt,{className:"h-4 w-4"})})]}),(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Task Manager"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Organize and track your study tasks"})]}),(0,lt.jsxs)("button",{onClick:()=>f(!0),className:"btn-primary mt-4 sm:mt-0 inline-flex items-center",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Pt,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,lt.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[(0,lt.jsx)("option",{value:"all",children:"All Tasks"}),(0,lt.jsx)("option",{value:"pending",children:"Pending"}),(0,lt.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,lt.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,lt.jsx)("div",{children:(0,lt.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[(0,lt.jsx)("option",{value:"dueDate",children:"Sort by Due Date"}),(0,lt.jsx)("option",{value:"priority",children:"Sort by Priority"}),(0,lt.jsx)("option",{value:"progress",children:"Sort by Progress"})]})})]}),(0,lt.jsxs)("div",{className:"text-sm text-gray-500",children:[C.length," of ",t.length," tasks"]})]})}),(0,lt.jsx)("div",{className:"space-y-3",children:C.map(e=>(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border-l-4 p-4 ".concat(k(e.dueDate,e.status)?"border-l-red-500 bg-red-50":"completed"===e.status?"border-l-green-500":"in-progress"===e.status?"border-l-blue-500":"border-l-gray-300"),children:(0,lt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,lt.jsx)("button",{onClick:r=>{r.stopPropagation(),(async e=>{try{const s=t.find(t=>t.id===e);if(!s)return;let a,l;"completed"===s.status?(a="pending",l=0):(a="completed",l=100);const o=Ve(Ve({},s),{},{status:a,progress:l,progressPercentage:l,completedAt:"completed"===a?(new Date).toISOString():null});n(t=>t.map(t=>t.id===e?o:t));try{"completed"===a?await Ze.completeTask(e):await Ze.uncompleteTask(e),i(null),u(null)}catch(r){n(t=>t.map(t=>t.id===e?s:t)),console.error("Failed to update task on server:",r),u("Failed to update task. Please check your internet connection and try again."),setTimeout(()=>u(null),5e3)}}catch(a){console.error("Failed to update task:",a),u("Failed to update task. Please try again."),setTimeout(()=>u(null),5e3)}})(e.id)},className:"".concat(E(e.status)," hover:scale-110 transition-transform flex-shrink-0"),children:"completed"===e.status?(0,lt.jsx)(hn,{className:"h-5 w-5"}):(0,lt.jsx)(wn,{className:"h-5 w-5"})}),(0,lt.jsxs)("div",{className:"flex-1 cursor-pointer min-w-0",onClick:()=>(e=>{x(e),D(!0)})(e),children:[(0,lt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors ".concat("completed"===e.status?"line-through text-gray-500":""),children:e.title}),(0,lt.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs font-medium rounded-full border ".concat(F(e.priority)),children:e.priority}),k(e.dueDate,e.status)&&(0,lt.jsx)("span",{className:"text-xs font-medium text-red-600 bg-red-100 px-2 py-0.5 rounded-full",children:"Overdue"})]}),e.description&&(0,lt.jsx)("p",{className:"text-gray-600 text-sm mt-1 line-clamp-1",children:e.description}),(0,lt.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-xs text-gray-500",children:[(0,lt.jsxs)("span",{className:"flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-3 w-3 mr-1"}),new Date(e.dueDate).toLocaleDateString()]}),(0,lt.jsxs)("span",{className:"flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-3 w-3 mr-1"}),e.estimatedHours,"h"]}),e.tags&&e.tags.length>0&&(0,lt.jsx)("span",{children:e.tags.join(", ")})]})]}),e.progress>0||e.progressPercentage>0||"completed"===e.status?(0,lt.jsxs)("div",{className:"relative flex-shrink-0",title:"".concat("completed"===e.status?100:e.progress||e.progressPercentage,"% complete"),children:[(0,lt.jsxs)("svg",{className:"w-12 h-12 transform -rotate-90",children:[(0,lt.jsx)("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-gray-200"}),(0,lt.jsx)("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:"".concat(2*Math.PI*20),strokeDashoffset:"".concat(2*Math.PI*20*(1-("completed"===e.status?100:e.progress||e.progressPercentage)/100)),className:"".concat("completed"===e.status?"text-green-600":"text-blue-600"," transition-all"),strokeLinecap:"round"})]}),(0,lt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:"completed"===e.status?(0,lt.jsx)(hn,{className:"h-6 w-6 text-green-600"}):(0,lt.jsxs)("span",{className:"text-xs font-semibold text-gray-700",children:[e.progress||e.progressPercentage,"%"]})})]}):null,(0,lt.jsx)("button",{onClick:t=>{t.stopPropagation(),N(e)},className:"text-gray-400 hover:text-blue-600 transition-colors flex-shrink-0 ml-2",title:"Edit task",children:(0,lt.jsx)(Nn,{className:"h-4 w-4"})})]})},e.id))}),0===C.length&&(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,lt.jsx)(hn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-4",children:"all"===c?"You haven't added any tasks yet.":"No ".concat(c," tasks found.")}),(0,lt.jsx)("button",{onClick:()=>f(!0),className:"btn-primary",children:"Add Your First Task"})]}),(0,lt.jsx)(bn,{isOpen:p,onClose:()=>f(!1),onTaskAdded:j}),(0,lt.jsx)(Fn,{isOpen:y,onClose:()=>{D(!1),x(null)},task:g,onTaskUpdated:w,onEdit:N}),(0,lt.jsx)(En,{isOpen:v,onClose:()=>{b(!1),x(null)},task:g,onTaskUpdated:w})]})},An=()=>{const[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)([]),[s,a]=(0,l.useState)(!0),[i,o]=(0,l.useState)(null),[u,c]=(0,l.useState)({subject:"",maxRate:"",rating:"",availability:""}),[d,m]=(0,l.useState)("rating"),[h,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(null);if((0,l.useEffect)(()=>{(async()=>{try{a(!0),o(null);const e=await Ge.getTutors();r(e||[])}catch(e){console.error("Error fetching tutors:",e),o("Failed to load tutors. Please try again.")}finally{a(!1)}})()},[]),s)return(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>(0,lt.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg"},t))})]})});if(i)return(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"text-red-600",children:[(0,lt.jsx)("h3",{className:"font-medium",children:"Error loading tutors"}),(0,lt.jsx)("p",{className:"text-sm mt-1",children:i})]})});const x=n.filter(t=>{const n=!e||t.subjects&&t.subjects.some(t=>"object"===typeof t?t.name.toLowerCase().includes(e.toLowerCase()):t.toLowerCase().includes(e.toLowerCase()))||t.firstName&&t.firstName.toLowerCase().includes(e.toLowerCase())||t.lastName&&t.lastName.toLowerCase().includes(e.toLowerCase()),r=!u.subject||t.subjects&&t.subjects.some(e=>"object"===typeof e?e.name.toLowerCase().includes(u.subject.toLowerCase()):e.toLowerCase().includes(u.subject.toLowerCase())),s=!u.maxRate||t.hourlyRate<=parseInt(u.maxRate),a=!u.rating||t.rating>=parseFloat(u.rating);return n&&r&&s&&a}).sort((e,t)=>{switch(d){case"rating":return(t.rating||0)-(e.rating||0);case"price":return(e.hourlyRate||0)-(t.hourlyRate||0);case"experience":return(t.totalSessions||0)-(e.totalSessions||0);default:return 0}});return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Tutors"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Discover expert tutors for your learning needs"})]}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsxs)("div",{className:"flex space-x-3",children:[(0,lt.jsx)("div",{className:"flex-1",children:(0,lt.jsx)("input",{type:"text",placeholder:"Search by subject, tutor name...",className:"input-field",value:e,onChange:e=>t(e.target.value)})}),(0,lt.jsxs)("button",{onClick:()=>{c({subject:"",maxRate:"",rating:"",availability:""}),t("")},className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Reset all filters",children:[(0,lt.jsx)(Pt,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{className:"text-sm font-medium",children:"Reset"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,lt.jsx)("input",{type:"text",placeholder:"e.g. JavaScript, Calculus",className:"input-field",value:u.subject,onChange:e=>c(t=>Ve(Ve({},t),{},{subject:e.target.value}))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Rate ($/hour)"}),(0,lt.jsx)("input",{type:"number",placeholder:"Max budget",className:"input-field",value:u.maxRate,onChange:e=>c(t=>Ve(Ve({},t),{},{maxRate:e.target.value}))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),(0,lt.jsxs)("select",{className:"input-field",value:u.rating,onChange:e=>c(t=>Ve(Ve({},t),{},{rating:e.target.value})),children:[(0,lt.jsx)("option",{value:"",children:"Any Rating"}),(0,lt.jsx)("option",{value:"4",children:"4+ Stars"}),(0,lt.jsx)("option",{value:"4.5",children:"4.5+ Stars"}),(0,lt.jsx)("option",{value:"4.8",children:"4.8+ Stars"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,lt.jsxs)("select",{className:"input-field",value:d,onChange:e=>m(e.target.value),children:[(0,lt.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,lt.jsx)("option",{value:"price",children:"Lowest Price"}),(0,lt.jsx)("option",{value:"experience",children:"Most Experienced"})]})]})]})]})}),(0,lt.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Found ",x.length," tutor",1!==x.length?"s":""]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(e=>{var t,n,r;return(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,lt.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:e.profileImageUrl?(0,lt.jsx)("img",{src:e.profileImageUrl,alt:"".concat(e.firstName," ").concat(e.lastName),className:"w-16 h-16 rounded-full object-cover"}):(0,lt.jsxs)("span",{children:[null===(t=e.firstName)||void 0===t?void 0:t[0],null===(n=e.lastName)||void 0===n?void 0:n[0]]})}),(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsxs)("h3",{className:"font-semibold text-gray-900",children:[e.firstName," ",e.lastName]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,lt.jsx)("div",{className:"flex items-center",children:(r=e.rating||0,Array.from({length:5},(e,t)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(t<Math.floor(r)?"text-yellow-400 fill-current":"text-gray-300")},t)))}),(0,lt.jsxs)("span",{className:"text-sm text-gray-600",children:[e.rating||0," (",e.totalSessions||0," sessions)"]})]}),e.verified&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"\u2713 Verified"})]})]}),(0,lt.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.bio||"No bio available."}),(0,lt.jsxs)("div",{className:"mb-4",children:[(0,lt.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Subjects"}),(0,lt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(e.subjects||[]).slice(0,3).map((e,t)=>(0,lt.jsx)("span",{className:"inline-flex px-2 py-1 rounded-md text-xs font-medium bg-primary-50 text-primary-700",children:"object"===typeof e?e.name:e},t)),(e.subjects||[]).length>3&&(0,lt.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.subjects.length-3," more"]})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,lt.jsx)(Rt,{className:"h-4 w-4 mr-1"}),(0,lt.jsxs)("span",{className:"font-medium",children:["$",e.hourlyRate||0,"/hour"]})]}),(0,lt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-1"}),(0,lt.jsx)("span",{children:e.responseTime||"N/A"})]}),(0,lt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,lt.jsx)(It,{className:"h-4 w-4 mr-1"}),(0,lt.jsxs)("span",{children:[e.totalSessions||0," sessions"]})]}),(0,lt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,lt.jsx)(Bt,{className:"h-4 w-4 mr-1"}),(0,lt.jsx)("span",{children:e.location||"Not specified"})]})]}),(0,lt.jsx)("button",{onClick:()=>(e=>{g(e),p(!0)})(e),className:"w-full btn-primary",children:"Book Session"})]},e.id)})}),0===x.length&&(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,lt.jsx)(It,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tutors found"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search criteria or browse all available tutors."})]}),(0,lt.jsx)(Ut,{isOpen:h,onClose:()=>{p(!1),g(null)},onSessionBooked:e=>{console.log("Session booked successfully:",e),p(!1),g(null)},selectedTutor:f})]})},Sn=xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Bn=xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Tn=e=>{const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getUTCFullYear(),r=String(t.getUTCMonth()+1).padStart(2,"0"),s=String(t.getUTCDate()).padStart(2,"0"),a=String(t.getUTCHours()).padStart(2,"0"),i=String(t.getUTCMinutes()).padStart(2,"0"),l=String(t.getUTCSeconds()).padStart(2,"0");return"".concat(n).concat(r).concat(s,"T").concat(a).concat(i).concat(l,"Z")},Pn=e=>e?e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n").replace(/\r/g,""):"",_n=e=>{const t=(e=>{const t=[e.session_date,e.scheduled_start,e.scheduledStart,e.due_date,e.dueDate,e.scheduled_at,e.scheduledAt,e.start,e.createdAt,e.created_at];for(const n of t)if(n){const e=new Date(n);if(!isNaN(e.getTime()))return e}return null})(e);if(!t)return console.warn("Event has no valid date:",e),"";let n=1;"session"===e.type?n=e.duration||1:"task"===e.type&&(n=e.estimatedHours||e.estimated_hours||1);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new Date(e);return n.setHours(n.getHours()+t),n}(t,n),s=new Date;let a=e.title||e.description||"Untitled Event";"session"===e.type?a="\ud83d\udcda ".concat(a):"task"===e.type&&(a="\u2713 ".concat(a));let i="";"session"===e.type?(i="Session Type: ".concat(e.session_type||"Tutoring","\\n"),e.tutor_name&&(i+="Tutor: ".concat(e.tutor_name,"\\n")),e.student_name&&(i+="Student: ".concat(e.student_name,"\\n")),e.notes&&(i+="Notes: ".concat(e.notes,"\\n")),i+="Status: ".concat(e.status||"scheduled")):"task"===e.type&&(i="Task Priority: ".concat(e.priority||"medium","\\n"),e.subject&&(i+="Subject: ".concat(e.subject,"\\n")),void 0!==e.progress&&(i+="Progress: ".concat(e.progress,"%\\n")),e.notes&&(i+="Notes: ".concat(e.notes,"\\n")),i+="Status: ".concat(e.status||"pending"));let l="";e.location?l=e.location:e.meeting_link&&(l=e.meeting_link);let o="CONFIRMED";"cancelled"===e.status?o="CANCELLED":"pending"===e.status&&(o="TENTATIVE");let u="BEGIN:VEVENT\r\n";if(u+="UID:".concat((e=>{const t=(new Date).getTime(),n=e.id||e.taskId||Math.random().toString(36).substring(7);return"".concat(n,"-").concat(t,"@tutorconnect.app")})(e),"\r\n"),u+="DTSTAMP:".concat(Tn(s),"\r\n"),u+="DTSTART:".concat(Tn(t),"\r\n"),u+="DTEND:".concat(Tn(r),"\r\n"),u+="SUMMARY:".concat(Pn(a),"\r\n"),i&&(u+="DESCRIPTION:".concat(Pn(i),"\r\n")),l&&(u+="LOCATION:".concat(Pn(l),"\r\n")),u+="STATUS:".concat(o,"\r\n"),"task"===e.type&&e.priority){u+="PRIORITY:".concat({urgent:"1",high:"3",medium:"5",low:"7"}[e.priority]||"5","\r\n")}return"completed"!==e.status&&"cancelled"!==e.status&&(u+="BEGIN:VALARM\r\n",u+="TRIGGER:-PT15M\r\n",u+="ACTION:DISPLAY\r\n",u+="DESCRIPTION:Reminder: ".concat(Pn(a),"\r\n"),u+="END:VALARM\r\n"),u+="END:VEVENT\r\n",u},Rn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TutorConnect Calendar";if(!Array.isArray(e)||0===e.length)throw new Error("No events provided for export");let n="BEGIN:VCALENDAR\r\n";return n+="VERSION:2.0\r\n",n+="PRODID:-//TutorConnect//Calendar Export//EN\r\n",n+="CALSCALE:GREGORIAN\r\n",n+="METHOD:PUBLISH\r\n",n+="X-WR-CALNAME:".concat(Pn(t),"\r\n"),n+="X-WR-TIMEZONE:UTC\r\n",n+="X-WR-CALDESC:Calendar exported from TutorConnect\r\n",e.forEach(e=>{const t=_n(e);t&&(n+=t)}),n+="END:VCALENDAR\r\n",n},In=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"calendar.ics";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)},On=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TutorConnect Calendar",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=Rn(e,t),s="tutorconnect-calendar-".concat((new Date).toISOString().split("T")[0],".ics");return In(r,n||s),{success:!0,message:"Calendar exported successfully"}}catch(r){return console.error("Error exporting calendar:",r),{success:!1,message:r.message}}},Ln=()=>{const{user:e}=ut(),t=(null===e||void 0===e?void 0:e.role)||"student",[n,r]=(0,l.useState)(new Date),[s,a]=(0,l.useState)(new Date),[i,o]=(0,l.useState)([]),[u,c]=(0,l.useState)({}),[d,m]=(0,l.useState)(!0),[h,p]=(0,l.useState)(null),[f,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)(!1),[D,v]=(0,l.useState)(!1),[b,j]=(0,l.useState)(null),w=(0,l.useCallback)(async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{e&&m(!0),p(null);const t=new Date(n.getFullYear(),n.getMonth(),1),r=new Date(n.getFullYear(),n.getMonth()+1,0),s=await nt.getCalendarEvents({startDate:t.toISOString(),endDate:r.toISOString(),type:"all",view:"month"}),a=Array.isArray(s.events)?s.events:[],i={};a.forEach(e=>{let t=null;const n=[e.session_date,e.scheduled_start,e.due_date,e.scheduled_at,e.dueDate,e.scheduledStart,e.start];for(const s of n)if(s){const e=new Date(s);if(!isNaN(e.getTime())){t=e;break}}if(!t)return void console.warn("Event has no valid date:",e);const r=t.toISOString().split("T")[0];i[r]||(i[r]=[]),i[r].push(Ve(Ve({},e),{},{type:e.type||(e.session_type?"session":"task"),time:e.time||e.start_time||e.scheduled_time||"00:00",status:e.status||"scheduled",progress:"completed"===e.status?100:e.progress||e.progressPercentage||e.progress_percentage||0,progressPercentage:"completed"===e.status?100:e.progress||e.progressPercentage||e.progress_percentage||0}))}),o(a),c(i)}catch(a){var t,r,s;console.error("Error fetching calendar data:",a),o([]),c({}),401===(null===(t=a.response)||void 0===t?void 0:t.status)?p("Authentication required. Please log in again."):403===(null===(r=a.response)||void 0===r?void 0:r.status)?p("Access denied. Please check your permissions."):(null===(s=a.response)||void 0===s?void 0:s.status)>=500?p("Server error. Please try again later."):"NETWORK_ERROR"!==a.code&&navigator.onLine?p("Unable to load calendar data. Please try again."):p("No internet connection. Please check your connection and try again.")}finally{m(!1)}},[n]);(0,l.useEffect)(()=>{if(null!==e&&void 0!==e&&e.id)w();else{m(!1),p("Please log in to view your personal calendar events.");try{const e=nt.getSampleCalendarData();o(e.events),c(e.eventsByDate),console.log("Loaded sample calendar data:",e)}catch(h){console.error("Failed to load sample calendar data:",h),o([]),c({})}}},[null===e||void 0===e?void 0:e.id,w]);const N=e=>{if(!e)return"";if("Due"===e)return"Due";try{const[t,n]=e.split(":"),r=new Date;return r.setHours(parseInt(t,10),parseInt(n,10)),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return e}},C=e=>{const t=e.toISOString().split("T")[0];return u[t]||[]},F=e=>{if("session"===e.type)switch(e.status){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}else{if("completed"===e.status)return"bg-green-100 text-green-800 border-green-200";switch(e.priority){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}},E=e=>{if("session"===e.type)return"bg-blue-500";if("completed"===e.status)return"bg-green-500";switch(e.priority){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}},k=()=>{w()},A=(()=>{const e=n.getFullYear(),t=n.getMonth(),r=new Date(e,t,1),a=new Date(r);a.setDate(r.getDate()-r.getDay());const i=[],l=new Date;for(let n=0;n<42;n++){const e=new Date(a);e.setDate(a.getDate()+n);const r=e.getMonth()===t,o=e.toDateString()===l.toDateString(),u=e.toDateString()===s.toDateString(),c=C(e);i.push({date:e,day:e.getDate(),isCurrentMonth:r,isToday:o,isSelected:u,events:c,hasEvents:c.length>0})}return i})();return d?(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,lt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-6 w-6 mr-2 text-blue-600"}),"Calendar"]})}),(0,lt.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,lt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),(0,lt.jsx)("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:35}).map((e,t)=>(0,lt.jsx)("div",{className:"h-12 bg-gray-200 rounded"},t))})]})]}):h?(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-6 w-6 mr-2 text-blue-600"}),"Calendar"]}),(0,lt.jsxs)("button",{onClick:k,className:"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,lt.jsx)(Sn,{className:"h-4 w-4 mr-1"}),"Retry"]})]}),(0,lt.jsxs)("div",{className:"text-center py-8",children:[(0,lt.jsx)(zt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load calendar"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-4",children:h}),h.includes("log in")?(0,lt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,lt.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[(0,lt.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Calendar requires login"}),(0,lt.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Your calendar shows different content based on your role:"}),(0,lt.jsxs)("ul",{className:"text-sm text-blue-700 text-left space-y-1",children:[(0,lt.jsxs)("li",{children:["\ud83c\udf93 ",(0,lt.jsx)("strong",{children:"Students:"})," Study sessions, tasks, and appointments"]}),(0,lt.jsxs)("li",{children:["\ud83d\udc68\u200d\ud83c\udfeb ",(0,lt.jsx)("strong",{children:"Tutors:"})," Tutoring sessions and availability"]}),(0,lt.jsxs)("li",{children:["\u2699\ufe0f ",(0,lt.jsx)("strong",{children:"Admins:"})," Platform-wide activity overview"]})]})]}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("a",{href:"#/login",className:"block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Log In to View Calendar"}),(0,lt.jsx)("a",{href:"#/register",className:"block px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Create Account"})]})]}):(0,lt.jsx)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})]}):(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[!(null!==e&&void 0!==e&&e.id)&&i.length>0&&(0,lt.jsx)("div",{className:"p-4 bg-blue-50 border-b border-blue-200",children:(0,lt.jsxs)("div",{className:"flex items-start",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(Mt,{className:"h-5 w-5 text-blue-600 mt-0.5"})}),(0,lt.jsxs)("div",{className:"ml-3 flex-1",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Viewing Sample Calendar Data"}),(0,lt.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:["This is demo data to show how your calendar would look.",(0,lt.jsx)("a",{href:"#/login",className:"font-medium underline hover:text-blue-800 ml-1",children:"Log in"})," to see your personal events and schedule."]})]})]})}),(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-6 w-6 mr-2 text-blue-600"}),"Calendar"]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsxs)("button",{onClick:()=>{if(!i||0===i.length)return void alert("No events to export. Please add some events to your calendar first.");const t="student"===(null===e||void 0===e?void 0:e.role)?"TutorConnect - Student Calendar":"tutor"===(null===e||void 0===e?void 0:e.role)?"TutorConnect - Tutor Calendar":"TutorConnect Calendar",n=On(i,t);if(n.success){const e=i.length;alert("\u2713 Successfully exported ".concat(e," event").concat(1!==e?"s":""," to iCalendar file!\n\nYou can import this file into Google Calendar, Outlook, Apple Calendar, or any other calendar application."))}else alert("\u2717 Failed to export calendar: ".concat(n.message))},disabled:!i||0===i.length,className:"flex items-center px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",title:"Export calendar to iCal format",children:[(0,lt.jsx)(Bn,{className:"h-4 w-4 mr-1"}),"Export iCal"]}),(0,lt.jsx)("button",{onClick:()=>{r(new Date),a(new Date)},className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Today"}),(0,lt.jsx)("button",{onClick:()=>w(),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh calendar",children:(0,lt.jsx)(Sn,{className:"h-4 w-4"})})]})]})}),(0,lt.jsx)("div",{className:"p-6",children:(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,lt.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:(S=n,!S||isNaN(new Date(S).getTime())?"Invalid Date":new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"long"}))}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("button",{onClick:()=>{const e=new Date(n);e.setMonth(e.getMonth()-1),r(e)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,lt.jsx)(Wt,{className:"h-5 w-5 text-gray-600"})}),(0,lt.jsx)("button",{onClick:()=>{const e=new Date(n);e.setMonth(e.getMonth()+1),r(e)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,lt.jsx)($t,{className:"h-5 w-5 text-gray-600"})})]})]}),(0,lt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,lt.jsx)("div",{className:"grid grid-cols-7 bg-gray-50 border-b border-gray-200",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,lt.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:e},e))}),(0,lt.jsx)("div",{className:"grid grid-cols-7",children:A.map((e,t)=>(0,lt.jsxs)("button",{onClick:()=>a(e.date),className:"\n                                            relative p-1 h-20 border-r border-b border-gray-200 text-left hover:bg-gray-50 transition-colors flex flex-col\n                                            ".concat(e.isCurrentMonth?"text-gray-900":"text-gray-400 bg-gray-50","\n                                            ").concat(e.isToday?"bg-blue-50 border-blue-200":"","\n                                            ").concat(e.isSelected?"bg-blue-100 border-blue-300":"","\n                                        "),children:[(0,lt.jsx)("div",{className:"\n                                            w-6 h-6 text-sm rounded-full flex items-center justify-center flex-shrink-0\n                                            ".concat(e.isToday?"bg-blue-600 text-white font-semibold":"","\n                                            ").concat(e.isSelected&&!e.isToday?"bg-blue-500 text-white":"","\n                                        "),children:e.day}),e.hasEvents&&(0,lt.jsxs)("div",{className:"mt-1 flex-1 overflow-hidden",children:[(0,lt.jsx)("div",{className:"space-y-0.5",children:e.events.slice(0,2).map((e,t)=>(0,lt.jsxs)("div",{className:"flex items-center gap-1",title:"".concat(e.title||"Untitled"," ").concat("task"===e.type?"(".concat(e.priority||"medium"," priority)"):""),children:[(0,lt.jsx)("div",{className:"h-1.5 w-1.5 rounded-full ".concat(E(e)," flex-shrink-0")}),(0,lt.jsx)("span",{className:"text-xs truncate",children:e.title||e.description||"Untitled"})]},t))}),e.events.length>2&&(0,lt.jsxs)("div",{className:"text-xs text-gray-500 mt-0.5",children:["+",e.events.length-2," more"]})]})]},t))})]})]}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-2"}),s&&!isNaN(s.getTime())?s.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"Select a date"]}),(0,lt.jsx)("div",{className:"space-y-2",children:C(s).length>0?C(s).map((e,n)=>{var r,s;return(0,lt.jsx)("div",{onClick:()=>"task"===e.type&&(e=>{if("task"===e.type){let t=e.taskId||e.id;"string"===typeof t&&t.startsWith("task-")&&(t=t.replace("task-","")),j(Ve(Ve({},e),{},{id:t,dueDate:e.dueDate||e.due_date||e.start,estimatedHours:e.estimatedHours||e.estimated_hours,progress:"completed"===e.status?100:e.progress||e.progressPercentage||e.progress_percentage||0,progressPercentage:"completed"===e.status?100:e.progress||e.progressPercentage||e.progress_percentage||0})),v(!0)}})(e),className:"p-3 rounded-lg border ".concat(F(e)," ").concat("task"===e.type?"cursor-pointer hover:shadow-md transition-shadow":""),children:(0,lt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsx)("h4",{className:"font-medium text-sm",children:e.title||e.notes||e.description||"Untitled Event"}),"task"===e.type&&(e.dueDate||e.due_date||e.start)&&(0,lt.jsxs)("p",{className:"text-xs mt-1 flex items-center text-gray-600",children:[(0,lt.jsx)(Ot,{className:"h-3 w-3 mr-1"}),"Due: ",new Date(e.dueDate||e.due_date||e.start).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),"session"===e.type&&e.time&&(0,lt.jsxs)("p",{className:"text-xs mt-1 flex items-center text-gray-600",children:[(0,lt.jsx)(Ot,{className:"h-3 w-3 mr-1"}),N(e.time)]}),e.location&&(0,lt.jsxs)("p",{className:"text-xs mt-1 flex items-center",children:[(0,lt.jsx)(Bt,{className:"h-3 w-3 mr-1"}),e.location]}),"session"===e.type&&(0,lt.jsxs)("p",{className:"text-xs mt-1 text-gray-600",children:["student"===t&&(null===(r=e.tutor)||void 0===r?void 0:r.name)&&"with ".concat(e.tutor.name),"tutor"===t&&(null===(s=e.student)||void 0===s?void 0:s.name)&&"with ".concat(e.student.name),"admin"===t&&e.subject&&"".concat(e.subject)]}),"task"===e.type&&e.priority&&(0,lt.jsxs)("p",{className:"text-xs mt-1 text-gray-600 capitalize",children:[e.priority," priority"]}),"task"===e.type&&(e.progress>0||"completed"===e.status)&&(0,lt.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,lt.jsx)("span",{className:"text-xs text-gray-600",children:"Progress"}),(0,lt.jsxs)("div",{className:"relative flex-shrink-0",title:"".concat("completed"===e.status?100:e.progress||0,"% complete"),children:[(0,lt.jsxs)("svg",{className:"w-8 h-8 transform -rotate-90",children:[(0,lt.jsx)("circle",{cx:"16",cy:"16",r:"12",stroke:"currentColor",strokeWidth:"3",fill:"none",className:"text-gray-200"}),(0,lt.jsx)("circle",{cx:"16",cy:"16",r:"12",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeDasharray:"".concat(2*Math.PI*12),strokeDashoffset:"".concat(2*Math.PI*12*(1-("completed"===e.status?100:e.progress||0)/100)),className:"".concat("completed"===e.status?"text-green-600":"text-blue-600"," transition-all"),strokeLinecap:"round"})]}),(0,lt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:"completed"===e.status?(0,lt.jsx)(hn,{className:"h-4 w-4 text-green-600"}):(0,lt.jsxs)("span",{className:"text-[9px] font-semibold text-gray-700",children:[e.progress||0,"%"]})})]})]})]}),(0,lt.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,lt.jsx)("span",{className:"text-xs px-2 py-1 bg-white bg-opacity-50 rounded",children:"session"===e.type?"Session":"Task"}),"task"===e.type&&e.status&&(0,lt.jsx)("span",{className:"text-xs px-2 py-1 bg-white bg-opacity-50 rounded capitalize",children:e.status.replace("_"," ")})]})]})},n)}):(0,lt.jsx)("div",{className:"text-center py-4",children:(0,lt.jsx)("p",{className:"text-gray-500 text-sm",children:"No events scheduled"})})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Quick Actions"}),(0,lt.jsxs)("div",{className:"space-y-2",children:["admin"!==t&&(0,lt.jsxs)("button",{onClick:()=>g(!0),className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-green-700 transition-colors flex items-center justify-center",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Add Task"]}),"student"===t&&(0,lt.jsxs)("button",{onClick:()=>y(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-700 transition-colors flex items-center justify-center",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Book Session"]}),"tutor"===t&&(0,lt.jsxs)("button",{onClick:()=>y(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-700 transition-colors flex items-center justify-center",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Schedule Session"]}),"admin"===t&&(0,lt.jsxs)("div",{className:"text-sm text-gray-600 text-center py-2",children:[(0,lt.jsx)(Mt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,lt.jsx)("p",{children:"View platform-wide calendar activity"})]})]})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"This Month"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"Total Events:"}),(0,lt.jsx)("span",{className:"font-medium",children:i.length})]}),(0,lt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"admin"===t?"Platform Sessions:":"Sessions:"}),(0,lt.jsx)("span",{className:"font-medium",children:i.filter(e=>"session"===e.type).length})]}),"admin"!==t&&(0,lt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"Tasks:"}),(0,lt.jsx)("span",{className:"font-medium",children:i.filter(e=>"task"===e.type).length})]}),"tutor"===t&&(0,lt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lt.jsx)("span",{className:"text-gray-600",children:"Students:"}),(0,lt.jsx)("span",{className:"font-medium",children:new Set(i.filter(e=>{var t;return"session"===e.type&&(null===(t=e.student)||void 0===t?void 0:t.name)}).map(e=>e.student.name)).size})]})]})]})]})]})}),f&&(0,lt.jsx)(bn,{isOpen:f,onClose:()=>g(!1),onTaskAdded:async e=>{if(e&&e.task){const t=e.task,n=new Date(t.dueDate||t.createdAt);if(!isNaN(n.getTime())){const e=n.toISOString().split("T")[0],r=Ve(Ve({},t),{},{type:"task",time:t.due_time||"09:00",status:t.status||"pending",due_date:t.dueDate});o(e=>[...e,r]),c(t=>Ve(Ve({},t),{},{[e]:[...t[e]||[],r]}))}}try{await w(!1)}catch(t){console.error("Error refreshing calendar after task added:",t)}},initialDate:s}),x&&(0,lt.jsx)(Ut,{isOpen:x,onClose:()=>y(!1),onSessionBooked:async e=>{if(e&&e.session){const t=e.session,n=new Date(t.scheduledStart||t.createdAt);if(!isNaN(n.getTime())){const e=n.toISOString().split("T")[0],r=Ve(Ve({},t),{},{type:"session",time:t.start_time||"10:00",status:t.status||"scheduled",session_date:t.scheduledStart,scheduled_at:t.scheduledStart});o(e=>[...e,r]),c(t=>Ve(Ve({},t),{},{[e]:[...t[e]||[],r]}))}}try{await w(!1)}catch(t){console.error("Error refreshing calendar after session booked:",t)}},initialDate:s}),D&&b&&(0,lt.jsx)(Fn,{isOpen:D,onClose:()=>{v(!1),j(null)},task:b,onTaskUpdated:e=>{const t=Ve(Ve({},e),{},{progress:"completed"===e.status?100:e.progress||0,progressPercentage:"completed"===e.status?100:e.progressPercentage||0});o(e=>e.map(e=>e.id==="task-".concat(t.id)||e.taskId===t.id?Ve(Ve(Ve({},e),t),{},{type:"task"}):e)),w(!1)}})]});var S},Mn=()=>(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Calendar"}),(0,lt.jsx)("p",{className:"mt-2 text-gray-600",children:"View your upcoming sessions and tasks in one place"})]}),(0,lt.jsx)(Ln,{})]})}),zn=xt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Un=e=>{let{isOpen:t,onClose:n,onConversationStarted:r}=e;const{user:s}=ut(),[a,i]=(0,l.useState)(""),[o,u]=(0,l.useState)([]),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null),[p,f]=(0,l.useState)(null),[g,x]=(0,l.useState)(""),[y,D]=(0,l.useState)(!1);(0,l.useEffect)(()=>{t&&v()},[t]);const v=async()=>{try{d(!0),h(null);const e=(await tt.search("",50)).filter(e=>e.id!==s.id);u(e)}catch(e){console.error("Error fetching users:",e),h("Failed to load available users.")}finally{d(!1)}};(0,l.useEffect)(()=>{const e=setTimeout(async()=>{const e=a.trim();try{let t;t=e?await tt.search(e,20):await tt.search("",50),u(t.filter(e=>e.id!==s.id))}catch(Du){console.error("Search error:",Du)}},300);return()=>clearTimeout(e)},[a,null===s||void 0===s?void 0:s.id]);const b=o.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase())});return t?(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] mx-4 flex flex-col",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,lt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Start New Conversation"}),(0,lt.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,lt.jsx)(vt,{className:"h-5 w-5"})})]}),m&&(0,lt.jsx)("div",{className:"p-4 bg-red-50 border-b border-red-200",children:(0,lt.jsx)("p",{className:"text-red-600 text-sm",children:m})}),(0,lt.jsxs)("div",{className:"flex-1 overflow-hidden flex",children:[(0,lt.jsxs)("div",{className:"w-1/2 border-r border-gray-200 flex flex-col",children:[(0,lt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,lt.jsx)("input",{type:"text",placeholder:"Search ".concat("student"===s.role?"tutors":"students","..."),value:a,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,lt.jsx)("div",{className:"flex-1 overflow-y-auto",children:c?(0,lt.jsx)("div",{className:"p-4",children:(0,lt.jsx)("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((e,t)=>(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,lt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t))})}):b.length>0?b.map(e=>{var t;return(0,lt.jsx)("button",{onClick:()=>f(e),className:"w-full p-4 border-b border-gray-100 hover:bg-gray-50 text-left transition-colors ".concat((null===p||void 0===p?void 0:p.id)===e.id?"bg-primary-50 border-primary-200":""),children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:e.profileImageUrl?(0,lt.jsx)("img",{src:e.profileImageUrl,alt:e.name,className:"h-10 w-10 rounded-full object-cover"}):(null===(t=e.firstName)||void 0===t?void 0:t[0])||e.name[0]}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,lt.jsxs)("p",{className:"text-xs text-gray-500",children:["tutor"===e.role?"Tutor":"Student",e.rating&&" \u2022 \u2b50 ".concat(e.rating)]}),e.subjects&&e.subjects.length>0&&(0,lt.jsxs)("p",{className:"text-xs text-gray-400 truncate",children:[e.subjects.slice(0,2).join(", "),e.subjects.length>2&&" +".concat(e.subjects.length-2," more")]}),e.totalSessions&&(0,lt.jsxs)("p",{className:"text-xs text-gray-400",children:[e.totalSessions," session",1!==e.totalSessions?"s":""]})]})]})},e.id)}):(0,lt.jsxs)("div",{className:"p-8 text-center",children:[(0,lt.jsx)(yt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsxs)("p",{className:"text-gray-500",children:["No ","student"===s.role?"tutors":"students"," found"]})]})})]}),(0,lt.jsx)("div",{className:"w-1/2 flex flex-col",children:p?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:p.name[0]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"font-medium text-gray-900",children:p.name}),(0,lt.jsx)("p",{className:"text-xs text-gray-500",children:"tutor"===p.role?"Tutor":"Student"})]})]})}),(0,lt.jsxs)("div",{className:"flex-1 p-4",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Message"}),(0,lt.jsx)("textarea",{value:g,onChange:e=>x(e.target.value),placeholder:"Send a message to ".concat(p.name,"..."),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),(0,lt.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,lt.jsx)("button",{onClick:async()=>{if(p&&g.trim())try{D(!0),h(null),await Xe.sendMessage({recipientId:p.id,messageText:g.trim(),messageType:"direct"});const e={userId:p.id,user:p,messages:[{id:Date.now(),content:g.trim(),createdAt:(new Date).toISOString(),sender:{id:s.id,name:"".concat(s.firstName," ").concat(s.lastName)},recipient:p,isRead:!0}],latestMessage:{content:g.trim(),createdAt:(new Date).toISOString()},unreadCount:0};null===r||void 0===r||r(e),n()}catch(e){console.error("Failed to start conversation:",e),h("Failed to start conversation. Please try again.")}finally{D(!1)}},disabled:!g.trim()||y,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(zn,{className:"h-4 w-4 mr-2"}),"Start Conversation"]})})})]}):(0,lt.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)(Ht,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a user"}),(0,lt.jsx)("p",{className:"text-gray-500",children:"Choose someone to start a conversation with."})]})})})]})]})}):null},qn=Object.create(null);qn.open="0",qn.close="1",qn.ping="2",qn.pong="3",qn.message="4",qn.upgrade="5",qn.noop="6";const Vn=Object.create(null);Object.keys(qn).forEach(e=>{Vn[qn[e]]=e});const Hn={type:"error",data:"parser error"},Wn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),$n="function"===typeof ArrayBuffer,Yn=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Gn=(e,t,n)=>{let{type:r,data:s}=e;return Wn&&s instanceof Blob?t?n(s):Qn(s,n):$n&&(s instanceof ArrayBuffer||Yn(s))?t?n(s):Qn(new Blob([s]),n):n(qn[r]+(s||""))},Qn=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Kn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Jn;const Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zn="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let bu=0;bu<64;bu++)Zn[Xn.charCodeAt(bu)]=bu;const er="function"===typeof ArrayBuffer,tr=(e,t)=>{if("string"!==typeof e)return{type:"message",data:rr(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:nr(e.substring(1),t)};return Vn[n]?e.length>1?{type:Vn[n],data:e.substring(1)}:{type:Vn[n]}:Hn},nr=(e,t)=>{if(er){const n=(e=>{let t,n,r,s,a,i=.75*e.length,l=e.length,o=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const u=new ArrayBuffer(i),c=new Uint8Array(u);for(t=0;t<l;t+=4)n=Zn[e.charCodeAt(t)],r=Zn[e.charCodeAt(t+1)],s=Zn[e.charCodeAt(t+2)],a=Zn[e.charCodeAt(t+3)],c[o++]=n<<2|r>>4,c[o++]=(15&r)<<4|s>>2,c[o++]=(3&s)<<6|63&a;return u})(e);return rr(n,t)}return{base64:!0,data:e}},rr=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,sr=String.fromCharCode(30);function ar(){return new TransformStream({transform(e,t){!function(e,t){Wn&&e.data instanceof Blob?e.data.arrayBuffer().then(Kn).then(t):$n&&(e.data instanceof ArrayBuffer||Yn(e.data))?t(Kn(e.data)):Gn(e,!1,e=>{Jn||(Jn=new TextEncoder),t(Jn.encode(e))})}(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ir;function lr(e){return e.reduce((e,t)=>e+t.length,0)}function or(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function ur(e){if(e)return function(e){for(var t in ur.prototype)e[t]=ur.prototype[t];return e}(e)}ur.prototype.on=ur.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},ur.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},ur.prototype.off=ur.prototype.removeListener=ur.prototype.removeAllListeners=ur.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},ur.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},ur.prototype.emitReserved=ur.prototype.emit,ur.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},ur.prototype.hasListeners=function(e){return!!this.listeners(e).length};const cr="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),dr="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const hr=dr.setTimeout,pr=dr.clearTimeout;function fr(e,t){t.useNativeTimers?(e.setTimeoutFn=hr.bind(dr),e.clearTimeoutFn=pr.bind(dr)):(e.setTimeoutFn=dr.setTimeout.bind(dr),e.clearTimeoutFn=dr.clearTimeout.bind(dr))}function gr(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function xr(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class yr extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Dr extends ur{constructor(e){super(),this.writable=!1,fr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new yr(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=tr(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class vr extends Dr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(sr),r=[];for(let s=0;s<n.length;s++){const e=tr(n[s],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((e,a)=>{Gn(e,!1,e=>{r[a]=e,++s===n&&t(r.join(sr))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=xr()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let br=!1;try{br="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(vu){}const jr=br;function wr(){}class Nr extends vr{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Cr extends ur{constructor(e,t,n){super(),this.createRequest=e,fr(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=mr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Du){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Du){}try{n.setRequestHeader("Accept","*/*")}catch(Du){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(Du){return void this.setTimeoutFn(()=>{this._onError(Du)},0)}"undefined"!==typeof document&&(this._index=Cr.requestsCount++,Cr.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=wr,e)try{this._xhr.abort()}catch(Du){}"undefined"!==typeof document&&delete Cr.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Cr.requestsCount=0,Cr.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Fr);else if("function"===typeof addEventListener){addEventListener("onpagehide"in dr?"pagehide":"unload",Fr,!1)}function Fr(){for(let e in Cr.requests)Cr.requests.hasOwnProperty(e)&&Cr.requests[e].abort()}const Er=function(){const e=kr({xdomain:!1});return e&&null!==e.responseType}();function kr(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||jr))return new XMLHttpRequest}catch(Du){}if(!t)try{return new(dr[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Du){}}const Ar="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Sr extends Dr{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Ar?{}:mr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(vu){return this.emitReserved("error",vu)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Gn(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(Du){}r&&cr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=xr()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Br=dr.WebSocket||dr.MozWebSocket;const Tr={websocket:class extends Sr{createSocket(e,t,n){return Ar?new Br(e,t,n):t?new Br(e,t):new Br(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Dr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(vu){return this.emitReserved("error",vu)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){ir||(ir=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(0===r){if(lr(n)<1)break;const e=or(n,1);a=128===(128&e[0]),s=127&e[0],r=s<126?3:126===s?1:2}else if(1===r){if(lr(n)<2)break;const e=or(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(lr(n)<8)break;const e=or(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){l.enqueue(Hn);break}s=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(lr(n)<s)break;const e=or(n,s);l.enqueue(tr(a?e:ir.decode(e),t)),r=0}if(0===s||s>e){l.enqueue(Hn);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=ar();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),s())}).catch(e=>{})};s();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&cr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Nr{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Er&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Cr(kr,this.uri(),e)}}},Pr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rr(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Pr.exec(e||""),a={},i=14;for(;i--;)a[_r[i]]=s[i]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,a.query),a}const Ir="function"===typeof addEventListener&&"function"===typeof removeEventListener,Or=[];Ir&&addEventListener("offline",()=>{Or.forEach(e=>e())},!1);class Lr extends ur{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Rr(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Rr(t.host).host);fr(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Ir&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Or.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Lr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Lr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=gr(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,cr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Lr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ir&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Or.indexOf(this._offlineEventListener);-1!==e&&Or.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Lr.protocol=4;class Mr extends Lr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Lr.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Lr.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function s(){n||(n=!0,u(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,s(),this.emitReserved("upgradeError",n)};function i(){a("transport closed")}function l(){a("socket closed")}function o(e){t&&e.name!==t.name&&s()}const u=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",i),this.off("close",l),this.off("upgrading",o)};t.once("open",r),t.once("error",a),t.once("close",i),this.once("close",l),this.once("upgrading",o),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class zr extends Mr{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Tr[e]).filter(e=>!!e)),super(e,t)}}const Ur="function"===typeof ArrayBuffer,qr=Object.prototype.toString,Vr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===qr.call(Blob),Hr="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===qr.call(File);function Wr(e){return Ur&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Vr&&e instanceof Blob||Hr&&e instanceof File}function $r(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if($r(e[t]))return!0;return!1}if(Wr(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return $r(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&$r(e[n]))return!0;return!1}function Yr(e){const t=[],n=e.data,r=e;return r.data=Gr(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Gr(e,t){if(!e)return e;if(Wr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Gr(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Gr(e[r],t));return n}return e}function Qr(e,t){return e.data=Kr(e.data,t),delete e.attachments,e}function Kr(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Kr(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Kr(e[n],t));return e}const Jr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xr=5;var Zr;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Zr||(Zr={}));class es{constructor(e){this.replacer=e}encode(e){return e.type!==Zr.EVENT&&e.type!==Zr.ACK||!$r(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Zr.EVENT?Zr.BINARY_EVENT:Zr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Zr.BINARY_EVENT&&e.type!==Zr.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Yr(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function ts(e){return"[object Object]"===Object.prototype.toString.call(e)}class ns extends ur{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Zr.BINARY_EVENT;n||t.type===Zr.BINARY_ACK?(t.type=n?Zr.EVENT:Zr.ACK,this.reconstructor=new rs(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Wr(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Zr[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Zr.BINARY_EVENT||n.type===Zr.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!ns.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Du){return!1}}static isPayloadValid(e,t){switch(e){case Zr.CONNECT:return ts(t);case Zr.DISCONNECT:return void 0===t;case Zr.CONNECT_ERROR:return"string"===typeof t||ts(t);case Zr.EVENT:case Zr.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Jr.indexOf(t[0]));case Zr.ACK:case Zr.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rs{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Qr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ss(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const as=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class is extends ur{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ss(e,"open",this.onopen.bind(this)),ss(e,"packet",this.onpacket.bind(this)),ss(e,"error",this.onerror.bind(this)),ss(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(as.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const l={type:Zr.EVENT,data:a,options:{}};if(l.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),l.id=e}const o=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,u=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!o||(u?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},s),i=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const s=(e,n)=>e?r(e):t(n);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];n(null,...a)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Zr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Zr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Zr.EVENT:case Zr.BINARY_EVENT:this.onevent(e);break;case Zr.ACK:case Zr.BINARY_ACK:this.onack(e);break;case Zr.DISCONNECT:this.ondisconnect();break;case Zr.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];t.packet({type:Zr.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Zr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ls(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ls.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ls.prototype.reset=function(){this.attempts=0},ls.prototype.setMin=function(e){this.ms=e},ls.prototype.setMax=function(e){this.max=e},ls.prototype.setJitter=function(e){this.jitter=e};class os extends ur{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,fr(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ls({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||r;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zr(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=ss(t,"open",function(){n.onopen(),e&&e()}),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=ss(t,"error",s);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ss(e,"ping",this.onping.bind(this)),ss(e,"data",this.ondata.bind(this)),ss(e,"error",this.onerror.bind(this)),ss(e,"close",this.onclose.bind(this)),ss(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Du){this.onclose("parse error",Du)}}ondecoded(e){cr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new is(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const us={};function cs(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Rr(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,s=n.id,a=n.path,i=us[s]&&a in us[s].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?l=new os(r,t):(us[s]||(us[s]=new os(r,t)),l=us[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}let ds;Object.assign(cs,{Manager:os,Socket:is,io:cs,connect:cs});const ms={connectSocket:function(e){if(ds&&ds.connected)return ds;const t=({NODE_ENV:"production",PUBLIC_URL:"/Tutor_Connect_Group2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api").replace(/\/api\/?$/,"");return ds=cs(t,{transports:["websocket"],auth:{token:e}}),ds},getSocket:function(){return ds}},hs=()=>{var e,t,n,r,s,a,i;const{user:o}=ut(),[u,c]=(0,l.useState)(null),[d,m]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[f,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)([]),[D,v]=(0,l.useState)(!0),[b,j]=(0,l.useState)(null),[w,N]=(0,l.useState)(null),[C,F]=(0,l.useState)(!1),[E,k]=(0,l.useState)(0),A=(0,l.useRef)(new Set),S=(0,l.useRef)(null);if((0,l.useEffect)(()=>{null!==o&&void 0!==o&&o.id&&(async()=>{try{v(!0),j(null);const t=await Xe.getMessages();y(t||[]);try{const e=await Xe.getUnreadCount();k(e)}catch(e){console.warn("Failed to fetch unread count:",e),k(0)}}catch(vu){console.error("Error fetching messages:",vu),j("Failed to load messages. Please try again.")}finally{v(!1)}})()},[null===o||void 0===o?void 0:o.id]),(0,l.useEffect)(()=>{if(null===o||void 0===o||!o.id)return;const e=localStorage.getItem("token"),t=ms.connectSocket(e),n=e=>{try{var t,n;if((null===e||void 0===e||null===(t=e.recipient)||void 0===t?void 0:t.id)===o.id||(null===e||void 0===e||null===(n=e.sender)||void 0===n?void 0:n.id)===o.id){var r,s;const t=e.sender||{},n=e.recipient||{};!t.name&&t.firstName&&t.lastName?t.name="".concat(t.firstName," ").concat(t.lastName):t.firstName||t.name||t.id!==o.id||(t.firstName=o.firstName,t.lastName=o.lastName,t.name="".concat(o.firstName," ").concat(o.lastName)),!n.name&&n.firstName&&n.lastName?n.name="".concat(n.firstName," ").concat(n.lastName):n.firstName||n.name||n.id!==o.id||(n.firstName=o.firstName,n.lastName=o.lastName,n.name="".concat(o.firstName," ").concat(o.lastName));const a={id:e.id,content:e.content,createdAt:e.createdAt||(new Date).toISOString(),sender:t,recipient:n,isRead:(null===(r=e.recipient)||void 0===r?void 0:r.id)!==o.id};y(e=>[a,...e]),c(t=>{var n,r,s;if(!t)return t;const i=(null===(n=e.sender)||void 0===n?void 0:n.id)===o.id?null===(r=e.recipient)||void 0===r?void 0:r.id:null===(s=e.sender)||void 0===s?void 0:s.id;return t.userId===i?Ve(Ve({},t),{},{messages:[...t.messages,a].sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)),latestMessage:a}):t}),(null===e||void 0===e||null===(s=e.recipient)||void 0===s?void 0:s.id)===o.id&&k(e=>e+1)}}catch(a){}};return t.on("message:new",n),()=>{try{t.off("message:new",n)}catch(e){}}},[null===o||void 0===o?void 0:o.id]),(0,l.useEffect)(()=>{if(null===o||void 0===o||!o.id)return;let e=!1;const t=async()=>{try{const[a,i]=await Promise.all([Xe.getMessages(),Xe.getUnreadCount()]);if(e)return;try{const e=new Set((a||[]).filter(e=>{var t;return!e.isRead&&(null===(t=e.recipient)||void 0===t?void 0:t.id)===o.id}).map(e=>e.id));if(A.current&&e.size>A.current.size){const e=(a||[]).filter(e=>{var t;return!e.isRead&&(null===(t=e.recipient)||void 0===t?void 0:t.id)===o.id&&!A.current.has(e.id)}).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))[0];if(e){var t,n,r;const s=null!==(t=e.sender)&&void 0!==t&&t.firstName&&null!==(n=e.sender)&&void 0!==n&&n.lastName?"".concat(e.sender.firstName," ").concat(e.sender.lastName):(null===(r=e.sender)||void 0===r?void 0:r.name)||"New message";window.dispatchEvent(new CustomEvent("toast",{detail:{type:"info",message:"New message from ".concat(s)}}))}}A.current=e}catch(s){}y(a||[]),k(i||0)}catch(Du){}},n=setInterval(t,15e3),r=setTimeout(t,2e3);return()=>{e=!0,clearInterval(n),clearTimeout(r)}},[null===o||void 0===o?void 0:o.id]),(0,l.useEffect)(()=>{var e;null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[null===u||void 0===u?void 0:u.messages]),D)return(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>(0,lt.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg"},t))})]})});const B=new Map;x.forEach(e=>{var t;const n=e.sender.id===o.id?e.recipient:e.sender;if(!n.name&&n.firstName&&n.lastName&&(n.name="".concat(n.firstName," ").concat(n.lastName)),!n.firstName&&n.name){const e=n.name.split(" ");n.firstName=e[0],n.lastName=e.slice(1).join(" ")}const r=n.id;B.has(r)||B.set(r,{userId:n.id,user:n,messages:[],latestMessage:e,unreadCount:0});const s=B.get(r);s.messages.push(e),new Date(e.createdAt)>new Date(s.latestMessage.createdAt)&&(s.latestMessage=e),e.isRead||(null===(t=e.recipient)||void 0===t?void 0:t.id)!==o.id||s.unreadCount++});const T=Array.from(B.values()).sort((e,t)=>new Date(t.latestMessage.createdAt)-new Date(e.latestMessage.createdAt)).filter(e=>{var t,n,r,s,a,i,l,o;const u=null!==(t=e.user)&&void 0!==t&&t.firstName&&null!==(n=e.user)&&void 0!==n&&n.lastName?"".concat(e.user.firstName," ").concat(e.user.lastName).toLowerCase():(null===(r=e.user)||void 0===r||null===(s=r.name)||void 0===s?void 0:s.toLowerCase())||"",c=(null===(a=e.user)||void 0===a||null===(i=a.role)||void 0===i?void 0:i.toLowerCase())||"",d=(null===(l=e.latestMessage)||void 0===l||null===(o=l.content)||void 0===o?void 0:o.toLowerCase())||"",m=h.toLowerCase();return u.includes(m)||c.includes(m)||d.includes(m)}),P=async()=>{if(d.trim()&&u&&!C)try{F(!0),N(null),await Xe.sendMessage({recipientId:u.userId,messageText:d.trim(),messageType:"direct"}),m("");try{const e=await Xe.getMessages();y(e||[])}catch(e){console.warn("Failed to refresh messages, adding optimistically");const t={id:Date.now(),content:d.trim(),createdAt:(new Date).toISOString(),sender:{id:o.id,name:o.firstName+" "+o.lastName},recipient:{id:u.userId,name:u.user.name},isRead:!0};y(e=>[...e,t])}}catch(b){console.error("Failed to send message:",b),N("Failed to send message. Please try again."),setTimeout(()=>N(null),5e3)}finally{F(!1)}},_=e=>{const t=new Date(e);return(new Date-t)/36e5<24?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,lt.jsxs)("div",{className:"space-y-4",children:[b&&(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"flex items-start",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium text-sm",children:"Loading Error"}),(0,lt.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b})]})]}),(0,lt.jsx)("button",{onClick:()=>j(null),className:"text-red-600 hover:text-red-800 flex-shrink-0",children:(0,lt.jsx)(vt,{className:"h-4 w-4"})})]}),w&&(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"flex items-start",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium text-sm",children:"Send Error"}),(0,lt.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w})]})]}),(0,lt.jsx)("button",{onClick:()=>N(null),className:"text-red-600 hover:text-red-800 flex-shrink-0",children:(0,lt.jsx)(vt,{className:"h-4 w-4"})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",style:{height:"600px"},children:[(0,lt.jsxs)("div",{className:"flex h-full",children:[(0,lt.jsxs)("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[(0,lt.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lt.jsxs)("h1",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(Ht,{className:"h-5 w-5 mr-2 text-primary-600"}),"Messages",E>0&&(0,lt.jsx)("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full"})]}),(0,lt.jsx)("button",{onClick:()=>g(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700 transition-colors",children:(0,lt.jsx)(Dn,{className:"h-4 w-4"})})]}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,lt.jsx)("input",{type:"text",placeholder:"Search conversations...",value:h,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,lt.jsx)("div",{className:"flex-1 overflow-y-auto",children:T.length>0?T.map(e=>{var t,n,r,s,a,i,l,d,m,h;return(0,lt.jsx)("button",{onClick:async()=>{c(e),e.unreadCount>0&&await(async e=>{if(e.unreadCount>0){const t=e.unreadCount;try{await Xe.markConversationAsRead(e.userId),y(t=>t.map(t=>t.sender.id!==e.userId||t.recipient.id!==o.id||t.isRead?t:Ve(Ve({},t),{},{isRead:!0}))),k(e=>Math.max(0,e-t))}catch(b){console.warn("Failed to mark conversation as read:",b)}}})(e)},className:"w-full p-4 border-b border-gray-100 hover:bg-gray-50 text-left transition-colors ".concat((null===u||void 0===u?void 0:u.userId)===e.userId?"bg-primary-50 border-primary-200":""),children:(0,lt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,lt.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:(null===(t=e.user)||void 0===t||null===(n=t.firstName)||void 0===n?void 0:n[0])||(null===(r=e.user)||void 0===r||null===(s=r.name)||void 0===s?void 0:s[0])||"?"}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,lt.jsxs)("div",{className:"flex flex-col",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null!==(a=e.user)&&void 0!==a&&a.firstName&&null!==(i=e.user)&&void 0!==i&&i.lastName?"".concat(e.user.firstName," ").concat(e.user.lastName):(null===(l=e.user)||void 0===l?void 0:l.name)||"Unknown User"}),(null===(d=e.user)||void 0===d?void 0:d.role)&&(0,lt.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:e.user.role})]}),(0,lt.jsx)("span",{className:"text-xs text-gray-500",children:_(null===(m=e.latestMessage)||void 0===m?void 0:m.createdAt)})]}),(0,lt.jsx)("p",{className:"text-sm text-gray-600 truncate",children:(null===(h=e.latestMessage)||void 0===h?void 0:h.content)||"No messages yet"}),e.unreadCount>0&&(0,lt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mt-1"})]})]})},e.userId)}):(0,lt.jsxs)("div",{className:"p-8 text-center",children:[(0,lt.jsx)(Ht,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conversations"}),(0,lt.jsx)("p",{className:"text-gray-500 mb-4",children:"Start a conversation by sending a message."}),(0,lt.jsx)("button",{onClick:()=>g(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Start Conversation"})]})})]}),(0,lt.jsx)("div",{className:"flex-1 flex flex-col",children:u?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"p-4 border-b border-gray-200 bg-white",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:(null===(e=u.user)||void 0===e||null===(t=e.firstName)||void 0===t?void 0:t[0])||(null===(n=u.user)||void 0===n||null===(r=n.name)||void 0===r?void 0:r[0])||"?"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:null!==(s=u.user)&&void 0!==s&&s.firstName&&null!==(a=u.user)&&void 0!==a&&a.lastName?"".concat(u.user.firstName," ").concat(u.user.lastName):(null===(i=u.user)||void 0===i?void 0:i.name)||"Unknown User"}),(0,lt.jsxs)("p",{className:"text-sm text-gray-500",children:[u.messages.length," messages"]})]})]})}),(0,lt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[u.messages.sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)).map(e=>(0,lt.jsx)("div",{className:"flex ".concat(e.sender.id===o.id?"justify-end":"justify-start"),children:(0,lt.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.sender.id===o.id?"bg-primary-600 text-white":"bg-gray-200 text-gray-900"),children:[(0,lt.jsx)("p",{className:"text-sm",children:e.content}),(0,lt.jsx)("p",{className:"text-xs mt-1 ".concat(e.sender.id===o.id?"text-primary-100":"text-gray-500"),children:_(e.createdAt)})]})},e.id)),(0,lt.jsx)("div",{ref:S})]}),(0,lt.jsx)("div",{className:"p-4 border-t border-gray-200 bg-white",children:(0,lt.jsxs)("div",{className:"flex space-x-2",children:[(0,lt.jsx)("input",{type:"text",placeholder:"Type a message...",value:d,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&P(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,lt.jsx)("button",{onClick:P,disabled:!d.trim()||C,className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?(0,lt.jsx)("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,lt.jsx)(zn,{className:"h-5 w-5"})})]})})]}):(0,lt.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)(Ht,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),(0,lt.jsx)("p",{className:"text-gray-500",children:"Choose a conversation from the sidebar to start messaging."})]})})})]}),(0,lt.jsx)(Un,{isOpen:f,onClose:()=>g(!1),onConversationStarted:e=>{y(t=>[...t,...e.messages]),c(e),g(!1)}})]})]})},ps=e=>{var t;let{isOpen:n,onClose:r,session:s,onSubmitted:a}=e;const{user:i}=ut(),[o,u]=(0,l.useState)(5),[c,d]=(0,l.useState)(""),[m,h]=(0,l.useState)(!0),[p,f]=(0,l.useState)(!1),[g,x]=(0,l.useState)(null);if(!n||!s)return null;return(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,lt.jsx)("h2",{className:"text-lg font-semibold",children:"Rate Session"}),(0,lt.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,lt.jsx)(vt,{className:"h-5 w-5"})})]}),(0,lt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(null);try{var t,n;let e;var l;if(f(!0),i.id===(null===(t=s.student)||void 0===t?void 0:t.id))e=null===(l=s.tutor)||void 0===l?void 0:l.id;else if(i.id===(null===(n=s.tutor)||void 0===n?void 0:n.id)){var u;e=null===(u=s.student)||void 0===u?void 0:u.id}if(!e)throw new Error("Could not determine who to review");await st.create({sessionId:s.id,revieweeId:e,rating:o,comment:c||null,wouldRecommend:m});try{window.dispatchEvent(new CustomEvent("toast",{detail:{type:"success",title:"Review submitted"}}))}catch(d){}null===a||void 0===a||a({rating:o,comment:c}),r()}catch(e){x(e.message||"Failed to submit review")}finally{f(!1)}},className:"p-4 space-y-4",children:[g&&(0,lt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded p-2",children:g}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("div",{className:"text-sm text-gray-700 mb-1",children:"Overall rating"}),(0,lt.jsx)("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(e=>(0,lt.jsx)("button",{type:"button",onClick:()=>u(e),className:"".concat(e<=o?"text-yellow-400":"text-gray-300"," hover:scale-110 transition-transform"),"aria-label":"Rate ".concat(e),children:(0,lt.jsx)(_t,{className:"h-6 w-6 ".concat(e<=o?"fill-current":"")})},e))})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback (optional)"}),(0,lt.jsx)("textarea",{rows:4,value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What went well? What could be improved?"})]}),(0,lt.jsx)("div",{children:(0,lt.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,lt.jsx)("input",{type:"checkbox",checked:m,onChange:e=>h(e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,lt.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["I would recommend this ",i.id===(null===(t=s.student)||void 0===t?void 0:t.id)?"tutor":"student"," to others"]})]})}),(0,lt.jsxs)("div",{className:"flex justify-end space-x-2 pt-2 border-t",children:[(0,lt.jsx)("button",{type:"button",onClick:r,className:"btn-secondary",disabled:p,children:"Cancel"}),(0,lt.jsx)("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Submitting\u2026":"Submit Review"})]})]})]})})},fs=()=>{const{user:e}=ut(),t=oe(),[n,r]=(0,l.useState)("all"),[s,a]=(0,l.useState)(!1),[i,o]=(0,l.useState)([]),[u,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(null),[f,g]=(0,l.useState)(!1),[x,y]=(0,l.useState)(null),[D,v]=(0,l.useState)({}),b=e=>{if("completed"===e.status||"cancelled"===e.status)return!0;return new Date>new Date(e.scheduledEnd||e.scheduled_end)},j=e=>"cancelled"===e.status?"cancelled":"completed"===e.status?"completed":b(e)?"finished":e.status,w=async t=>{const n={},r=t.filter(t=>("completed"===t.actualStatus||"finished"===t.actualStatus)&&"student"===e.role);for(const s of r)try{const t=await st.getBySession(s.id);console.log("Reviews for session ".concat(s.id,":"),t);const r=(t.reviews||t||[]).find(t=>{const n="student"===t.reviewerType||"student"===t.reviewer_type,r=t.reviewerId===e.id||t.reviewer_id===e.id||t.student_id&&t.student_id===e.id;return n&&r});r&&(console.log("Found user review for session ".concat(s.id,":"),r),n[s.id]=r)}catch(d){console.warn("Failed to fetch review for session ".concat(s.id,":"),d)}console.log("All session reviews:",n),v(n)},N=t=>"student"===e.role&&(("completed"===t.actualStatus||"finished"===t.actualStatus)&&(!D[t.id]&&!t.rating));if((0,l.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&(async()=>{try{let t;c(!0),m(null);try{t=await Ke.getSessions()}catch(e){console.warn("API not available, using mock data:",e),t=[{id:1,title:"Physics Tutoring",subject:"Physics",description:"Quantum mechanics and wave-particle duality",scheduledStart:new Date(Date.now()+864e5).toISOString(),scheduledEnd:new Date(Date.now()+864e5+36e5).toISOString(),sessionType:"online",status:"scheduled",tutor:{id:1,name:"Emily Johnson"},student:{id:2,name:"Alex Thompson"},meetingLink:"https://zoom.us/j/123456789"},{id:2,title:"Mathematics Session",subject:"Mathematics",description:"Calculus and derivatives review",scheduledStart:new Date(Date.now()-72e5).toISOString(),scheduledEnd:new Date(Date.now()-36e5).toISOString(),sessionType:"in_person",status:"scheduled",tutor:{id:2,name:"Michael Davis"},student:{id:2,name:"Alex Thompson"},sessionNotes:"Great progress on understanding derivatives"},{id:3,title:"Chemistry Lab Help",subject:"Chemistry",description:"Organic chemistry reactions",scheduledStart:new Date(Date.now()-6048e5).toISOString(),scheduledEnd:new Date(Date.now()-6048e5+54e5).toISOString(),sessionType:"online",status:"completed",tutor:{id:3,name:"Sarah Wilson"},student:{id:2,name:"Alex Thompson"},rating:5,sessionNotes:"Excellent session, student grasped complex concepts well"},{id:4,title:"Biology Study Session",subject:"Biology",description:"Cell biology and genetics",scheduledStart:new Date(Date.now()-2592e5).toISOString(),scheduledEnd:new Date(Date.now()-2592e5+36e5).toISOString(),sessionType:"online",status:"cancelled",tutor:{id:4,name:"David Brown"},student:{id:2,name:"Alex Thompson"}}]}const n=(t||[]).map(e=>Ve(Ve({},e),{},{actualStatus:j(e),isFinished:b(e)}));o(n),await w(n)}catch(vu){console.error("Error fetching sessions:",vu),m("Failed to load sessions. Please try again.")}finally{c(!1)}})()},[null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.role]),u)return(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>(0,lt.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"},t))})]})});if(d)return(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"text-red-600",children:[(0,lt.jsx)("h3",{className:"font-medium",children:"Error loading sessions"}),(0,lt.jsx)("p",{className:"text-sm mt-1",children:d})]})});const C=i.filter(e=>"all"===n||("upcoming"===n?"scheduled"===e.actualStatus:"completed"===n?"completed"===e.actualStatus||"finished"===e.actualStatus:e.actualStatus===n)),F=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"finished":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"in_progress":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},E=e=>{switch(e){case"scheduled":return"Scheduled";case"completed":return"Completed";case"finished":return"Needs Review";case"cancelled":return"Cancelled";case"in_progress":return"In Progress";default:return"Unknown"}},k={all:i.length,upcoming:i.filter(e=>"scheduled"===e.actualStatus).length,completed:i.filter(e=>"completed"===e.actualStatus||"finished"===e.actualStatus).length,cancelled:i.filter(e=>"cancelled"===e.actualStatus).length};return(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,lt.jsx)(It,{className:"h-6 w-6 mr-2 text-primary-600"}),"My Sessions"]}),"student"===e.role&&(0,lt.jsx)("div",{className:"flex items-center",children:(0,lt.jsxs)("button",{onClick:()=>t("/student/tutors"),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Find Tutors"]})})]})}),(0,lt.jsxs)("div",{className:"p-6",children:[(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{key:"all",label:"Total Sessions",count:k.all,color:"bg-gray-50 border-gray-200"},{key:"upcoming",label:"Scheduled",count:k.upcoming,color:"bg-blue-50 border-blue-200"},{key:"completed",label:"Completed",count:k.completed,color:"bg-green-50 border-green-200"},{key:"cancelled",label:"Cancelled",count:k.cancelled,color:"bg-red-50 border-red-200"}].map(e=>(0,lt.jsxs)("button",{onClick:()=>r(e.key),className:"p-4 rounded-lg border-2 transition-all text-left ".concat(n===e.key?"ring-2 ring-primary-500 "+e.color:e.color),children:[(0,lt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.count}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:e.label})]},e.key))}),(0,lt.jsx)("div",{className:"flex space-x-4 mb-6 border-b border-gray-200",children:[{key:"all",label:"All Sessions"},{key:"upcoming",label:"Upcoming"},{key:"completed",label:"Completed"},{key:"cancelled",label:"Cancelled"}].map(e=>(0,lt.jsxs)("button",{onClick:()=>r(e.key),className:"pb-3 px-1 border-b-2 font-medium text-sm transition-colors ".concat(n===e.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label,k[e.key]>0&&(0,lt.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2 rounded-full text-xs",children:k[e.key]})]},e.key))}),(0,lt.jsx)("div",{className:"space-y-4",children:C.length>0?C.map(t=>{var n,r,s,a;const i=new Date(t.scheduledStart||t.scheduled_start),l=new Date(t.scheduledEnd||t.scheduled_end),u=Math.round((l-i)/6e4);return(0,lt.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200 hover:shadow-md transition-shadow",children:(0,lt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.title||t.subject||"Tutoring Session"}),t.subject&&t.title&&t.title!==t.subject&&(0,lt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.subject})]}),(0,lt.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full ".concat(F(t.actualStatus)),children:E(t.actualStatus)})]}),(0,lt.jsx)("div",{className:"mb-3",children:"student"===e.role?(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,lt.jsx)(yt,{className:"h-4 w-4 mr-2"}),(0,lt.jsxs)("span",{children:["Tutor: ",(null===(n=t.tutor)||void 0===n?void 0:n.name)||"Unknown"]})]}):(0,lt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,lt.jsx)(yt,{className:"h-4 w-4 mr-2"}),(0,lt.jsxs)("span",{children:["Student: ",(null===(r=t.student)||void 0===r?void 0:r.name)||"Unknown"]})]})}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{children:i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-2"}),(0,lt.jsxs)("span",{children:[i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," (",u," min)"]})]}),(0,lt.jsx)("div",{className:"flex items-center",children:"online"===t.sessionType||"online"===t.session_type?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Lt,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{children:"Online"})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Bt,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{children:"In-person"})]})})]}),t.description&&(0,lt.jsx)("div",{className:"mt-3 p-3 bg-white rounded border",children:(0,lt.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,lt.jsx)("strong",{children:"Description:"})," ",t.description]})}),t.sessionNotes&&("completed"===t.actualStatus||"finished"===t.actualStatus)&&(0,lt.jsx)("div",{className:"mt-3 p-3 bg-white rounded border",children:(0,lt.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,lt.jsx)("strong",{children:"Session Notes:"})," ",t.sessionNotes]})}),"finished"===t.actualStatus&&(0,lt.jsx)("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(zt,{className:"h-4 w-4 text-yellow-600 mr-2"}),(0,lt.jsx)("p",{className:"text-sm text-yellow-800",children:"This session has ended. Please leave a review to help improve the tutoring experience."})]})}),("completed"===t.actualStatus||"finished"===t.actualStatus)&&t.rating&&(0,lt.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,lt.jsx)("span",{className:"text-sm text-gray-600 mr-2",children:"Your Rating:"}),(0,lt.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<t.rating?"text-yellow-400 fill-current":"text-gray-300")},n)),(0,lt.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",t.rating,"/5)"]})]})]})]}),(0,lt.jsxs)("div",{className:"ml-4 flex flex-col space-y-2",children:["scheduled"===t.actualStatus&&(0,lt.jsxs)(lt.Fragment,{children:[t.meetingLink?(0,lt.jsx)("button",{onClick:()=>window.open(t.meetingLink,"_blank"),className:"bg-primary-600 text-white px-4 py-2 rounded text-sm hover:bg-primary-700 transition-colors",children:"Join Session"}):(0,lt.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded text-sm cursor-not-allowed",children:"Join Session"}),(0,lt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to cancel this session?"))try{await Ke.cancelSession(e),o(t=>t.map(t=>t.id===e?Ve(Ve({},t),{},{status:"cancelled",actualStatus:"cancelled"}):t))}catch(d){console.error("Failed to cancel session:",d),alert("Failed to cancel session. Please try again.")}})(t.id),className:"border border-red-300 text-red-700 px-4 py-2 rounded text-sm hover:bg-red-50 transition-colors",children:"Cancel"})]}),"finished"===t.actualStatus&&"student"===e.role&&(0,lt.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,lt.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded text-sm hover:bg-blue-600 transition-colors disabled:opacity-50",onClick:()=>(async e=>{try{y(e),await Ke.updateSession(e,{status:"completed"});try{window.dispatchEvent(new CustomEvent("toast",{detail:{type:"success",title:"Session marked as completed"}}))}catch(t){}o(t=>t.map(t=>t.id===e?Ve(Ve({},t),{},{status:"completed",actualStatus:"completed"}):t))}catch(d){console.error("Error marking session as complete:",d);try{window.dispatchEvent(new CustomEvent("toast",{detail:{type:"error",title:"Failed to mark session as completed"}}))}catch(n){}}finally{y(null)}})(t.id),disabled:x===t.id,children:x===t.id?"Marking Complete...":"Mark as Complete"}),D[t.id]?(0,lt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 max-w-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,lt.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<D[t.id].rating?"text-yellow-400 fill-current":"text-gray-300")},n))}),(0,lt.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Your Review"})]}),D[t.id].comment&&(0,lt.jsxs)("p",{className:"text-sm text-green-700 italic",children:['"',D[t.id].comment,'"']}),(null!==D[t.id].wouldRecommend||null!==D[t.id].would_recommend)&&(0,lt.jsx)("p",{className:"text-xs text-green-600 mt-1",children:(null!==(s=D[t.id].wouldRecommend)&&void 0!==s?s:D[t.id].would_recommend)?"\u2713 Would recommend":"\u2717 Would not recommend"})]}):N(t)&&(0,lt.jsx)("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded text-sm hover:bg-yellow-600 transition-colors",onClick:()=>{D[t.id]||(p(t),g(!0))},children:"Leave Review"})]}),"completed"===t.actualStatus&&"student"===e.role&&(D[t.id]?(0,lt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 max-w-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,lt.jsx)("div",{className:"flex items-center",children:[...Array(5)].map((e,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<D[t.id].rating?"text-yellow-400 fill-current":"text-gray-300")},n))}),(0,lt.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Your Review"})]}),D[t.id].comment&&(0,lt.jsxs)("p",{className:"text-sm text-green-700 italic",children:['"',D[t.id].comment,'"']}),(null!==D[t.id].wouldRecommend||null!==D[t.id].would_recommend)&&(0,lt.jsx)("p",{className:"text-xs text-green-600 mt-1",children:(null!==(a=D[t.id].wouldRecommend)&&void 0!==a?a:D[t.id].would_recommend)?"\u2713 Would recommend":"\u2717 Would not recommend"})]}):N(t)&&(0,lt.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded text-sm hover:bg-green-600 transition-colors",onClick:()=>{D[t.id]||(p(t),g(!0))},children:"Leave Review"}))]})]})},t.id)}):(0,lt.jsxs)("div",{className:"text-center py-12",children:[(0,lt.jsx)(It,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ","all"!==n?"upcoming"===n?"upcoming":n:""," sessions found"]}),(0,lt.jsxs)("p",{className:"text-gray-500 mb-4",children:["upcoming"===n&&"student"===e.role&&"You don't have any upcoming sessions. Book a session with a tutor to get started!","completed"===n&&"No completed sessions yet. Your finished sessions will appear here.","cancelled"===n&&"No cancelled sessions.","all"===n&&"student"===e.role&&"You haven't booked any sessions yet. Start by finding a tutor!","all"===n&&"tutor"===e.role&&"You don't have any sessions scheduled yet. Students will book sessions with you."]}),"cancelled"!==n&&"completed"!==n&&(0,lt.jsx)("button",{onClick:()=>a(!0),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"student"===e.role?"Find Tutors":"Manage Availability"})]})})]})]}),s&&(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,lt.jsx)("h2",{className:"text-xl font-bold mb-4",children:"student"===e.role?"Book a Session":"Set Availability"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-6",children:"This feature will be implemented in the next phase of development."}),(0,lt.jsx)("button",{onClick:()=>a(!1),className:"w-full bg-primary-600 text-white py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Close"})]})}),f&&h&&(0,lt.jsx)(ps,{isOpen:f,onClose:()=>{g(!1),p(null)},session:h,onSubmitted:async t=>{let{rating:n,comment:r,wouldRecommend:s}=t;o(e=>e.map(e=>e.id===h.id?Ve(Ve({},e),{},{rating:n,comment:r,status:"completed",actualStatus:"completed"}):e)),v(t=>Ve(Ve({},t),{},{[h.id]:{rating:n,comment:r,wouldRecommend:s,would_recommend:s,sessionId:h.id,session_id:h.id,reviewerType:"student",reviewer_type:"student",reviewerId:e.id,reviewer_id:e.id}})),g(!1),p(null),setTimeout(()=>{w(i.filter(e=>e.id===h.id))},1e3)}})]})},gs=()=>{var e,t;const{user:n}=ut(),[r,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!0),[o,u]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",address:"",pincode:"",bio:"",profilePictureUrl:"",gradeLevel:"",schoolName:"",learningGoals:"",preferredLearningStyle:"visual",subjectsOfInterest:[],availabilitySchedule:{},emergencyContact:{}}),p=async()=>{try{var e,t,r,s,a,l,o;i(!0),u(null);const c=(await tt.getProfile(n.id)).user;h({firstName:c.firstName||"",lastName:c.lastName||"",email:c.email||"",phone:c.phone||"",dateOfBirth:c.dateOfBirth||"",address:c.address||"",pincode:c.pincode||"",bio:c.bio||"",profilePictureUrl:c.profilePictureUrl||"",gradeLevel:(null===(e=c.profile)||void 0===e?void 0:e.gradeLevel)||"",schoolName:(null===(t=c.profile)||void 0===t?void 0:t.schoolName)||"",learningGoals:(null===(r=c.profile)||void 0===r?void 0:r.learningGoals)||"",preferredLearningStyle:(null===(s=c.profile)||void 0===s?void 0:s.preferredLearningStyle)||"visual",subjectsOfInterest:Array.isArray(null===(a=c.profile)||void 0===a?void 0:a.subjectsOfInterest)?c.profile.subjectsOfInterest:[],availabilitySchedule:(null===(l=c.profile)||void 0===l?void 0:l.availabilitySchedule)||{},emergencyContact:(null===(o=c.profile)||void 0===o?void 0:o.emergencyContact)||{}})}catch(vu){var c,d;console.error("Error fetching user data:",vu);const t=(null===(c=vu.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||vu.message||"Failed to load profile data";u(t)}finally{i(!1)}},f=(e,t)=>{h(n=>Ve(Ve({},n),{},{[e]:t})),u(null),d(!1)};return(0,l.useEffect)(()=>{console.log("StudentSettings - user object:",n),null!==n&&void 0!==n&&n.id?(console.log("StudentSettings - fetching data for user ID:",n.id),p()):console.log("StudentSettings - no user ID available")},[null===n||void 0===n?void 0:n.id]),a?(0,lt.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,lt.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(8)].map((e,t)=>(0,lt.jsx)("div",{className:"h-12 bg-gray-200 rounded"},t))})]})}):(0,lt.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o&&(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-500 mr-2"}),(0,lt.jsx)("p",{className:"text-red-800",children:o}),(0,lt.jsx)("button",{onClick:p,className:"ml-auto text-red-700 underline hover:text-red-900",children:"Retry"})]}),c&&(0,lt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center",children:[(0,lt.jsx)(kt,{className:"h-5 w-5 text-green-500 mr-2"}),(0,lt.jsx)("p",{className:"text-green-800",children:"Profile updated successfully!"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Profile Settings"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your student profile information"})]}),(0,lt.jsx)("div",{className:"p-6",children:(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Information"}),(0,lt.jsx)("div",{className:"flex items-center space-x-6 mb-6",children:(0,lt.jsx)("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:m.profilePictureUrl?(0,lt.jsx)("img",{src:m.profilePictureUrl,alt:"Profile",className:"h-full w-full object-cover"}):(0,lt.jsx)("div",{className:"h-full w-full bg-blue-500 flex items-center justify-center text-white text-2xl font-medium",children:(null===(e=m.firstName)||void 0===e?void 0:e[0])||(null===(t=m.email)||void 0===t?void 0:t[0])||"S"})})}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,lt.jsx)("input",{type:"text",value:m.firstName,onChange:e=>f("firstName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,lt.jsx)("input",{type:"text",value:m.lastName,onChange:e=>f("lastName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,lt.jsx)("input",{type:"email",value:m.email,onChange:e=>f("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!0}),(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,lt.jsx)("input",{type:"tel",value:m.phone,onChange:e=>f("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,lt.jsx)("input",{type:"date",value:m.dateOfBirth?new Date(m.dateOfBirth).toISOString().split("T")[0]:"",onChange:e=>f("dateOfBirth",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",max:new Date((new Date).setFullYear((new Date).getFullYear()-13)).toISOString().split("T")[0]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode/ZIP Code"}),(0,lt.jsx)("input",{type:"text",value:m.pincode,onChange:e=>f("pincode",e.target.value),placeholder:"Enter your pincode or ZIP code",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:20})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,lt.jsx)("textarea",{value:m.address,onChange:e=>f("address",e.target.value),rows:3,placeholder:"Enter your full address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:500})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),(0,lt.jsx)("input",{type:"text",value:m.gradeLevel,onChange:e=>f("gradeLevel",e.target.value),placeholder:"e.g., 10th Grade, College Freshman",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Name"}),(0,lt.jsx)("input",{type:"text",value:m.schoolName,onChange:e=>f("schoolName",e.target.value),placeholder:"Your school or university",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Goals"}),(0,lt.jsx)("textarea",{value:m.learningGoals,onChange:e=>f("learningGoals",e.target.value),rows:3,placeholder:"What do you hope to achieve through tutoring?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Learning Style"}),(0,lt.jsxs)("select",{value:m.preferredLearningStyle,onChange:e=>f("preferredLearningStyle",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,lt.jsx)("option",{value:"visual",children:"Visual"}),(0,lt.jsx)("option",{value:"auditory",children:"Auditory"}),(0,lt.jsx)("option",{value:"kinesthetic",children:"Kinesthetic"}),(0,lt.jsx)("option",{value:"reading",children:"Reading/Writing"}),(0,lt.jsx)("option",{value:"both",children:"Mixed"})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects of Interest"}),(0,lt.jsx)("input",{type:"text",value:Array.isArray(m.subjectsOfInterest)?m.subjectsOfInterest.join(", "):m.subjectsOfInterest,onChange:e=>f("subjectsOfInterest",e.target.value),placeholder:"e.g., Mathematics, Physics, Computer Science",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple subjects with commas"})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,lt.jsx)("textarea",{value:m.bio,onChange:e=>f("bio",e.target.value),rows:4,placeholder:"Tell tutors a bit about yourself, your learning style, and what you're looking for...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:(0,lt.jsxs)("button",{onClick:async()=>{s(!0),u(null),d(!1);try{console.log("handleSave - Starting save process"),console.log("handleSave - user.id:",n.id),console.log("handleSave - profileData:",m);const e=Ve(Ve({},m),{},{subjectsOfInterest:Array.isArray(m.subjectsOfInterest)?m.subjectsOfInterest:m.subjectsOfInterest.split(",").map(e=>e.trim()).filter(e=>e),dateOfBirth:m.dateOfBirth?new Date(m.dateOfBirth).toISOString().split("T")[0]:null,profilePictureUrl:m.profilePictureUrl&&""!==m.profilePictureUrl.trim()?m.profilePictureUrl:null});console.log("handleSave - dataToSend:",e);const t=await tt.updateProfile(n.id,e);console.log("handleSave - API result:",t),d(!0),setTimeout(()=>d(!1),3e3)}catch(o){var e,t,r,a;console.error("Error saving profile:",o),console.error("Error details:",{message:o.message,response:null===(e=o.response)||void 0===e?void 0:e.data,status:null===(t=o.response)||void 0===t?void 0:t.status});const s=(null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||o.message||"Failed to save profile settings. Please try again.";u("Failed to save: ".concat(s))}finally{s(!1)}},disabled:r,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,lt.jsx)(Gt,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})})]})})]})]})},xs=()=>(0,lt.jsx)(xn,{userRole:"student",children:(0,lt.jsxs)(Ee,{children:[(0,lt.jsx)(Ce,{index:!0,element:(0,lt.jsx)(jn,{})}),(0,lt.jsx)(Ce,{path:"tutors",element:(0,lt.jsx)(An,{})}),(0,lt.jsx)(Ce,{path:"sessions",element:(0,lt.jsx)(fs,{})}),(0,lt.jsx)(Ce,{path:"tasks",element:(0,lt.jsx)(kn,{})}),(0,lt.jsx)(Ce,{path:"calendar",element:(0,lt.jsx)(Mn,{})}),(0,lt.jsx)(Ce,{path:"messages",element:(0,lt.jsx)(hs,{})}),(0,lt.jsx)(Ce,{path:"settings",element:(0,lt.jsx)(gs,{})})]})}),ys=()=>{var e,t,n,r,s,a,i,o,u,c,d,m;const{user:h}=ut(),[p,f]=(0,l.useState)(null),[g,x]=(0,l.useState)(!0),[y,D]=(0,l.useState)(null),v=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==h&&void 0!==h&&h.id)try{if(x(!0),D(null),e)try{await Ge.refreshStatistics(h.id),console.log("Statistics refreshed successfully")}catch(t){console.warn("Failed to refresh statistics, continuing with dashboard fetch:",t)}const n=await Ge.getTutorDashboard(h.id),r=n.dashboard||n;console.log("Dashboard data received:",r),f(r)}catch(vu){console.error("Failed to fetch dashboard data:",vu),D("Failed to load dashboard data. Please try again.")}finally{x(!1)}};(0,l.useEffect)(()=>{v()},[null===h||void 0===h?void 0:h.id]);const b=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),j=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return g?(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-6 text-white",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold",children:"Tutor Dashboard"}),(0,lt.jsx)("p",{className:"mt-2 text-green-100",children:"Loading your dashboard..."})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:[(0,lt.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,lt.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-1"}),(0,lt.jsx)("div",{className:"h-3 bg-gray-200 rounded"})]},e))})]}):y?(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-6 text-white",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold",children:"Tutor Dashboard"}),(0,lt.jsx)("p",{className:"mt-2 text-green-100",children:"Manage your students, sessions, and track your teaching progress."})]}),(0,lt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,lt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,lt.jsxs)("div",{className:"ml-3 flex-1",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Dashboard"}),(0,lt.jsx)("p",{className:"mt-1 text-sm text-red-700",children:y})]}),(0,lt.jsx)("button",{onClick:()=>v(!0),disabled:g,className:"ml-3 bg-red-600 hover:bg-red-500 disabled:opacity-50 text-white px-4 py-2 rounded-md text-sm",children:"Try Again"})]})})]}):(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-6 text-white",children:[(0,lt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome back, ",(null===h||void 0===h?void 0:h.firstName)||(null===h||void 0===h||null===(e=h.profile)||void 0===e?void 0:e.firstName)||"Tutor","!"]}),(0,lt.jsx)("p",{className:"mt-2 text-green-100",children:"Manage your students, sessions, and track your teaching progress."})]}),(0,lt.jsx)("button",{onClick:()=>v(!0),disabled:g,className:"bg-green-500 hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition-colors",title:"Refresh Dashboard & Update Earnings",children:(0,lt.jsx)(Sn,{className:"h-5 w-5 ".concat(g?"animate-spin":"")})})]}),(null===p||void 0===p?void 0:p.nextSession)&&(0,lt.jsxs)("div",{className:"mt-4 bg-green-500 bg-opacity-50 rounded-lg p-3",children:[(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{className:"text-sm font-medium",children:"Next Session:"})]}),(0,lt.jsxs)("p",{className:"text-sm mt-1",children:[p.nextSession.title," with ",p.nextSession.student]}),(0,lt.jsx)("p",{className:"text-xs text-green-100",children:j(p.nextSession.scheduledStart)})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(Nt,{className:"h-8 w-8 text-green-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Students"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null!==(t=null===p||void 0===p||null===(n=p.stats)||void 0===n?void 0:n.activeStudents)&&void 0!==t?t:0}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Currently enrolled"})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(Mt,{className:"h-8 w-8 text-blue-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Sessions"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:null!==(r=null===p||void 0===p||null===(s=p.stats)||void 0===s?void 0:s.upcomingSessions)&&void 0!==r?r:0}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This week"})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(Rt,{className:"h-8 w-8 text-purple-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:b(parseFloat(null===p||void 0===p||null===(a=p.stats)||void 0===a?void 0:a.monthlyEarnings)||0)}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(yn,{className:"h-8 w-8 text-green-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Earned"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-green-600",children:b(parseFloat(null===p||void 0===p||null===(i=p.stats)||void 0===i?void 0:i.totalEarnings)||0)}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"All time"})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(_t,{className:"h-8 w-8 text-yellow-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rating"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:((null===p||void 0===p||null===(o=p.stats)||void 0===o?void 0:o.overallRating)||0).toFixed(1)}),(0,lt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[null!==(u=null===p||void 0===p||null===(c=p.stats)||void 0===c?void 0:c.totalSessions)&&void 0!==u?u:0," sessions"]})]})]})})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,lt.jsx)(It,{className:"h-5 w-5 mr-2"}),"Recent Activity"]}),(null===p||void 0===p||null===(d=p.recentActivity)||void 0===d?void 0:d.length)>0?(0,lt.jsx)("div",{className:"space-y-3",children:p.recentActivity.slice(0,5).map((e,t)=>{return(0,lt.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,lt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.student," \u2022 ",e.subject]}),(0,lt.jsx)("p",{className:"text-xs text-gray-500",children:j(e.date)})]}),(0,lt.jsxs)("div",{className:"ml-4 flex flex-col items-end",children:[(0,lt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((n=e.status,{scheduled:"text-blue-600 bg-blue-100",completed:"text-green-600 bg-green-100",cancelled:"text-red-600 bg-red-100",in_progress:"text-yellow-600 bg-yellow-100"}[n]||"text-gray-600 bg-gray-100")),children:e.status.replace("_"," ")}),e.amount&&(0,lt.jsx)("span",{className:"text-sm font-medium text-green-600 mt-1",children:b(e.amount)})]})]},t);var n})}):(0,lt.jsx)("p",{className:"text-gray-600 text-center py-8",children:"No recent activity to show. Your completed sessions will appear here."})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,lt.jsx)(Et,{className:"h-5 w-5 mr-2"}),"Recent Reviews"]}),(null===p||void 0===p||null===(m=p.recentReviews)||void 0===m?void 0:m.length)>0?(0,lt.jsx)("div",{className:"space-y-4",children:p.recentReviews.map((e,t)=>(0,lt.jsx)("div",{className:"border-b border-gray-100 pb-3 last:border-b-0",children:(0,lt.jsx)("div",{className:"flex items-start justify-between",children:(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsxs)("div",{className:"flex items-center mb-1",children:[(0,lt.jsx)("div",{className:"flex",children:[...Array(5)].map((t,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<e.rating?"text-yellow-400 fill-current":"text-gray-300")},n))}),(0,lt.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:e.student})]}),e.comment&&(0,lt.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:['"',e.comment,'"']}),(0,lt.jsxs)("p",{className:"text-xs text-gray-500",children:[e.subject," \u2022 ",j(e.date)]})]})})},t))}):(0,lt.jsx)("p",{className:"text-gray-600 text-center py-8",children:"No reviews yet. Student reviews will appear here after completed sessions."})]})]})]})},Ds=()=>{var e;const[t,n]=(0,l.useState)("month"),[r,s]=(0,l.useState)(null),[a,i]=(0,l.useState)(!0),[o,u]=(0,l.useState)(null),{user:c}=ut();(0,l.useEffect)(()=>{(async()=>{if(null===c||void 0===c||!c.id)return u("User not authenticated"),void i(!1);try{i(!0),u(null);const e=await Ge.getTutorAnalytics(c.id,{period:t});s(e)}catch(vu){console.error("Error fetching analytics:",vu),u(vu.message||"Failed to load analytics data")}finally{i(!1)}})()},[null===c||void 0===c?void 0:c.id,t]);const d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),m=async()=>{if(null!==c&&void 0!==c&&c.id)try{i(!0),await Ge.refreshStatistics(c.id);const e=await Ge.getTutorAnalytics(c.id,{period:t});s(e)}catch(vu){console.error("Error refreshing analytics:",vu),u("Failed to refresh analytics data")}finally{i(!1)}};if(a)return(0,lt.jsx)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:(0,lt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,lt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});if(o)return(0,lt.jsx)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,lt.jsx)("p",{className:"text-red-800",children:o}),(0,lt.jsx)("button",{onClick:m,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Try Again"})]})});const h=e=>{let{title:t,value:n,subtitle:r,icon:s,color:a="blue",trend:i,trendValue:l}=e;return(0,lt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("div",{className:"p-2 rounded-lg bg-".concat(a,"-100"),children:(0,lt.jsx)(s,{className:"h-6 w-6 text-".concat(a,"-600")})}),i&&(0,lt.jsxs)("div",{className:"flex items-center text-sm ".concat("up"===i?"text-green-600":"text-red-600"),children:[(0,lt.jsx)(yn,{className:"h-4 w-4 mr-1"}),l,"%"]})]}),(0,lt.jsxs)("div",{className:"mt-4",children:[(0,lt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:t}),r&&(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]})},p=(null===r||void 0===r?void 0:r.overview)||{};return(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your tutoring performance and earnings"})]}),(0,lt.jsxs)("button",{onClick:m,disabled:a,className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[(0,lt.jsx)(Sn,{className:"h-4 w-4 ".concat(a?"animate-spin":"")}),(0,lt.jsx)("span",{children:"Refresh"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,lt.jsx)(h,{title:"Total Earnings",value:d(p.totalEarnings),subtitle:"All time",icon:Rt,color:"green"}),(0,lt.jsx)(h,{title:"Hours Tutored",value:"".concat((p.totalHours||0).toFixed(1)),subtitle:"All time",icon:Ot,color:"blue"}),(0,lt.jsx)(h,{title:"Active Students",value:p.activeStudents||0,subtitle:"0% retention rate",icon:Nt,color:"purple"}),(0,lt.jsx)(h,{title:"Average Rating",value:(p.averageRating||0).toFixed(1),subtitle:"Based on recent sessions",icon:_t,color:"yellow"}),(0,lt.jsx)(h,{title:"Sessions Completed",value:p.sessionsCompleted||0,subtitle:"0% completion rate",icon:It,color:"indigo"}),(0,lt.jsx)(h,{title:"Upcoming Sessions",value:p.upcomingSessions||0,subtitle:"Next 7 days",icon:Ct,color:"pink"})]}),(0,lt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"This Month Performance"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:d(p.monthlyEarnings)}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Monthly Earnings"})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[(p.monthlyHours||0).toFixed(1),"h"]}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Hours Tutored"})]}),(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:p.monthlySessionsCompleted||0}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Sessions Completed"})]})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,lt.jsx)("div",{className:"lg:col-span-1",children:(0,lt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Earnings Overview"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"input-field text-sm py-1",children:[(0,lt.jsx)("option",{value:"week",children:"This Week"}),(0,lt.jsx)("option",{value:"month",children:"This Month"}),(0,lt.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,lt.jsx)("option",{value:"year",children:"This Year"})]})]})]}),(0,lt.jsx)("div",{className:"space-y-4",children:((null===r||void 0===r||null===(e=r.earnings)||void 0===e?void 0:e.breakdown)||[]).map((e,t)=>{var n;return(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("span",{className:"text-sm text-gray-600",children:e.month}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,lt.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(Math.max(e.amount/Math.max(...((null===r||void 0===r||null===(n=r.earnings)||void 0===n?void 0:n.breakdown)||[]).map(e=>e.amount),1)*100,5),"%")}})}),(0,lt.jsx)("span",{className:"text-sm font-medium text-gray-900 w-16 text-right",children:d(e.amount)})]})]},t)})})]})}),(0,lt.jsx)("div",{className:"lg:col-span-1",children:(0,lt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Sessions"}),(0,lt.jsx)("div",{className:"space-y-3",children:((null===r||void 0===r?void 0:r.recentSessions)||[]).map((e,t)=>(0,lt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,lt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.student," \u2022 ",e.subject]}),(0,lt.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]}),(0,lt.jsxs)("div",{className:"text-right",children:[(0,lt.jsx)("p",{className:"font-medium text-gray-900",children:d(e.amount)}),(0,lt.jsx)("p",{className:"text-xs px-2 py-1 rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status})]})]},t))}),(0,lt.jsx)("button",{className:"btn-outline w-full mt-4",children:"View All Sessions"})]})})]})]})},vs=xt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),bs=xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),js=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ws=e=>{var t;let{isOpen:n,onClose:r,onSave:s,slot:a,tutorId:i}=e;const o=e=>e?5===e.length?e:e.substring(0,5):"",[u,c]=(0,l.useState)({dayOfWeek:null!==(t=null===a||void 0===a?void 0:a.dayOfWeek)&&void 0!==t?t:1,startTime:o(null===a||void 0===a?void 0:a.startTime)||"09:00",endTime:o(null===a||void 0===a?void 0:a.endTime)||"10:00"}),[d,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null);return n?(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full mx-4 p-6",children:[(0,lt.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[a?"Edit":"Add"," Weekly Availability"]}),(0,lt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p(null),u.startTime>=u.endTime)p("Start time must be before end time");else if(u.dayOfWeek<0||u.dayOfWeek>6)p("Day of week must be between ".concat(0," and ").concat(6));else try{m(!0),a?await Qe.updateSlot(i,a.id,{startTime:u.startTime,endTime:u.endTime}):await Qe.createRecurringSlot(i,{dayOfWeek:u.dayOfWeek,startTime:u.startTime,endTime:u.endTime}),s()}catch(vu){p(vu.message||"Failed to save slot")}finally{m(!1)}},className:"space-y-4",children:[h&&(0,lt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-3 text-red-600 text-sm",children:h}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day of Week"}),(0,lt.jsx)("select",{value:u.dayOfWeek,onChange:e=>c(Ve(Ve({},u),{},{dayOfWeek:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:!!a,children:js.map((e,t)=>(0,lt.jsx)("option",{value:t,children:e},t))})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),(0,lt.jsx)("input",{type:"time",value:u.startTime,onChange:e=>c(Ve(Ve({},u),{},{startTime:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),(0,lt.jsx)("input",{type:"time",value:u.endTime,onChange:e=>c(Ve(Ve({},u),{},{endTime:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(0,lt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,lt.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:d,children:"Cancel"}),(0,lt.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",disabled:d,children:d?"Saving...":a?"Update":"Add"})]})]})]})}):null},Ns=()=>{const{user:e}=ut(),[t,n]=(0,l.useState)([]),[r,s]=(0,l.useState)(!0),[a,i]=(0,l.useState)(null),[o,u]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),[m,h]=(0,l.useState)([]);(0,l.useEffect)(()=>{null!==e&&void 0!==e&&e.id&&p()},[e]);const p=async()=>{try{var t;s(!0),i(null);const r=(null===(t=(await Qe.getAvailability(e.id,{includeBooked:!1})).availability)||void 0===t?void 0:t.recurringSlots)||[];n(r),h(r)}catch(vu){console.error("Failed to load availability",vu),i(vu.message||"Failed to load availability")}finally{s(!1)}},f=()=>{d(null),u(!0)},g=()=>{u(!1),d(null)};return r?(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto"}),(0,lt.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading availability..."})]})}):a?(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)(zt,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),(0,lt.jsx)("p",{className:"text-red-600 mb-4",children:a}),(0,lt.jsx)("button",{onClick:p,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Retry"})]})}):(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lt.jsxs)("div",{className:"mb-6",children:[(0,lt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Availability"}),(0,lt.jsx)("p",{className:"mt-2 text-gray-600",children:"Set your weekly recurring schedule for tutoring availability"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,lt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Recurring Weekly Availability"}),(0,lt.jsxs)("button",{onClick:f,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Add Time Slot"]})]}),0===m.length?(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[(0,lt.jsx)(Ot,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,lt.jsx)("p",{className:"text-gray-600 mb-4",children:"No weekly availability set"}),(0,lt.jsxs)("button",{onClick:f,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[(0,lt.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Add Your First Time Slot"]})]}):(0,lt.jsx)("div",{className:"space-y-4",children:js.map((n,r)=>{const s=t.filter(e=>e.dayOfWeek===r);return 0===s.length?null:(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:n}),(0,lt.jsx)("div",{className:"space-y-2",children:s.map(t=>(0,lt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded p-3",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,lt.jsx)(Ot,{className:"h-5 w-5 text-gray-400"}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("p",{className:"font-medium text-gray-900",children:[t.startTime," - ",t.endTime]}),(0,lt.jsx)("p",{className:"text-sm text-gray-500",children:"Available for tutoring sessions"})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)("button",{onClick:()=>(e=>{d(e),u(!0)})(t),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded","aria-label":"Edit slot",children:(0,lt.jsx)(vs,{className:"h-4 w-4"})}),(0,lt.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this availability slot? This cannot be undone."))try{await Qe.deleteSlot(e.id,t),await p()}catch(vu){alert(vu.message||"Failed to delete slot")}})(t.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded","aria-label":"Delete slot",children:(0,lt.jsx)(bs,{className:"h-4 w-4"})})]})]},t.id))})]},r)})})]}),o&&(0,lt.jsx)(ws,{isOpen:o,onClose:g,onSave:async()=>{await p(),g()},slot:c,tutorId:null===e||void 0===e?void 0:e.id})]})},Cs=()=>{var e,t;const{user:n}=ut(),[r,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!0),[o,u]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",address:"",pincode:"",bio:"",profilePictureUrl:"",hourlyRate:"",qualifications:"",experience:"",availability:{},subjectsTeaching:[],teachingMethods:[],certifications:"",yearsOfExperience:0,maxStudents:10,preferredAge:"all",languages:[]}),p=async()=>{try{var e,t,r,s,a,l,o,c,d,m,p;i(!0),u(null);const f=(await tt.getProfile(n.id)).user;h({firstName:f.firstName||"",lastName:f.lastName||"",email:f.email||"",phone:f.phone||"",dateOfBirth:f.dateOfBirth||"",address:f.address||"",pincode:f.pincode||"",bio:f.bio||"",profilePictureUrl:f.profilePictureUrl||"",hourlyRate:(null===(e=f.profile)||void 0===e?void 0:e.hourlyRate)||"",qualifications:(null===(t=f.profile)||void 0===t?void 0:t.educationBackground)||"",experience:(null===(r=f.profile)||void 0===r?void 0:r.teachingPhilosophy)||"",availability:(null===(s=f.profile)||void 0===s?void 0:s.availability)||{},subjectsTeaching:Array.isArray(null===(a=f.profile)||void 0===a?void 0:a.subjectsTeaching)?f.profile.subjectsTeaching:[],teachingMethods:null!==(l=f.profile)&&void 0!==l&&l.preferredTeachingMethod?[f.profile.preferredTeachingMethod]:[],certifications:(null===(o=f.profile)||void 0===o?void 0:o.certifications)||"",yearsOfExperience:(null===(c=f.profile)||void 0===c?void 0:c.yearsOfExperience)||0,maxStudents:(null===(d=f.profile)||void 0===d?void 0:d.maxStudents)||10,preferredAge:(null===(m=f.profile)||void 0===m?void 0:m.preferredAge)||"all",languages:Array.isArray(null===(p=f.profile)||void 0===p?void 0:p.languagesSpoken)?f.profile.languagesSpoken:[]})}catch(vu){var f,g;console.error("Error fetching user data:",vu);const t=(null===(f=vu.response)||void 0===f||null===(g=f.data)||void 0===g?void 0:g.message)||vu.message||"Failed to load profile data";u(t)}finally{i(!1)}},f=(e,t)=>{h(n=>Ve(Ve({},n),{},{[e]:t})),u(null),d(!1)};return(0,l.useEffect)(()=>{null!==n&&void 0!==n&&n.id&&p()},[null===n||void 0===n?void 0:n.id]),a?(0,lt.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,lt.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(12)].map((e,t)=>(0,lt.jsx)("div",{className:"h-12 bg-gray-200 rounded"},t))})]})}):(0,lt.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o&&(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[(0,lt.jsx)(zt,{className:"h-5 w-5 text-red-500 mr-2"}),(0,lt.jsx)("p",{className:"text-red-800",children:o}),(0,lt.jsx)("button",{onClick:p,className:"ml-auto text-red-700 underline hover:text-red-900",children:"Retry"})]}),c&&(0,lt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center",children:[(0,lt.jsx)(kt,{className:"h-5 w-5 text-green-500 mr-2"}),(0,lt.jsx)("p",{className:"text-green-800",children:"Profile updated successfully!"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tutor Profile Settings"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your tutor profile information"})]}),(0,lt.jsx)("div",{className:"p-6",children:(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Information"}),(0,lt.jsx)("div",{className:"flex items-center space-x-6 mb-6",children:(0,lt.jsx)("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:m.profilePictureUrl?(0,lt.jsx)("img",{src:m.profilePictureUrl,alt:"Profile",className:"h-full w-full object-cover"}):(0,lt.jsx)("div",{className:"h-full w-full bg-blue-500 flex items-center justify-center text-white text-2xl font-medium",children:(null===(e=m.firstName)||void 0===e?void 0:e[0])||(null===(t=m.email)||void 0===t?void 0:t[0])||"T"})})}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,lt.jsx)("input",{type:"text",value:m.firstName,onChange:e=>f("firstName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,lt.jsx)("input",{type:"text",value:m.lastName,onChange:e=>f("lastName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,lt.jsx)("input",{type:"email",value:m.email,onChange:e=>f("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!0}),(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,lt.jsx)("input",{type:"tel",value:m.phone,onChange:e=>f("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,lt.jsx)("input",{type:"date",value:m.dateOfBirth?new Date(m.dateOfBirth).toISOString().split("T")[0]:"",onChange:e=>f("dateOfBirth",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",max:new Date((new Date).setFullYear((new Date).getFullYear()-18)).toISOString().split("T")[0]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode/ZIP Code"}),(0,lt.jsx)("input",{type:"text",value:m.pincode,onChange:e=>f("pincode",e.target.value),placeholder:"Enter your pincode or ZIP code",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:20})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,lt.jsx)("textarea",{value:m.address,onChange:e=>f("address",e.target.value),rows:3,placeholder:"Enter your full address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:500})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Professional Information"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hourly Rate ($)"}),(0,lt.jsx)("input",{type:"number",min:"0",step:"0.01",value:m.hourlyRate,onChange:e=>f("hourlyRate",e.target.value),placeholder:"Enter your hourly rate",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),(0,lt.jsx)("input",{type:"number",min:"0",value:m.yearsOfExperience,onChange:e=>f("yearsOfExperience",e.target.value),placeholder:"Years of teaching experience",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Students"}),(0,lt.jsx)("input",{type:"number",min:"1",max:"50",value:m.maxStudents,onChange:e=>f("maxStudents",e.target.value),placeholder:"Max number of students",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Age Group"}),(0,lt.jsxs)("select",{value:m.preferredAge,onChange:e=>f("preferredAge",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,lt.jsx)("option",{value:"all",children:"All Ages"}),(0,lt.jsx)("option",{value:"elementary",children:"Elementary (5-10)"}),(0,lt.jsx)("option",{value:"middle",children:"Middle School (11-13)"}),(0,lt.jsx)("option",{value:"high",children:"High School (14-18)"}),(0,lt.jsx)("option",{value:"college",children:"College (18+)"}),(0,lt.jsx)("option",{value:"adult",children:"Adult Learners"})]})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualifications"}),(0,lt.jsx)("textarea",{value:m.qualifications,onChange:e=>f("qualifications",e.target.value),rows:3,placeholder:"List your educational qualifications and degrees",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),(0,lt.jsx)("textarea",{value:m.experience,onChange:e=>f("experience",e.target.value),rows:4,placeholder:"Describe your teaching or professional experience",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),(0,lt.jsx)("textarea",{value:m.certifications,onChange:e=>f("certifications",e.target.value),rows:3,placeholder:"List any relevant certifications",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjects Teaching"}),(0,lt.jsx)("input",{type:"text",value:Array.isArray(m.subjectsTeaching)?m.subjectsTeaching.join(", "):m.subjectsTeaching,onChange:e=>f("subjectsTeaching",e.target.value),placeholder:"e.g., Mathematics, Physics, Computer Science",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple subjects with commas"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teaching Methods"}),(0,lt.jsx)("input",{type:"text",value:Array.isArray(m.teachingMethods)?m.teachingMethods.join(", "):m.teachingMethods,onChange:e=>f("teachingMethods",e.target.value),placeholder:"e.g., Visual aids, Hands-on practice, Discussion",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple methods with commas"})]})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages"}),(0,lt.jsx)("input",{type:"text",value:Array.isArray(m.languages)?m.languages.join(", "):m.languages,onChange:e=>f("languages",e.target.value),placeholder:"e.g., English, Spanish, French",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,lt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple languages with commas"})]}),(0,lt.jsxs)("div",{className:"mt-6",children:[(0,lt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,lt.jsx)("textarea",{value:m.bio,onChange:e=>f("bio",e.target.value),rows:4,placeholder:"Tell students about yourself, your teaching philosophy, and what makes you a great tutor...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,lt.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:(0,lt.jsxs)("button",{onClick:async()=>{s(!0),u(null),d(!1);try{var e;const t={firstName:m.firstName,lastName:m.lastName,phone:m.phone,dateOfBirth:m.dateOfBirth?new Date(m.dateOfBirth).toISOString().split("T")[0]:null,address:m.address,pincode:m.pincode,bio:m.bio,profilePictureUrl:m.profilePictureUrl,hourlyRate:parseFloat(m.hourlyRate)||0,yearsOfExperience:parseInt(m.yearsOfExperience)||0,educationBackground:m.qualifications,certifications:m.certifications,teachingPhilosophy:m.experience,languagesSpoken:Array.isArray(m.languages)?m.languages:m.languages.split(",").map(e=>e.trim()).filter(e=>e),preferredTeachingMethod:Array.isArray(m.teachingMethods)?m.teachingMethods[0]||"":(null===(e=m.teachingMethods.split(",")[0])||void 0===e?void 0:e.trim())||"",isAvailableNow:!0};await tt.updateProfile(n.id,t),d(!0),setTimeout(()=>d(!1),3e3)}catch(o){console.error("Error saving profile:",o),u("Failed to save profile settings. Please try again.")}finally{s(!1)}},disabled:r,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,lt.jsx)(Gt,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})})]})})]})]})},Fs=()=>(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Calendar"}),(0,lt.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your teaching schedule and track your progress"})]}),(0,lt.jsx)(Ln,{})]})}),Es=()=>(0,lt.jsx)(xn,{userRole:"tutor",children:(0,lt.jsxs)(Ee,{children:[(0,lt.jsx)(Ce,{index:!0,element:(0,lt.jsx)(ys,{})}),(0,lt.jsx)(Ce,{path:"sessions",element:(0,lt.jsx)(fs,{})}),(0,lt.jsx)(Ce,{path:"analytics",element:(0,lt.jsx)(Ds,{})}),(0,lt.jsx)(Ce,{path:"availability",element:(0,lt.jsx)(Ns,{})}),(0,lt.jsx)(Ce,{path:"tasks",element:(0,lt.jsx)(kn,{})}),(0,lt.jsx)(Ce,{path:"calendar",element:(0,lt.jsx)(Fs,{})}),(0,lt.jsx)(Ce,{path:"messages",element:(0,lt.jsx)(hs,{})}),(0,lt.jsx)(Ce,{path:"settings",element:(0,lt.jsx)(Cs,{})})]})}),ks=xt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),As=()=>{const[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)("all"),[s,a]=(0,l.useState)("all"),[i,o]=(0,l.useState)(null),[u,c]=(0,l.useState)(!1),[d,m]=(0,l.useState)([]),[h,p]=(0,l.useState)([]),[f,g]=(0,l.useState)(!0),[x,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{D()},[]),(0,l.useEffect)(()=>{console.log("Setting user list:",d.map(e=>({id:e.id,email:e.email,role:e.role}))),p(d)},[d]);const D=async()=>{try{g(!0),y(null);const e=await et.getAllUsers(),t=(e.users||e).map(e=>{var t,n,r,s;return{id:e.id,first_name:e.firstName||e.first_name,last_name:e.lastName||e.last_name,email:e.email,role:e.role,isActive:e.isActive,phone:e.phone||"N/A",joinedDate:e.createdAt?new Date(e.createdAt).toISOString().split("T")[0]:"N/A",lastLogin:e.lastLogin||e.createdAt||"Never",emailVerified:!1!==e.emailVerified,totalSessions:(null===(t=e.tutorStats)||void 0===t?void 0:t.totalSessions)||0,totalEarned:(null===(n=e.tutorStats)||void 0===n?void 0:n.totalEarnings)||0,rating:(null===(r=e.tutorStats)||void 0===r?void 0:r.rating)||0,subjects:e.subjects||[],isVerified:(null===(s=e.tutorStats)||void 0===s?void 0:s.isVerified)||!1,avatar:"https://images.unsplash.com/photo-".concat("tutor"===e.role?"1494790108755-2616b612b786":"admin"===e.role?"1560250097-f9871d5e6e74":"1472099645785-5658abf4ff4e","?w=150")}});m(t)}catch(vu){console.error("Error fetching users:",vu),y("Failed to load users. Please try again.")}finally{g(!1)}};if(f)return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,lt.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg"},t))})})]})})});if(x)return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium",children:"Error loading users"}),(0,lt.jsx)("p",{className:"text-red-600 mt-1",children:x}),(0,lt.jsx)("button",{onClick:D,className:"mt-3 px-4 py-2 bg-red-100 text-red-800 rounded-md hover:bg-red-200 transition-colors",children:"Retry"})]})})});const v=h.filter(t=>{const r=t.first_name&&t.first_name.toLowerCase().includes(e.toLowerCase())||t.last_name&&t.last_name.toLowerCase().includes(e.toLowerCase())||t.email&&t.email.toLowerCase().includes(e.toLowerCase())||t.subjects&&t.subjects.some(t=>t.toLowerCase().includes(e.toLowerCase())),a="all"===n||t.role===n,i="all"===s||"active"===s&&t.isActive||"inactive"===s&&!t.isActive;return r&&a&&i}),b=e=>e?"bg-green-100 text-green-800":"bg-red-100 text-red-800",j=e=>e?"Active":"Inactive",w=e=>{switch(e){case"admin":return"bg-purple-100 text-purple-800";case"tutor":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=(e,t)=>e?e.charAt(0).toUpperCase():t?t.charAt(0).toUpperCase():"U",C=e=>{const t=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return t[(e?e.charCodeAt(0):0)%t.length]},F=async(e,t)=>{try{console.log("Attempting to update user status:",{userId:e,isActive:t});const n=await et.toggleUserStatus(e,t?"active":"inactive");console.log("Status update response:",n),n&&n.user&&p(t=>t.map(t=>t.id===e?Ve(Ve({},t),{},{isActive:n.user.isActive}):t)),console.log("Successfully updated user ".concat(e," status to ").concat(t?"active":"inactive"))}catch(vu){var n,r;console.error("Error updating user status:",vu),alert("Failed to update user status. Error: ".concat((null===(n=vu.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||vu.message))}},E=e=>{var t;let{user:n}=e;return(0,lt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,lt.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,lt.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center text-white font-medium text-lg ".concat(C(n.first_name||n.last_name||n.email)),children:N(n.first_name,n.last_name)}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h3",{className:"font-medium text-gray-900",children:[n.first_name||"Unknown"," ",n.last_name||"User"]}),(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:n.email||"No email"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(w(n.role)),children:n.role||"No role"}),(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(b(n.isActive)),children:j(n.isActive)}),"tutor"===n.role&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(n.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:n.isVerified?"Verified":"Unverified"}),"tutor"===n.role&&n.verified&&(0,lt.jsx)(kt,{className:"h-4 w-4 text-green-600",title:"Verified Tutor"})]})]})]})}),(0,lt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Joined"}),(0,lt.jsx)("p",{className:"font-medium",children:n.joinedDate?new Date(n.joinedDate).toLocaleDateString():"Unknown"})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Last Login"}),(0,lt.jsx)("p",{className:"font-medium",children:n.lastLogin?new Date(n.lastLogin).toLocaleDateString():"Never"})]}),"student"===n.role&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Sessions"}),(0,lt.jsx)("p",{className:"font-medium",children:n.totalSessions||0})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Total Spent"}),(0,lt.jsxs)("p",{className:"font-medium",children:["$",n.totalSpent||0]})]})]}),"tutor"===n.role&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Sessions"}),(0,lt.jsx)("p",{className:"font-medium",children:n.totalSessions||0})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Total Earned"}),(0,lt.jsxs)("p",{className:"font-medium",children:["$",n.totalEarned||0]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Rating"}),(0,lt.jsxs)("p",{className:"font-medium",children:[n.rating||0," \u2b50"]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("p",{className:"text-gray-500",children:"Subjects"}),(0,lt.jsx)("p",{className:"font-medium",children:(null===(t=n.subjects)||void 0===t?void 0:t.length)||0})]})]})]}),(0,lt.jsxs)("div",{className:"mt-4 flex space-x-2",children:["tutor"===n.role&&!n.isVerified&&(0,lt.jsx)("button",{onClick:()=>(async(e,t)=>{try{console.log("Attempting to update tutor verification:",{userId:e,isVerified:t});const n=await et.updateTutorVerification(e,t);console.log("Tutor verification response:",n),p(n=>n.map(n=>n.id===e?Ve(Ve({},n),{},{isVerified:t}):n)),console.log("Successfully updated tutor ".concat(e," verification to ").concat(t))}catch(vu){var n,r;console.error("Error updating tutor verification:",vu),alert("Failed to update tutor verification. Error: ".concat((null===(n=vu.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||vu.message))}})(n.id,!0),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors",children:"Approve Tutor"}),n.isActive?(0,lt.jsx)("button",{onClick:()=>F(n.id,!1),className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition-colors",children:"Deactivate"}):(0,lt.jsx)("button",{onClick:()=>F(n.id,!0),className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Activate"})]})]})},k=e=>{var t;let{user:n,onClose:r}=e;return(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User Details"}),(0,lt.jsx)("button",{onClick:r,className:"btn-secondary",children:"Close"})]})}),(0,lt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,lt.jsx)("div",{className:"h-16 w-16 rounded-full flex items-center justify-center text-white font-medium text-xl ".concat(C(n.first_name||n.last_name||n.email)),children:N(n.first_name,n.last_name)}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:[n.first_name||"Unknown"," ",n.last_name||"User"]}),(0,lt.jsx)("p",{className:"text-gray-600",children:n.email||"No email"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(w(n.role)),children:n.role}),(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(b(n.isActive)),children:j(n.isActive)}),"tutor"===n.role&&(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(n.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:n.isVerified?"Verified":"Unverified"})]})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),(0,lt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(At,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsx)("span",{children:n.email||"No email"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(St,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsx)("span",{children:n.phone||"No phone"})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(yt,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsx)("span",{children:n.location||"No location"})]})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Account Information"}),(0,lt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsxs)("span",{children:["Joined: ",n.joinedDate?new Date(n.joinedDate).toLocaleDateString():"Unknown"]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(Mt,{className:"h-4 w-4 text-gray-400"}),(0,lt.jsxs)("span",{children:["Last Login: ",n.lastLogin?new Date(n.lastLogin).toLocaleDateString():"Never"]})]})]})]})]}),"tutor"===n.role&&(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Tutor Statistics"}),(0,lt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,lt.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,lt.jsx)("p",{className:"text-sm text-blue-600",children:"Sessions"}),(0,lt.jsx)("p",{className:"text-xl font-bold text-blue-600",children:n.totalSessions||0})]}),(0,lt.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,lt.jsx)("p",{className:"text-sm text-green-600",children:"Earned"}),(0,lt.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["$",n.totalEarned||0]})]}),(0,lt.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,lt.jsx)("p",{className:"text-sm text-yellow-600",children:"Rating"}),(0,lt.jsx)("p",{className:"text-xl font-bold text-yellow-600",children:n.rating||0})]}),(0,lt.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,lt.jsx)("p",{className:"text-sm text-purple-600",children:"Subjects"}),(0,lt.jsx)("p",{className:"text-xl font-bold text-purple-600",children:(null===(t=n.subjects)||void 0===t?void 0:t.length)||0})]})]}),n.subjects&&(0,lt.jsxs)("div",{className:"mt-4",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Teaching Subjects:"}),(0,lt.jsx)("div",{className:"flex flex-wrap gap-2",children:n.subjects.map((e,t)=>(0,lt.jsx)("span",{className:"px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:e},t))})]})]}),(0,lt.jsxs)("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[(0,lt.jsx)("button",{onClick:()=>{console.log("Send message to:",n.first_name,n.last_name),alert("Send message functionality will be implemented soon.")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Send Message"}),(0,lt.jsx)("button",{onClick:()=>{console.log("View activity for:",n.first_name,n.last_name),alert("View activity functionality will be implemented soon.")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"View Activity"})]})]})]})})},A={total:h.length,students:h.filter(e=>"student"===e.role).length,tutors:h.filter(e=>"tutor"===e.role).length,admins:h.filter(e=>"admin"===e.role).length,active:h.filter(e=>e.isActive).length,inactive:h.filter(e=>!e.isActive).length,verified_tutors:h.filter(e=>"tutor"===e.role&&e.isVerified).length};return(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,lt.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage all platform users, roles, and permissions"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-600",children:"Total Users"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A.total})]}),(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-green-600",children:"Students"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:A.students})]}),(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-blue-600",children:"Tutors"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:A.tutors})]}),(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-purple-600",children:"Admins"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:A.admins})]}),(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-green-600",children:"Active"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:A.active})]}),(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-red-600",children:"Inactive"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-red-600",children:A.inactive})]}),(0,lt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-blue-600",children:"Verified Tutors"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:A.verified_tutors})]})]}),(0,lt.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,lt.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,lt.jsxs)("div",{className:"flex-1 relative",children:[(0,lt.jsx)(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,lt.jsx)("input",{type:"text",placeholder:"Search users by name, email, or subject...",value:e,onChange:e=>t(e.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,lt.jsxs)("div",{className:"flex space-x-2",children:[(0,lt.jsxs)("button",{onClick:()=>{t(""),r("all"),a("all")},className:"flex items-center px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Reset all filters",children:[(0,lt.jsx)(Pt,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{children:"Reset"})]}),(0,lt.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500 min-w-[120px]",children:[(0,lt.jsx)("option",{value:"all",children:"All Roles"}),(0,lt.jsx)("option",{value:"student",children:"Students"}),(0,lt.jsx)("option",{value:"tutor",children:"Tutors"}),(0,lt.jsx)("option",{value:"admin",children:"Admins"})]}),(0,lt.jsxs)("select",{value:s,onChange:e=>a(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500 min-w-[120px]",children:[(0,lt.jsx)("option",{value:"all",children:"All Status"}),(0,lt.jsx)("option",{value:"active",children:"Active"}),(0,lt.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]})}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>(0,lt.jsx)(E,{user:e},e.id))}),0===v.length&&(0,lt.jsxs)("div",{className:"text-center py-12",children:[(0,lt.jsx)(yt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),(0,lt.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]}),i&&(0,lt.jsx)(k,{user:i,onClose:()=>o(null)}),u&&(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:[(0,lt.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,lt.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create New User"}),(0,lt.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:(0,lt.jsx)(ks,{className:"h-6 w-6"})})]}),(0,lt.jsx)("div",{className:"p-6",children:(0,lt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,lt.jsxs)("div",{className:"text-center",children:[(0,lt.jsx)(zt,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"User creation form will be implemented here."}),(0,lt.jsx)("button",{onClick:()=>c(!1),className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Close"})]})})})]})})]})},Ss=xt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Bs=()=>{var e,t,n;const r=e=>e?e.charAt(0).toUpperCase():"U",s=e=>{const t=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return t[(e?e.charCodeAt(0):0)%t.length]},[a,i]=(0,l.useState)("all"),[o,u]=(0,l.useState)(""),[c,d]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)("all"),[g,x]=(0,l.useState)("all"),[y,D]=(0,l.useState)([]),[v,b]=(0,l.useState)(!0),[j,w]=(0,l.useState)(null);(0,l.useEffect)(()=>{N()},[]);const N=async()=>{try{b(!0),w(null);const e=await et.getAllSessions(),t=(e.sessions||[]).map(e=>({id:e.id,title:e.title,description:e.description,tutor_name:e.tutor.name,student_name:e.student.name,subject:e.subject,status:e.status,session_type:e.sessionType||"video",scheduled_at:e.scheduledAt,scheduled_end:e.scheduledEnd,started_at:e.startedAt,ended_at:e.endedAt,duration:e.durationMinutes,actual_duration:e.actualDuration,total_earnings:e.paymentAmount||(e.rate?e.rate*(e.durationMinutes/60):0),tutor_earnings:e.paymentAmount?.8*e.paymentAmount:e.rate?e.rate*(e.durationMinutes/60)*.8:0,rating:e.rating,notes:e.notes,homework_assigned:e.homeworkAssigned,materials_used:e.materialsUsed,meeting_link:e.meetingLink,meeting_room:e.meetingRoom,cancellation_reason:e.cancellationReason,location:e.meetingRoom||("in_person"===e.sessionType?"In-Person":null),tutor_id:e.tutor.id,student_id:e.student.id,tutor:{id:e.tutor.id,name:e.tutor.name,initial:r(e.tutor.name),avatarColor:s(e.tutor.name)},student:{id:e.student.id,name:e.student.name,initial:r(e.student.name),avatarColor:s(e.student.name)},created_at:e.createdAt,updated_at:e.updatedAt}));D(t)}catch(vu){console.error("Error fetching sessions:",vu),w("Failed to load sessions. Please try again."),D([])}finally{b(!1)}};if(v)return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,lt.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,lt.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"},t))})})]})})});if(j)return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,lt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,lt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,lt.jsx)("h3",{className:"text-red-800 font-medium",children:"Error loading sessions"}),(0,lt.jsx)("p",{className:"text-red-600 mt-1",children:j}),(0,lt.jsx)("button",{onClick:N,className:"mt-3 px-4 py-2 bg-red-100 text-red-800 rounded-md hover:bg-red-200 transition-colors",children:"Retry"})]})})});const C=y||[],F={totalSessions:C.length,completedSessions:C.filter(e=>"completed"===e.status).length,scheduledSessions:C.filter(e=>"scheduled"===e.status).length,cancelledSessions:C.filter(e=>"cancelled"===e.status).length,totalEarnings:Number(C.reduce((e,t)=>e+(parseFloat(t.total_earnings)||parseFloat(t.totalEarnings)||0),0))||0,averageRating:Number(C.filter(e=>e.rating).reduce((e,t,n,r)=>e+(parseFloat(t.rating)||0)/r.length,0))||0,totalDuration:Number(C.reduce((e,t)=>e+(parseFloat(t.actual_duration)||parseFloat(t.actualDuration)||parseFloat(t.duration)||0),0))||0},E=C.filter(e=>{const t=e.tutor_name||e.tutor&&e.tutor.name||"",n=e.student_name||e.student&&e.student.name||"",r=e.id||"",s=e.subject||"",a=t.toLowerCase().includes(o.toLowerCase())||n.toLowerCase().includes(o.toLowerCase())||s.toLowerCase().includes(o.toLowerCase())||r.toString().toLowerCase().includes(o.toLowerCase()),i="all"===p||e.status===p,l="all"===g||e.session_type===g||e.type===g;return a&&i&&l}),k=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"scheduled":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=e=>{switch(e){case"completed":return(0,lt.jsx)(kt,{className:"w-4 h-4"});case"scheduled":return(0,lt.jsx)(Mt,{className:"w-4 h-4"});case"cancelled":return(0,lt.jsx)(ks,{className:"w-4 h-4"});default:return(0,lt.jsx)(Ot,{className:"w-4 h-4"})}},S=e=>{switch(e){case"video":return(0,lt.jsx)(Lt,{className:"w-4 h-4"});case"phone":return(0,lt.jsx)(St,{className:"w-4 h-4"});case"in_person":return(0,lt.jsx)(Bt,{className:"w-4 h-4"});default:return(0,lt.jsx)(Nt,{className:"w-4 h-4"})}},B=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=()=>{h(!1),d(null)};return(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,lt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,lt.jsxs)("div",{className:"mb-8",children:[(0,lt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Session Management"}),(0,lt.jsx)("p",{className:"text-gray-600",children:"Oversee all tutoring sessions and monitor platform activity"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(Nt,{className:"h-8 w-8 text-blue-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Sessions"}),(0,lt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:F.totalSessions})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(Rt,{className:"h-8 w-8 text-green-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Earnings"}),(0,lt.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(F.totalEarnings||0).toFixed(2)]})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(_t,{className:"h-8 w-8 text-yellow-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Average Rating"}),(0,lt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(F.averageRating||0).toFixed(1)})]})]})}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0",children:(0,lt.jsx)(yn,{className:"h-8 w-8 text-purple-600"})}),(0,lt.jsxs)("div",{className:"ml-4",children:[(0,lt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),(0,lt.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[F.totalSessions>0?(F.completedSessions/F.totalSessions*100).toFixed(1):0,"%"]})]})]})})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,lt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,lt.jsx)("div",{className:"flex-1",children:(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,lt.jsx)("input",{type:"text",placeholder:"Search sessions, tutors, students, or subjects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:o,onChange:e=>u(e.target.value)})]})}),(0,lt.jsxs)("div",{className:"flex gap-4",children:[(0,lt.jsxs)("button",{onClick:()=>{f("all"),x("all"),u("")},className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Reset all filters",children:[(0,lt.jsx)(Pt,{className:"h-4 w-4 mr-2"}),(0,lt.jsx)("span",{children:"Reset"})]}),(0,lt.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:p,onChange:e=>f(e.target.value),children:[(0,lt.jsx)("option",{value:"all",children:"All Status"}),(0,lt.jsx)("option",{value:"completed",children:"Completed"}),(0,lt.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,lt.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,lt.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:g,onChange:e=>x(e.target.value),children:[(0,lt.jsx)("option",{value:"all",children:"All Types"}),(0,lt.jsx)("option",{value:"video",children:"Video"}),(0,lt.jsx)("option",{value:"phone",children:"Phone"}),(0,lt.jsx)("option",{value:"in_person",children:"In Person"})]})]})]})}),(0,lt.jsx)("div",{className:"p-6",children:(0,lt.jsx)("div",{className:"border-b border-gray-200",children:(0,lt.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Sessions",count:F.totalSessions},{key:"completed",label:"Completed",count:F.completedSessions},{key:"scheduled",label:"Scheduled",count:F.scheduledSessions}].map(e=>(0,lt.jsxs)("button",{onClick:()=>i(e.key),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(a===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," (",e.count,")"]},e.key))})})})]}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,lt.jsx)("div",{className:"overflow-x-auto",children:(0,lt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,lt.jsx)("thead",{className:"bg-gray-50",children:(0,lt.jsxs)("tr",{children:[(0,lt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session Details"}),(0,lt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),(0,lt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule & Duration"}),(0,lt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Earnings"}),(0,lt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,lt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.filter(e=>"all"===a||e.status===a).map(e=>{var t,n,r;return(0,lt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,lt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)("div",{className:"flex-shrink-0 mr-3",children:S(e.session_type||e.type)}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["#",e.id]}),(0,lt.jsx)("div",{className:"text-sm text-gray-500",children:e.subject||"No Subject"}),e.location&&(0,lt.jsx)("div",{className:"text-sm text-gray-500",children:e.location})]})]})}),(0,lt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["Tutor: ",(null===(t=e.tutor)||void 0===t?void 0:t.name)||e.tutor_name||"Unknown"]}),(0,lt.jsxs)("div",{className:"text-sm text-gray-500",children:["Student: ",(null===(n=e.student)||void 0===n?void 0:n.name)||e.student_name||"Unknown"]}),(null===(r=e.tutor)||void 0===r?void 0:r.rating)&&(0,lt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,lt.jsx)(_t,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,lt.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:e.tutor.rating})]})]})}),(0,lt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,lt.jsx)("div",{className:"text-sm text-gray-900",children:B(e.scheduled_at||e.scheduledTime)}),(0,lt.jsx)("div",{className:"text-sm text-gray-500",children:e.actual_duration||e.actualDuration?"".concat(e.actual_duration||e.actualDuration," min"):"".concat(e.duration," min (scheduled)")})]}),(0,lt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,lt.jsx)("div",{className:"flex items-center mb-2",children:(0,lt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(k(e.status)),children:[A(e.status),(0,lt.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})}),(0,lt.jsxs)("div",{className:"text-sm text-gray-900 font-medium",children:["$",(parseFloat(e.total_earnings)||parseFloat(e.totalEarnings)||0).toFixed(2)]}),e.rating&&(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(_t,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,lt.jsxs)("span",{className:"text-sm text-gray-500 ml-1",children:[e.rating,"/5"]})]}),e.issues&&Array.isArray(e.issues)&&e.issues.length>0&&(0,lt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,lt.jsx)(zt,{className:"w-4 h-4 text-red-500"}),(0,lt.jsxs)("span",{className:"text-xs text-red-600 ml-1",children:[e.issues.length," issue(s)"]})]})]}),(0,lt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,lt.jsx)("button",{onClick:()=>(async e=>{d(e),h(!0);try{const t=await Ke.getSession(e.id);d(t||e)}catch(j){console.warn("Could not fetch detailed session data, using cached data:",j)}})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:(0,lt.jsx)(Xt,{className:"w-5 h-5"})})})]},e.id)})})]})})}),m&&c&&(0,lt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,lt.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-lg bg-white",children:[(0,lt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,lt.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["Session Details - ",c.id]}),(0,lt.jsx)("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:(0,lt.jsx)(ks,{className:"w-6 h-6"})})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Session Information"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Subject:"}),(0,lt.jsx)("span",{className:"font-medium",children:c.subject})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Type:"}),(0,lt.jsxs)("div",{className:"flex items-center",children:[S(c.session_type||c.type),(0,lt.jsx)("span",{className:"ml-2 capitalize",children:c.session_type||c.type||"Unknown"})]})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,lt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(k(c.status)),children:[A(c.status),(0,lt.jsx)("span",{className:"ml-1 capitalize",children:c.status})]})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Location:"}),(0,lt.jsx)("span",{className:"font-medium",children:c.location||"Online"})]})]})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Participants"}),(0,lt.jsxs)("div",{className:"space-y-3",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:"font-medium text-gray-900",children:["Tutor: ",(null===(e=c.tutor)||void 0===e?void 0:e.name)||c.tutor_name||"Unknown"]}),(0,lt.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",(null===(t=c.tutor)||void 0===t?void 0:t.id)||c.tutor_id||"N/A"]}),(null===(n=c.tutor)||void 0===n?void 0:n.rating)&&(0,lt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,lt.jsx)(_t,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,lt.jsxs)("span",{className:"text-sm text-gray-500 ml-1",children:[c.tutor.rating," rating"]})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:"font-medium text-gray-900",children:["Student: ",c.student.name]}),(0,lt.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",c.student.id]}),(0,lt.jsx)("div",{className:"text-sm text-gray-500",children:c.student.grade})]})]})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Timing & Earnings"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Scheduled:"}),(0,lt.jsx)("span",{className:"font-medium",children:B(c.scheduledTime)})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,lt.jsx)("span",{className:"font-medium",children:c.actual_duration||c.actualDuration?"".concat(c.actual_duration||c.actualDuration," min (actual)"):"".concat(c.duration," min (scheduled)")})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Rate:"}),(0,lt.jsxs)("span",{className:"font-medium",children:["$",c.rate||"N/A","/hour"]})]}),(0,lt.jsxs)("div",{className:"flex justify-between",children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Total Earnings:"}),(0,lt.jsxs)("span",{className:"font-medium text-green-600",children:["$",(parseFloat(c.total_earnings)||parseFloat(c.totalEarnings)||0).toFixed(2)]})]})]})]})]}),(0,lt.jsxs)("div",{className:"space-y-6",children:[c.notes&&(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Session Notes"}),(0,lt.jsx)("p",{className:"text-gray-700",children:c.notes})]}),c.rating&&(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Session Rating"}),(0,lt.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,lt.jsx)(_t,{className:"w-5 h-5 ".concat(t<c.rating?"text-yellow-400 fill-current":"text-gray-300")},t)),(0,lt.jsxs)("span",{className:"ml-2 text-lg font-medium",children:[c.rating,"/5"]})]})]}),c.resources&&Array.isArray(c.resources)&&c.resources.length>0&&(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Session Resources"}),(0,lt.jsx)("div",{className:"space-y-2",children:c.resources.map((e,t)=>(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Cn,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,lt.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),c.issues&&Array.isArray(c.issues)&&c.issues.length>0&&(0,lt.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,lt.jsxs)("h4",{className:"font-semibold text-red-900 mb-3 flex items-center",children:[(0,lt.jsx)(Ss,{className:"w-5 h-5 mr-2"}),"Session Issues"]}),(0,lt.jsx)("div",{className:"space-y-2",children:c.issues.map((e,t)=>(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(zt,{className:"w-4 h-4 text-red-500 mr-2"}),(0,lt.jsx)("span",{className:"text-red-700",children:e})]},t))})]})]})]}),(0,lt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,lt.jsx)("button",{onClick:T,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Close"})})]})})]})})},Ts=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(!0),[s,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(""),[u,c]=(0,l.useState)({rating:"",reviewerType:"",dateRange:"all"}),[d,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f()},[u,i]);const f=async()=>{try{r(!0),a(null);const e=Ve(Ve({},u),{},{search:i||void 0}),n=(await et.getAllReviews(e)).reviews||[];t(n)}catch(vu){console.error("Error fetching reviews:",vu),a("Failed to load reviews. Please try again."),t([])}finally{r(!1)}},g=async e=>{if(window.confirm("Are you sure you want to delete this review? This action cannot be undone."))try{await et.deleteReview(e),t(t=>t.filter(t=>t.id!==e)),console.log("Deleted review ".concat(e))}catch(vu){console.error("Error deleting review:",vu),alert("Failed to delete review. Please try again.")}},x=e=>e>=4?"text-green-600":e>=3?"text-yellow-600":"text-red-600",y=(e,t)=>e?e.charAt(0).toUpperCase():t?t.charAt(0).toUpperCase():"U",D=e=>{const t=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return t[(e?e.charCodeAt(0):0)%t.length]},v=e=>Array.from({length:5},(t,n)=>(0,lt.jsx)(_t,{className:"h-4 w-4 ".concat(n<e?"fill-yellow-400 text-yellow-400":"text-gray-300")},n)),b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg p-6 text-white",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold",children:"Reviews Management"}),(0,lt.jsx)("p",{className:"mt-2 text-purple-100",children:"Monitor and manage platform reviews and feedback."})]}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsx)("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((e,t)=>(0,lt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,lt.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),(0,lt.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,lt.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,lt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t))})})]}):(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg p-6 text-white",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold",children:"Reviews Management"}),(0,lt.jsx)("p",{className:"mt-2 text-purple-100",children:"Monitor and manage platform reviews and feedback."})]}),(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,lt.jsx)("div",{className:"flex-1",children:(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,lt.jsx)("input",{type:"text",placeholder:"Search reviews, users, or subjects...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),(0,lt.jsxs)("div",{className:"flex gap-3",children:[(0,lt.jsxs)("select",{value:u.rating,onChange:e=>c(t=>Ve(Ve({},t),{},{rating:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,lt.jsx)("option",{value:"",children:"All Ratings"}),(0,lt.jsx)("option",{value:"5",children:"5 Stars"}),(0,lt.jsx)("option",{value:"4",children:"4 Stars"}),(0,lt.jsx)("option",{value:"3",children:"3 Stars"}),(0,lt.jsx)("option",{value:"2",children:"2 Stars"}),(0,lt.jsx)("option",{value:"1",children:"1 Star"})]}),(0,lt.jsxs)("select",{value:u.reviewerType,onChange:e=>c(t=>Ve(Ve({},t),{},{reviewerType:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,lt.jsx)("option",{value:"",children:"All Types"}),(0,lt.jsx)("option",{value:"student",children:"Student Reviews"}),(0,lt.jsx)("option",{value:"tutor",children:"Tutor Reviews"})]}),(0,lt.jsxs)("select",{value:u.dateRange,onChange:e=>c(t=>Ve(Ve({},t),{},{dateRange:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,lt.jsx)("option",{value:"all",children:"All Time"}),(0,lt.jsx)("option",{value:"week",children:"Last Week"}),(0,lt.jsx)("option",{value:"month",children:"Last Month"}),(0,lt.jsx)("option",{value:"quarter",children:"Last 3 Months"})]}),(0,lt.jsx)("button",{onClick:f,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Refresh"})]})]})}),s&&(0,lt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Ss,{className:"h-5 w-5 text-red-600 mr-2"}),(0,lt.jsx)("p",{className:"text-red-800",children:s})]})}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Reviews"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Average Rating"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?(e.reduce((e,t)=>e+t.rating,0)/e.length).toFixed(1):"0.0"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Positive Reviews"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>e.rating>=4).length})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,lt.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Low Ratings"}),(0,lt.jsx)("p",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>e.rating<=2).length})]})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,lt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,lt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Reviews (",e.length,")"]})}),0===e.length?(0,lt.jsxs)("div",{className:"p-8 text-center",children:[(0,lt.jsx)(_t,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,lt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),(0,lt.jsx)("p",{className:"text-gray-500",children:i||Object.values(u).some(e=>e)?"Try adjusting your search or filters.":"No reviews have been submitted yet."})]}):(0,lt.jsx)("div",{className:"divide-y divide-gray-200",children:e.map(e=>(0,lt.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,lt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,lt.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,lt.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center text-white font-medium ".concat(D(e.reviewer.firstName||e.reviewer.lastName||e.reviewer.email)),children:y(e.reviewer.firstName,e.reviewer.lastName)}),(0,lt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,lt.jsx)("div",{className:"flex items-center",children:v(e.rating)}),(0,lt.jsxs)("span",{className:"text-sm font-medium ".concat(x(e.rating)),children:[e.rating,"/5"]}),(0,lt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("student"===e.reviewerType?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.reviewerType}),e.wouldRecommend?(0,lt.jsx)(kt,{className:"h-4 w-4 text-green-500",title:"Would recommend"}):(0,lt.jsx)(ks,{className:"h-4 w-4 text-red-500",title:"Would not recommend"})]}),(0,lt.jsxs)("div",{className:"text-sm text-gray-900 mb-1",children:[(0,lt.jsxs)("span",{className:"font-medium",children:[e.reviewer.firstName," ",e.reviewer.lastName]})," \u2192 ",(0,lt.jsxs)("span",{className:"font-medium",children:[e.reviewee.firstName," ",e.reviewee.lastName]})]}),(0,lt.jsx)("p",{className:"text-gray-700 mb-2 line-clamp-2",children:e.comment||"No comment provided"}),(0,lt.jsxs)("div",{className:"flex items-center text-xs text-gray-500 space-x-4",children:[(0,lt.jsxs)("span",{className:"flex items-center",children:[(0,lt.jsx)(Mt,{className:"h-3 w-3 mr-1"}),b(e.createdAt)]}),e.session&&(0,lt.jsxs)("span",{children:["Subject: ",e.session.subject]})]})]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,lt.jsx)("button",{onClick:()=>(e=>{m(e),p(!0)})(e),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"View Details",children:(0,lt.jsx)(Xt,{className:"h-4 w-4"})}),(0,lt.jsx)("button",{onClick:()=>g(e.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Review",children:(0,lt.jsx)(bs,{className:"h-4 w-4"})})]})]})},e.id))})]}),h&&d&&(0,lt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,lt.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,lt.jsxs)("div",{className:"p-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Review Details"}),(0,lt.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,lt.jsx)(vt,{className:"h-6 w-6"})})]}),(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"flex items-center",children:v(d.rating)}),(0,lt.jsxs)("span",{className:"text-xl font-bold ".concat(x(d.rating)),children:[d.rating,"/5"]})]}),(0,lt.jsx)("div",{className:"flex items-center space-x-2",children:d.wouldRecommend?(0,lt.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,lt.jsx)(kt,{className:"h-5 w-5 mr-1"}),(0,lt.jsx)("span",{className:"font-medium",children:"Recommends"})]}):(0,lt.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,lt.jsx)(ks,{className:"h-5 w-5 mr-1"}),(0,lt.jsx)("span",{className:"font-medium",children:"Does not recommend"})]})})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Reviewer"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center text-white font-medium ".concat(D(d.reviewer.firstName||d.reviewer.lastName||d.reviewer.email)),children:y(d.reviewer.firstName,d.reviewer.lastName)}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("p",{className:"font-medium text-gray-900",children:[d.reviewer.firstName," ",d.reviewer.lastName]}),(0,lt.jsx)("p",{className:"text-sm text-gray-500",children:d.reviewer.email}),(0,lt.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ".concat("student"===d.reviewerType?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:d.reviewerType})]})]})]}),(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Reviewee"}),(0,lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,lt.jsx)("div",{className:"h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center",children:(0,lt.jsx)(yt,{className:"h-6 w-6 text-gray-600"})}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("p",{className:"font-medium text-gray-900",children:[d.reviewee.firstName," ",d.reviewee.lastName]}),(0,lt.jsx)("p",{className:"text-sm text-gray-500",children:d.reviewee.email})]})]})]})]}),d.session&&(0,lt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Session Details"}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Subject:"}),(0,lt.jsx)("p",{className:"font-medium",children:d.session.subject})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Duration:"}),(0,lt.jsxs)("p",{className:"font-medium",children:[d.session.duration," minutes"]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,lt.jsx)("p",{className:"font-medium",children:d.session.date})]})]})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Comment"}),(0,lt.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,lt.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:d.comment||"No comment provided"})})]}),(0,lt.jsx)("div",{className:"border-t pt-4",children:(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-500",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{children:"Review ID:"}),(0,lt.jsx)("p",{className:"font-mono text-xs",children:d.id})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("span",{children:"Submitted:"}),(0,lt.jsx)("p",{children:b(d.createdAt)})]})]})})]}),(0,lt.jsxs)("div",{className:"flex justify-between pt-6 border-t mt-6",children:[(0,lt.jsx)("button",{onClick:()=>g(d.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Review"}),(0,lt.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]})})})]})},Ps=()=>{const[e,t]=(0,l.useState)({totalUsers:0,activeSessions:0,totalRevenue:0,totalSessions:0,recentActivity:{newUsers:0,newSessions:0},topTutors:[]}),[n,r]=(0,l.useState)(!0),[s,a]=(0,l.useState)(null);(0,l.useEffect)(()=>{i()},[]);const i=async()=>{try{var e;r(!0);const n=await et.getStats(),s=(n.userStats||[]).reduce((e,t)=>e+parseInt(t.count),0),a=n.sessionStats||[],i=(null===(e=a.find(e=>"in_progress"===e.status))||void 0===e?void 0:e.count)||0,l=a.reduce((e,t)=>e+parseFloat(t.total_revenue||0),0);t({totalUsers:s,activeSessions:parseInt(i),totalRevenue:l,totalSessions:n.totalSessions||0,recentActivity:n.recentActivity||{newUsers:0,newSessions:0},topTutors:n.topTutors||[]})}catch(vu){console.error("Failed to fetch stats:",vu),a("Failed to load dashboard statistics"),t({totalUsers:0,activeSessions:0,totalRevenue:0,totalSessions:0,recentActivity:{newUsers:0,newSessions:0},topTutors:[]})}finally{r(!1)}};return n?(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg p-6 text-white",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),(0,lt.jsx)("p",{className:"mt-2 text-purple-100",children:"Monitor platform activity, manage users, and oversee system operations."})]}),(0,lt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>(0,lt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,lt.jsxs)("div",{className:"animate-pulse",children:[(0,lt.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,lt.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),(0,lt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})},t))})]}):(0,lt.jsxs)("div",{className:"space-y-6",children:[(0,lt.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg p-6 text-white",children:[(0,lt.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),(0,lt.jsx)("p",{className:"mt-2 text-purple-100",children:"Monitor platform activity, manage users, and oversee system operations."})]}),s&&(0,lt.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,lt.jsx)("p",{className:"text-yellow-800",children:s}),(0,lt.jsx)("button",{onClick:i,className:"mt-2 text-yellow-700 underline hover:text-yellow-900",children:"Retry"})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Users"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers.toLocaleString()}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.recentActivity.newUsers>0?"\u2197 ".concat(e.recentActivity.newUsers," new this month"):"No new users this month"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Sessions"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-indigo-600",children:e.totalSessions.toLocaleString()}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"All sessions created"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Sessions"}),(0,lt.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.activeSessions}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Currently ongoing"})]}),(0,lt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Payments Made"}),(0,lt.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["$",e.totalRevenue.toLocaleString()]}),(0,lt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"From completed sessions"})]})]})]})},_s=()=>(0,lt.jsx)(xn,{userRole:"admin",children:(0,lt.jsxs)(Ee,{children:[(0,lt.jsx)(Ce,{index:!0,element:(0,lt.jsx)(Ps,{})}),(0,lt.jsx)(Ce,{path:"users",element:(0,lt.jsx)(As,{})}),(0,lt.jsx)(Ce,{path:"sessions",element:(0,lt.jsx)(Bs,{})}),(0,lt.jsx)(Ce,{path:"reviews",element:(0,lt.jsx)(Ts,{})})]})}),Rs=xt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Is=xt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Os=xt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Ls=xt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ms=xt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),zs=xt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);function Us(){}function qs(){}const Vs=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,Hs=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])(?:[\$\x2D0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088F\u0897-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5C\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDC-\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ADD\u1AE0-\u1AEB\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF65-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDD40-\uDD65\uDD69-\uDD6D\uDD6F-\uDD85\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEC2-\uDEC7\uDEFA-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD3\uDFE1\uDFE2]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8\uDF60-\uDF67\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDDB0-\uDDDB\uDDE0-\uDDE9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF5A\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0-\uDFF6]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDCF0-\uDCF9\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDDD0-\uDDFA\uDEC0-\uDEDE\uDEE0-\uDEF5\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]|\uDB40[\uDD00-\uDDEF])*$/,Ws={};function $s(e,t){return((t||Ws).jsx?Hs:Vs).test(e)}const Ys=/[ \t\n\f\r]/g;function Gs(e){return""===e.replace(Ys,"")}class Qs{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function Ks(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Qs(n,r,t)}function Js(e){return e.toLowerCase()}Qs.prototype.normal={},Qs.prototype.property={},Qs.prototype.space=void 0;class Xs{constructor(e,t){this.attribute=t,this.property=e}}Xs.prototype.attribute="",Xs.prototype.booleanish=!1,Xs.prototype.boolean=!1,Xs.prototype.commaOrSpaceSeparated=!1,Xs.prototype.commaSeparated=!1,Xs.prototype.defined=!1,Xs.prototype.mustUseProperty=!1,Xs.prototype.number=!1,Xs.prototype.overloadedBoolean=!1,Xs.prototype.property="",Xs.prototype.spaceSeparated=!1,Xs.prototype.space=void 0;let Zs=0;const ea=la(),ta=la(),na=la(),ra=la(),sa=la(),aa=la(),ia=la();function la(){return 2**++Zs}const oa=Object.keys(s);class ua extends Xs{constructor(e,t,n,r){let a=-1;if(super(e,t),ca(this,"space",r),"number"===typeof n)for(;++a<oa.length;){const e=oa[a];ca(this,oa[a],(n&s[e])===s[e])}}}function ca(e,t,n){n&&(e[t]=n)}function da(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new ua(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Js(r)]=r,n[Js(a.attribute)]=r}return new Qs(t,n,e.space)}ua.prototype.defined=!0;const ma=da({properties:{ariaActiveDescendant:null,ariaAtomic:ta,ariaAutoComplete:null,ariaBusy:ta,ariaChecked:ta,ariaColCount:ra,ariaColIndex:ra,ariaColSpan:ra,ariaControls:sa,ariaCurrent:null,ariaDescribedBy:sa,ariaDetails:null,ariaDisabled:ta,ariaDropEffect:sa,ariaErrorMessage:null,ariaExpanded:ta,ariaFlowTo:sa,ariaGrabbed:ta,ariaHasPopup:null,ariaHidden:ta,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:sa,ariaLevel:ra,ariaLive:null,ariaModal:ta,ariaMultiLine:ta,ariaMultiSelectable:ta,ariaOrientation:null,ariaOwns:sa,ariaPlaceholder:null,ariaPosInSet:ra,ariaPressed:ta,ariaReadOnly:ta,ariaRelevant:null,ariaRequired:ta,ariaRoleDescription:sa,ariaRowCount:ra,ariaRowIndex:ra,ariaRowSpan:ra,ariaSelected:ta,ariaSetSize:ra,ariaSort:null,ariaValueMax:ra,ariaValueMin:ra,ariaValueNow:ra,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function ha(e,t){return t in e?e[t]:t}function pa(e,t){return ha(e,t.toLowerCase())}const fa=da({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:aa,acceptCharset:sa,accessKey:sa,action:null,allow:null,allowFullScreen:ea,allowPaymentRequest:ea,allowUserMedia:ea,alt:null,as:null,async:ea,autoCapitalize:null,autoComplete:sa,autoFocus:ea,autoPlay:ea,blocking:sa,capture:null,charSet:null,checked:ea,cite:null,className:sa,cols:ra,colSpan:null,content:null,contentEditable:ta,controls:ea,controlsList:sa,coords:ra|aa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ea,defer:ea,dir:null,dirName:null,disabled:ea,download:na,draggable:ta,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ea,formTarget:null,headers:sa,height:ra,hidden:na,high:ra,href:null,hrefLang:null,htmlFor:sa,httpEquiv:sa,id:null,imageSizes:null,imageSrcSet:null,inert:ea,inputMode:null,integrity:null,is:null,isMap:ea,itemId:null,itemProp:sa,itemRef:sa,itemScope:ea,itemType:sa,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ea,low:ra,manifest:null,max:null,maxLength:ra,media:null,method:null,min:null,minLength:ra,multiple:ea,muted:ea,name:null,nonce:null,noModule:ea,noValidate:ea,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ea,optimum:ra,pattern:null,ping:sa,placeholder:null,playsInline:ea,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ea,referrerPolicy:null,rel:sa,required:ea,reversed:ea,rows:ra,rowSpan:ra,sandbox:sa,scope:null,scoped:ea,seamless:ea,selected:ea,shadowRootClonable:ea,shadowRootDelegatesFocus:ea,shadowRootMode:null,shape:null,size:ra,sizes:null,slot:null,span:ra,spellCheck:ta,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ra,step:null,style:null,tabIndex:ra,target:null,title:null,translate:null,type:null,typeMustMatch:ea,useMap:null,value:ta,width:ra,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:sa,axis:null,background:null,bgColor:null,border:ra,borderColor:null,bottomMargin:ra,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ea,declare:ea,event:null,face:null,frame:null,frameBorder:null,hSpace:ra,leftMargin:ra,link:null,longDesc:null,lowSrc:null,marginHeight:ra,marginWidth:ra,noResize:ea,noHref:ea,noShade:ea,noWrap:ea,object:null,profile:null,prompt:null,rev:null,rightMargin:ra,rules:null,scheme:null,scrolling:ta,standby:null,summary:null,text:null,topMargin:ra,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ra,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ea,disableRemotePlayback:ea,prefix:null,property:null,results:ra,security:null,unselectable:null},space:"html",transform:pa}),ga=da({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ia,accentHeight:ra,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ra,amplitude:ra,arabicForm:null,ascent:ra,attributeName:null,attributeType:null,azimuth:ra,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ra,by:null,calcMode:null,capHeight:ra,className:sa,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ra,diffuseConstant:ra,direction:null,display:null,dur:null,divisor:ra,dominantBaseline:null,download:ea,dx:null,dy:null,edgeMode:null,editable:null,elevation:ra,enableBackground:null,end:null,event:null,exponent:ra,externalResourcesRequired:null,fill:null,fillOpacity:ra,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:aa,g2:aa,glyphName:aa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ra,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ra,horizOriginX:ra,horizOriginY:ra,id:null,ideographic:ra,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ra,k:ra,k1:ra,k2:ra,k3:ra,k4:ra,kernelMatrix:ia,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ra,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ra,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ra,overlineThickness:ra,paintOrder:null,panose1:null,path:null,pathLength:ra,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:sa,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ra,pointsAtY:ra,pointsAtZ:ra,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ia,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ia,rev:ia,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ia,requiredFeatures:ia,requiredFonts:ia,requiredFormats:ia,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ra,specularExponent:ra,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ra,strikethroughThickness:ra,string:null,stroke:null,strokeDashArray:ia,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ra,strokeOpacity:ra,strokeWidth:null,style:null,surfaceScale:ra,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ia,tabIndex:ra,tableValues:null,target:null,targetX:ra,targetY:ra,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ia,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ra,underlineThickness:ra,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ra,values:null,vAlphabetic:ra,vMathematical:ra,vectorEffect:null,vHanging:ra,vIdeographic:ra,version:null,vertAdvY:ra,vertOriginX:ra,vertOriginY:ra,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ra,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ha}),xa=da({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),ya=da({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pa}),Da=da({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),va=Ks([ma,fa,xa,ya,Da],"html"),ba=Ks([ma,ga,xa,ya,Da],"svg"),ja=/[A-Z]/g,wa=/-[a-z]/g,Na=/^data[-\w.:]+$/i;function Ca(e){return"-"+e.toLowerCase()}function Fa(e){return e.charAt(1).toUpperCase()}const Ea={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var ka=n(294);const Aa=Ba("end"),Sa=Ba("start");function Ba(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Ta(e){return e&&"object"===typeof e?"position"in e||"type"in e?_a(e.position):"start"in e||"end"in e?_a(e):"line"in e||"column"in e?Pa(e):"":""}function Pa(e){return Ra(e&&e.line)+":"+Ra(e&&e.column)}function _a(e){return Pa(e&&e.start)+"-"+Pa(e&&e.end)}function Ra(e){return e&&"number"===typeof e?e:1}class Ia extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",s={},a=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:Ve({},t)),"string"===typeof e?r=e:!s.cause&&e&&(a=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const i=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=i?i.line:void 0,this.name=Ta(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&"string"===typeof s.cause.stack?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ia.prototype.file="",Ia.prototype.name="",Ia.prototype.reason="",Ia.prototype.message="",Ia.prototype.stack="",Ia.prototype.column=void 0,Ia.prototype.line=void 0,Ia.prototype.ancestors=void 0,Ia.prototype.cause=void 0,Ia.prototype.fatal=void 0,Ia.prototype.place=void 0,Ia.prototype.ruleId=void 0,Ia.prototype.source=void 0;const Oa={}.hasOwnProperty,La=new Map,Ma=/[A-Z]/g,za=new Set(["table","tbody","thead","tfoot","tr"]),Ua=new Set(["td","th"]),qa="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Va(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,a){const i=Array.isArray(s.children),l=Sa(n);return t(r,s,a,i,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,a){const i=Array.isArray(s.children)?n:t;return a?i(r,s,a):i(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?ba:va,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=Ha(s,e,void 0);return a&&"string"!==typeof a?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function Ha(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=ba,e.schema=s);e.ancestors.push(t);const a=Qa(e,t.tagName,!1),i=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&Oa.call(t.properties,s)){const a=Ga(e,s,t.properties[s]);if(a){const[s,i]=a;e.tableCellAlignToStyle&&"align"===s&&"string"===typeof i&&Ua.has(t.tagName)?r=i:n[s]=i}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let l=Ya(e,t);za.has(t.tagName)&&(l=l.filter(function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&Gs(t.value):Gs(t));var t}));return Wa(e,i,a,t),$a(i,l),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ka(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=ba,e.schema=s);e.ancestors.push(t);const a=null===t.name?e.Fragment:Qa(e,t.name,!0),i=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];Us(t.type);const s=t.expression;Us(s.type);const a=s.properties[0];Us(a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Ka(e,t.position);else{const s=r.name;let a;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];Us(t.type),a=e.evaluater.evaluateExpression(t.expression)}else Ka(e,t.position);else a=null===r.value||r.value;n[s]=a}return n}(e,t),l=Ya(e,t);return Wa(e,i,a,t),$a(i,l),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ka(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return $a(r,Ya(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Wa(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function $a(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ya(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:La;for(;++r<t.children.length;){const a=t.children[r];let i;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=s.get(e)||0;i=e+"-"+t,s.set(e,t+1)}}const l=Ha(e,a,i);void 0!==l&&n.push(l)}return n}function Ga(e,t,n){const r=function(e,t){const n=Js(t);let r=t,s=Xs;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Na.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(wa,Fa);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!wa.test(e)){let n=e.replace(ja,Ca);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=ua}return new s(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return ka(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new Ia("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=qa+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Oa.call(e,n)&&(t[Ja(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Ea[r.property]||r.property:r.attribute,n]}}function Qa(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=$s(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=$s(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Oa.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ka(e)}function Ka(e,t){const n=new Ia("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=qa+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ja(e){let t=e.replace(Ma,Xa);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Xa(e){return"-"+e.toLowerCase()}const Za={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ei={};function ti(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ni(e.children,t,n)}return Array.isArray(e)?ni(e,t,n):""}function ni(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=ti(e[s],t,n);return r.join("")}function ri(e,t,n,r){const s=e.length;let a,i=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function si(e,t){return e.length>0?(ri(e,e.length,0,t),e):t}class ai{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&ii(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ii(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ii(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);ii(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ii(this.left,t.reverse())}}}function ii(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function li(e){const t={};let n,r,s,a,i,l,o,u=-1;const c=new ai(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(l=n[1]._tokenizer.events,s=0,s<l.length&&"lineEndingBlank"===l[s][1].type&&(s+=2),s<l.length&&"content"===l[s][1].type))for(;++s<l.length&&"content"!==l[s][1].type;)"chunkText"===l[s][1].type&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,oi(c,u)),u=t[u],o=!0);else if(n[1]._container){for(s=u,r=void 0;s--;)if(a=c.get(s),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type)"enter"===a[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);else if("linePrefix"!==a[1].type&&"listItemIndent"!==a[1].type)break;r&&(n[1].end=Ve({},c.get(r)[1].start),i=c.slice(r,u),i.unshift(n),c.splice(r,u-r+1,i))}}return ri(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!o}function oi(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const l=i.events,o=[],u={};let c,d,m=-1,h=n,p=0,f=0;const g=[f];for(;h;){for(;e.get(++s)[1]!==h;);a.push(s),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&i.defineSkip(h.start),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(c),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++m<l.length;)"exit"===l[m][0]&&"enter"===l[m-1][0]&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(f=m+1,g.push(f),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(i.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),m=g.length;m--;){const t=l.slice(g[m],g[m+1]),n=a.pop();o.push([n,n+t.length-1]),e.splice(n,2,t)}for(o.reverse(),m=-1;++m<o.length;)u[p+o[m][0]]=p+o[m][1],p+=o[m][1]-o[m][0]-1;return u}const ui={}.hasOwnProperty;function ci(e,t){let n;for(n in t){const r=(ui.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){ui.call(r,a)||(r[a]=[]);const e=s[a];di(r[a],Array.isArray(e)?e:e?[e]:[])}}}function di(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ri(e,0,0,r)}const mi=Ni(/[A-Za-z]/),hi=Ni(/[\dA-Za-z]/),pi=Ni(/[#-'*+\--9=?A-Z^-~]/);function fi(e){return null!==e&&(e<32||127===e)}const gi=Ni(/\d/),xi=Ni(/[\dA-Fa-f]/),yi=Ni(/[!-/:-@[-`{-~]/);function Di(e){return null!==e&&e<-2}function vi(e){return null!==e&&(e<0||32===e)}function bi(e){return-2===e||-1===e||32===e}const ji=Ni(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDED0\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C1\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F\uDED1-\uDED8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDCFA-\uDCFC\uDD00-\uDEB3\uDEBA-\uDED0\uDEE0-\uDEF0\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED8\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDCD0-\uDCD8\uDD00-\uDE57\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF\uDFFA])/),wi=Ni(/\s/);function Ni(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function Ci(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){if(bi(r))return e.enter(n),i(r);return t(r)};function i(r){return bi(r)&&a++<s?(e.consume(r),i):(e.exit(n),t(r))}}const Fi={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ci(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Di(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const Ei={tokenize:function(e){const t=this,n=[];let r,s,a,i=0;return l;function l(r){if(i<n.length){const s=n[i];return t.containerState=s[1],e.attempt(s[0].continuation,o,u)(r)}return u(r)}function o(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let s,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){s=t.events[a][1].end;break}x(i);let l=n;for(;l<t.events.length;)t.events[l][1].end=Ve({},s),l++;return ri(t.events,a+1,0,t.events.slice(n)),t.events.length=l,u(e)}return l(e)}function u(s){if(i===n.length){if(!r)return m(s);if(r.currentConstruct&&r.currentConstruct.concrete)return p(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ki,c,d)(s)}function c(e){return r&&y(),x(i),m(e)}function d(e){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,p(e)}function m(n){return t.containerState={},e.attempt(ki,h,p)(n)}function h(e){return i++,n.push([t.currentConstruct,t.containerState]),m(e)}function p(n){return null===n?(r&&y(),x(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):Di(n)?(e.consume(n),g(e.exit("chunkFlow")),i=0,t.interrupt=void 0,l):(e.consume(n),f)}function g(e,n){const l=t.sliceStream(e);if(n&&l.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(l),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let s,l,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){if(s){l=t.events[o][1].end;break}s=!0}for(x(i),e=n;e<t.events.length;)t.events[e][1].end=Ve({},l),e++;ri(t.events,o+1,0,t.events.slice(n)),t.events.length=e}}function x(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},ki={tokenize:function(e,t,n){return Ci(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Ai={partial:!0,tokenize:function(e,t,n){return function(t){return bi(t)?Ci(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Di(e)?t(e):n(e)}}};const Si={resolve:function(e){return li(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):Di(t)?e.check(Bi,a,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Bi={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ci(e,s,"linePrefix")};function s(s){if(null===s||Di(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};const Ti={tokenize:function(e){const t=this,n=e.attempt(Ai,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,Ci(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Si,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Pi={resolveAll:Oi()},_i=Ii("string"),Ri=Ii("text");function Ii(e){return{resolveAll:Oi("text"===e?Li:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,a,i);return a;function a(e){return o(e)?s(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),l;t.consume(e)}function l(e){return o(e)?(t.exit("data"),s(e)):(t.consume(e),l)}function o(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Oi(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function Li(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let a,i=s.length,l=-1,o=0;for(;i--;){const e=s[i];if("string"===typeof e){for(l=e.length;32===e.charCodeAt(l-1);)o++,l--;if(l)break;l=-1}else if(-2===e)a=!0,o++;else if(-1!==e){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const s={type:n===e.length||a||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:Ve({},r.end)};r.end=Ve({},s.start),r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const Mi={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),i(a)):s>=3&&(null===a||Di(a))?(e.exit("thematicBreak"),t(a)):n(a)}function i(t){return t===r?(e.consume(t),s++,i):(e.exit("thematicBreakSequence"),bi(t)?Ci(e,a,"whitespace")(t):a(t))}}};const zi={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ai,s,a);function s(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ci(e,t,"listItemIndent",r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!bi(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qi,t,i)(n))}function i(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ci(e,e.attempt(zi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,i=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:gi(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(Mi,n,o)(t):o(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(t)}return n(t)};function l(t){return gi(t)&&++i<10?(e.consume(t),l):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),o(t)):n(t)}function o(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Ai,r.interrupt?n:u,e.attempt(Ui,d,c))}function u(e){return r.containerState.initialBlankLine=!0,a++,d(e)}function c(t){return bi(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Ui={partial:!0,tokenize:function(e,t,n){const r=this;return Ci(e,function(e){const s=r.events[r.events.length-1];return!bi(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},qi={partial:!0,tokenize:function(e,t,n){const r=this;return Ci(e,function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const Vi={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(bi(t))return Ci(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(Vi,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return bi(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function Hi(e,t,n,r,s,a,i,l,o){const u=o||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(a),e.consume(t),e.exit(a),d;if(null===t||32===t||41===t||fi(t))return n(t);return e.enter(r),e.enter(i),e.enter(l),e.enter("chunkString",{contentType:"string"}),p(t)};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(n))}function m(t){return 62===t?(e.exit("chunkString"),e.exit(l),d(t)):null===t||60===t||Di(t)?n(t):(e.consume(t),92===t?h:m)}function h(t){return 60===t||62===t||92===t?(e.consume(t),m):m(t)}function p(s){return c||null!==s&&41!==s&&!vi(s)?c<u&&40===s?(e.consume(s),c++,p):41===s?(e.consume(s),c--,p):null===s||32===s||40===s||fi(s)?n(s):(e.consume(s),92===s?f:p):(e.exit("chunkString"),e.exit(l),e.exit(i),e.exit(r),t(s))}function f(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Wi(e,t,n,r,s,a){const i=this;let l,o=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(a),u};function u(d){return o>999||null===d||91===d||93===d&&!l||94===d&&!o&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):93===d?(e.exit(a),e.enter(s),e.consume(d),e.exit(s),e.exit(r),t):Di(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||Di(t)||o++>999?(e.exit("chunkString"),u(t)):(e.consume(t),l||(l=!bi(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),o++,c):c(t)}}function $i(e,t,n,r,s,a){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),i=40===t?41:t,l;return n(t)};function l(n){return n===i?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(a),o(n))}function o(t){return t===i?(e.exit(a),l(i)):null===t?n(t):Di(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ci(e,o,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===i||null===t||Di(t)?(e.exit("chunkString"),o(t)):(e.consume(t),92===t?c:u)}function c(t){return t===i||92===t?(e.consume(t),u):u(t)}}function Yi(e,t){let n;return function r(s){if(Di(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(bi(s))return Ci(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}function Gi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qi={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return Wi.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return s=Gi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return vi(t)?Yi(e,l)(t):l(t)}function l(t){return Hi(e,o,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function o(t){return e.attempt(Ki,u,u)(t)}function u(t){return bi(t)?Ci(e,c,"whitespace")(t):c(t)}function c(a){return null===a||Di(a)?(e.exit("definition"),r.parser.defined.push(s),t(a)):n(a)}}},Ki={partial:!0,tokenize:function(e,t,n){return function(t){return vi(t)?Yi(e,r)(t):n(t)};function r(t){return $i(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return bi(t)?Ci(e,a,"whitespace")(t):a(t)}function a(e){return null===e||Di(e)?t(e):n(e)}}};const Ji={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Ci(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?l(t):Di(t)?e.attempt(Xi,a,l)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||Di(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),i)}function l(n){return e.exit("codeIndented"),t(n)}}},Xi={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):Di(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):Ci(e,a,"linePrefix",5)(t)}function a(e){const a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):Di(e)?s(e):n(e)}}};const Zi={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);s-2>a&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(a===s-1||s-4>a&&"whitespace"===e[s-2][1].type)&&(s-=a+1===s?2:4);s>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[s][1].end},r={type:"chunkText",start:e[a][1].start,end:e[s][1].end,contentType:"text"},ri(e,a,s-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||vi(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||Di(n)?(e.exit("atxHeading"),t(n)):bi(n)?Ci(e,a,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),a(t))}function l(t){return null===t||35===t||vi(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),l)}}};const el={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),s||"definition"!==e[a][1].type||(s=a);const i={type:"setextHeading",start:Ve({},e[n][1].start),end:Ve({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",i,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end=Ve({},e[s][1].end)):e[n][1]=i;return e.push(["exit",i,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let i,l=r.events.length;for(;l--;)if("lineEnding"!==r.events[l][1].type&&"linePrefix"!==r.events[l][1].type&&"content"!==r.events[l][1].type){i="paragraph"===r.events[l][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===s?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),bi(t)?Ci(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||Di(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const tl=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nl=["pre","script","style","textarea"],rl={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,a,i,l,o;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(l){return 33===l?(e.consume(l),c):47===l?(e.consume(l),a=!0,h):63===l?(e.consume(l),s=3,r.interrupt?t:_):mi(l)?(e.consume(l),i=String.fromCharCode(l),p):n(l)}function c(a){return 45===a?(e.consume(a),s=2,d):91===a?(e.consume(a),s=5,l=0,m):mi(a)?(e.consume(a),s=4,r.interrupt?t:_):n(a)}function d(s){return 45===s?(e.consume(s),r.interrupt?t:_):n(s)}function m(s){const a="CDATA[";return s===a.charCodeAt(l++)?(e.consume(s),6===l?r.interrupt?t:F:m):n(s)}function h(t){return mi(t)?(e.consume(t),i=String.fromCharCode(t),p):n(t)}function p(l){if(null===l||47===l||62===l||vi(l)){const o=47===l,u=i.toLowerCase();return o||a||!nl.includes(u)?tl.includes(i.toLowerCase())?(s=6,o?(e.consume(l),f):r.interrupt?t(l):F(l)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(l):a?g(l):x(l)):(s=1,r.interrupt?t(l):F(l))}return 45===l||hi(l)?(e.consume(l),i+=String.fromCharCode(l),p):n(l)}function f(s){return 62===s?(e.consume(s),r.interrupt?t:F):n(s)}function g(t){return bi(t)?(e.consume(t),g):N(t)}function x(t){return 47===t?(e.consume(t),N):58===t||95===t||mi(t)?(e.consume(t),y):bi(t)?(e.consume(t),x):N(t)}function y(t){return 45===t||46===t||58===t||95===t||hi(t)?(e.consume(t),y):D(t)}function D(t){return 61===t?(e.consume(t),v):bi(t)?(e.consume(t),D):x(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,b):bi(t)?(e.consume(t),v):j(t)}function b(t){return t===o?(e.consume(t),o=null,w):null===t||Di(t)?n(t):(e.consume(t),b)}function j(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||vi(t)?D(t):(e.consume(t),j)}function w(e){return 47===e||62===e||bi(e)?x(e):n(e)}function N(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||Di(t)?F(t):bi(t)?(e.consume(t),C):n(t)}function F(t){return 45===t&&2===s?(e.consume(t),S):60===t&&1===s?(e.consume(t),B):62===t&&4===s?(e.consume(t),R):63===t&&3===s?(e.consume(t),_):93===t&&5===s?(e.consume(t),P):!Di(t)||6!==s&&7!==s?null===t||Di(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),F):(e.exit("htmlFlowData"),e.check(sl,I,E)(t))}function E(t){return e.check(al,k,I)(t)}function k(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||Di(t)?E(t):(e.enter("htmlFlowData"),F(t))}function S(t){return 45===t?(e.consume(t),_):F(t)}function B(t){return 47===t?(e.consume(t),i="",T):F(t)}function T(t){if(62===t){const n=i.toLowerCase();return nl.includes(n)?(e.consume(t),R):F(t)}return mi(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),T):F(t)}function P(t){return 93===t?(e.consume(t),_):F(t)}function _(t){return 62===t?(e.consume(t),R):45===t&&2===s?(e.consume(t),_):F(t)}function R(t){return null===t||Di(t)?(e.exit("htmlFlowData"),I(t)):(e.consume(t),R)}function I(n){return e.exit("htmlFlow"),t(n)}}},sl={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ai,t,n)}}},al={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(Di(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const il={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},ll={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o}function o(t){return e.enter("codeFencedFence"),bi(t)?Ci(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===a?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===a?(s++,e.consume(t),c):s>=l?(e.exit("codeFencedFenceSequence"),bi(t)?Ci(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Di(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let a,i=0,l=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(t)}(t)};function o(t){return t===a?(l++,e.consume(t),o):l<3?n(t):(e.exit("codeFencedFenceSequence"),bi(t)?Ci(e,u,"whitespace")(t):u(t))}function u(n){return null===n||Di(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(il,h,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||Di(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):bi(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ci(e,d,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),c)}function d(t){return null===t||Di(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(t))}function m(t){return null===t||Di(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===a?n(t):(e.consume(t),m)}function h(t){return e.attempt(s,y,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return i>0&&bi(t)?Ci(e,g,"linePrefix",i+1)(t):g(t)}function g(t){return null===t||Di(t)?e.check(il,h,y)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||Di(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),x)}function y(n){return e.exit("codeFenced"),t(n)}}};const ol=document.createElement("i");function ul(e){const t="&"+e+";";ol.innerHTML=t;const n=ol.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const cl={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,a,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),l};function l(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),o):(e.enter("characterReferenceValue"),s=31,a=hi,u(t))}function o(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=xi,u):(e.enter("characterReferenceValue"),s=7,a=gi,u(t))}function u(l){if(59===l&&i){const s=e.exit("characterReferenceValue");return a!==hi||ul(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(l),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(l)}return a(l)&&i++<s?(e.consume(l),u):n(l)}}};const dl={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return yi(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const ml={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ci(e,t,"linePrefix")}}};function hl(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const pl={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&ri(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,a,i=e.length,l=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){l=2;break}}else"labelEnd"===n.type&&(s=i);const o={type:"labelLink"===e[r][1].type?"link":"image",start:Ve({},e[r][1].start),end:Ve({},e[e.length-1][1].end)},u={type:"label",start:Ve({},e[r][1].start),end:Ve({},e[s][1].end)},c={type:"labelText",start:Ve({},e[r+l+2][1].end),end:Ve({},e[s-2][1].start)};return a=[["enter",o,t],["enter",u,t]],a=si(a,e.slice(r+1,r+l+3)),a=si(a,[["enter",c,t]]),a=si(a,hl(t.parser.constructs.insideSpan.null,e.slice(r+l+4,s-3),t)),a=si(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=si(a,e.slice(s+1)),a=si(a,[["exit",o,t]]),ri(e,r,e.length,a),e},tokenize:function(e,t,n){const r=this;let s,a,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){s=r.events[i][1];break}return function(t){if(!s)return n(t);if(s._inactive)return c(t);return a=r.parser.defined.includes(Gi(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l};function l(t){return 40===t?e.attempt(fl,u,a?u:c)(t):91===t?e.attempt(gl,u,a?o:c)(t):a?u(t):c(t)}function o(t){return e.attempt(xl,u,c)(t)}function u(e){return t(e)}function c(e){return s._balanced=!0,n(e)}}},fl={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return vi(t)?Yi(e,s)(t):s(t)}function s(t){return 41===t?u(t):Hi(e,a,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return vi(t)?Yi(e,l)(t):u(t)}function i(e){return n(e)}function l(t){return 34===t||39===t||40===t?$i(e,o,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function o(t){return vi(t)?Yi(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},gl={tokenize:function(e,t,n){const r=this;return function(t){return Wi.call(r,e,s,a,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(Gi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},xl={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const yl={name:"labelStartImage",resolveAll:pl.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function Dl(e){return null===e||vi(e)||wi(e)?1:ji(e)?2:void 0}const vl={name:"attention",resolveAll:function(e,t){let n,r,s,a,i,l,o,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const d=Ve({},e[n][1].end),m=Ve({},e[c][1].start);bl(d,-l),bl(m,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Ve({},e[n][1].end)},i={type:l>1?"strongSequence":"emphasisSequence",start:Ve({},e[c][1].start),end:m},s={type:l>1?"strongText":"emphasisText",start:Ve({},e[n][1].end),end:Ve({},e[c][1].start)},r={type:l>1?"strong":"emphasis",start:Ve({},a.start),end:Ve({},i.end)},e[n][1].end=Ve({},a.start),e[c][1].start=Ve({},i.end),o=[],e[n][1].end.offset-e[n][1].start.offset&&(o=si(o,[["enter",e[n][1],t],["exit",e[n][1],t]])),o=si(o,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),o=si(o,hl(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),o=si(o,[["exit",s,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,o=si(o,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,ri(e,n-1,c-n+3,o),c=n+o.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Dl(r);let a;return function(t){return a=t,e.enter("attentionSequence"),i(t)};function i(l){if(l===a)return e.consume(l),i;const o=e.exit("attentionSequence"),u=Dl(l),c=!u||2===u&&s||n.includes(l),d=!s||2===s&&u||n.includes(r);return o._open=Boolean(42===a?c:c&&(s||!d)),o._close=Boolean(42===a?d:d&&(u||!c)),t(l)}}};function bl(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jl={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return mi(t)?(e.consume(t),a):64===t?n(t):o(t)}function a(e){return 43===e||45===e||46===e||hi(e)?(r=1,i(e)):o(e)}function i(t){return 58===t?(e.consume(t),r=0,l):(43===t||45===t||46===t||hi(t))&&r++<32?(e.consume(t),i):(r=0,o(t))}function l(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||fi(r)?n(r):(e.consume(r),l)}function o(t){return 64===t?(e.consume(t),u):pi(t)?(e.consume(t),o):n(t)}function u(e){return hi(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||hi(t))&&r++<63){const n=45===t?d:c;return e.consume(t),n}return n(t)}}};const wl={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,a,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),o):47===t?(e.consume(t),v):63===t?(e.consume(t),y):mi(t)?(e.consume(t),w):n(t)}function o(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),a=0,h):mi(t)?(e.consume(t),x):n(t)}function u(t){return 45===t?(e.consume(t),m):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),d):Di(t)?(i=c,T(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),m):c(t)}function m(e){return 62===e?B(e):45===e?d(e):c(e)}function h(t){const r="CDATA[";return t===r.charCodeAt(a++)?(e.consume(t),6===a?p:h):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),f):Di(t)?(i=p,T(t)):(e.consume(t),p)}function f(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?B(t):93===t?(e.consume(t),g):p(t)}function x(t){return null===t||62===t?B(t):Di(t)?(i=x,T(t)):(e.consume(t),x)}function y(t){return null===t?n(t):63===t?(e.consume(t),D):Di(t)?(i=y,T(t)):(e.consume(t),y)}function D(e){return 62===e?B(e):y(e)}function v(t){return mi(t)?(e.consume(t),b):n(t)}function b(t){return 45===t||hi(t)?(e.consume(t),b):j(t)}function j(t){return Di(t)?(i=j,T(t)):bi(t)?(e.consume(t),j):B(t)}function w(t){return 45===t||hi(t)?(e.consume(t),w):47===t||62===t||vi(t)?N(t):n(t)}function N(t){return 47===t?(e.consume(t),B):58===t||95===t||mi(t)?(e.consume(t),C):Di(t)?(i=N,T(t)):bi(t)?(e.consume(t),N):B(t)}function C(t){return 45===t||46===t||58===t||95===t||hi(t)?(e.consume(t),C):F(t)}function F(t){return 61===t?(e.consume(t),E):Di(t)?(i=F,T(t)):bi(t)?(e.consume(t),F):N(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,k):Di(t)?(i=E,T(t)):bi(t)?(e.consume(t),E):(e.consume(t),A)}function k(t){return t===s?(e.consume(t),s=void 0,S):null===t?n(t):Di(t)?(i=k,T(t)):(e.consume(t),k)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||vi(t)?N(t):(e.consume(t),A)}function S(e){return 47===e||62===e||vi(e)?N(e):n(e)}function B(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function T(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),P}function P(t){return bi(t)?Ci(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):_(t)}function _(t){return e.enter("htmlTextData"),i(t)}}};const Nl={name:"labelStartLink",resolveAll:pl.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const Cl={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Di(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Fl={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(("lineEnding"===e[s][1].type||"space"===e[s][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),a++,i):(e.exit("codeTextSequence"),l(t))}function l(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):96===t?(s=e.enter("codeTextSequence"),r=0,u(t)):Di(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("codeTextData"),o(t))}function o(t){return null===t||32===t||96===t||Di(t)?(e.exit("codeTextData"),l(t)):(e.consume(t),o)}function u(n){return 96===n?(e.consume(n),r++,u):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",o(n))}}};const El={42:zi,43:zi,45:zi,48:zi,49:zi,50:zi,51:zi,52:zi,53:zi,54:zi,55:zi,56:zi,57:zi,62:Vi},kl={91:Qi},Al={[-2]:Ji,[-1]:Ji,32:Ji},Sl={35:Zi,42:Mi,45:[el,Mi],60:rl,61:el,95:Mi,96:ll,126:ll},Bl={38:cl,92:dl},Tl={[-5]:ml,[-4]:ml,[-3]:ml,33:yl,38:cl,42:vl,60:[jl,wl],91:Nl,92:[Cl,dl],93:pl,95:vl,96:Fl},Pl={null:[vl,Pi]},_l={null:[42,95]},Rl={null:[]};function Il(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let i=[],l=[],o=!0;const u={attempt:y(function(e,t){D(e,t.from)}),check:y(x),consume:function(e){Di(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,v()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,o=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),l.push(n),n},exit:function(e){const t=l.pop();return t.end=p(),c.events.push(["exit",t,c]),t},interrupt:y(x,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,v()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let i;if("string"===typeof a)i=a;else switch(a){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&s)continue;i=" ";break;default:i=String.fromCharCode(a)}s=-2===a,r.push(i)}return r.join("")}(h(e),t)},sliceStream:h,write:function(e){if(i=si(i,e),f(),null!==i[i.length-1])return[];return D(t,0),c.events=hl(a,c.events,c),c.events}};let d,m=t.tokenize.call(c,u);return t.resolveAll&&a.push(t),c;function h(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,a)];else{if(i=e.slice(n,s),r>-1){const e=i[0];"string"===typeof e?i[0]=e.slice(r):i.shift()}a>0&&i.push(e[s].slice(0,a))}return i}(i,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:a}}function f(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){o=void 0,d=e,m=m(e)}function x(e,t){t.restore()}function y(e,t){return function(n,s,a){let i,d,m,h;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return i=e,d=0,0===e.length?a:g(e[d])}function g(e){return function(n){h=function(){const e=p(),t=c.previous,n=c.currentConstruct,s=c.events.length,a=Array.from(l);return{from:s,restore:i};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,l=a,v()}}(),m=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,x,y)(n)}}function x(t){return o=!0,e(m,h),s}function y(e){return o=!0,h.restore(),++d<i.length?g(i[d]):a}}}function D(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&ri(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Ol(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)ci(t,e[n]);return t}([a,...(e||{}).extensions||[]]),n={constructs:t,content:r(Fi),defined:[],document:r(Ei),flow:r(Ti),lazy:{},string:r(_i),text:r(Ri)};return n;function r(e){return function(t){return Il(n,e,t)}}}const Ll=/[\0\t\n\r]/g;function Ml(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const zl=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ul(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Ml(n.slice(t?2:1),t?16:10)}return ul(n)||e}const ql={}.hasOwnProperty;function Vl(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(J),blockQuote:a($),characterEscape:C,characterReference:C,codeFenced:a(Y),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(Y,i),codeText:a(G,i),codeTextData:C,data:C,codeFlowValue:C,definition:a(Q),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(K),hardBreakEscape:a(X),hardBreakTrailing:a(X),htmlFlow:a(Z,i),htmlFlowData:C,htmlText:a(Z,i),htmlTextData:C,image:a(ee),label:i,link:a(te),listItem:a(re),listItemValue:m,listOrdered:a(ne,d),listUnordered:a(ne),paragraph:a(se),reference:M,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(J),strong:a(ae),thematicBreak:a(le)},exit:{atxHeading:o(),atxHeadingSequence:b,autolink:o(),autolinkEmail:W,autolinkProtocol:H,blockQuote:o(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:q,characterReference:V,codeFenced:o(g),codeFencedFence:f,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:F,codeIndented:o(x),codeText:o(B),codeTextData:F,data:F,definition:o(),definitionDestinationString:v,definitionLabelString:y,definitionTitleString:D,emphasis:o(),hardBreakEscape:o(k),hardBreakTrailing:o(k),htmlFlow:o(A),htmlFlowData:F,htmlText:o(S),htmlTextData:F,image:o(P),label:R,labelText:_,lineEnding:E,link:o(T),listItem:o(),listOrdered:o(),listUnordered:o(),paragraph:o(),referenceString:z,resourceDestinationString:I,resourceTitleString:O,resource:L,setextHeading:o(N),setextHeadingLineSequence:w,setextHeadingText:j,strong:o(),thematicBreak:o()}};Wl(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const a={stack:[r],tokenStack:[],config:t,enter:l,exit:u,buffer:i,resume:c,data:n},o=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])o.push(d);else{d=s(e,o.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];ql.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||Yl).call(a,void 0,e[0])}for(r.position={start:Hl(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Hl(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function s(e,t,n){let r,s,a,i,l=t-1,o=-1,u=!1;for(;++l<=n;){const t=e[l];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?o++:o--,i=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||i||o||a||(a=l),i=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:i=void 0}if(!o&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===o&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=l;for(s=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",s=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!s||a<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||l,0,["exit",r,t[2]]),l++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(l,0,["enter",s,t[2]]),l++,n++,a=void 0,i=!0}}}return e[t][1]._spread=u,n}function a(e,t){return n;function n(n){l.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function l(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Hl(t.start),end:void 0}}function o(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Ta({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Yl).call(this,e,r[0])}n.position.end=Hl(e.end)}function c(){return function(e,t){const n=t||ei;return ti(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function h(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Gi(this.sliceSerialize(e)).toLowerCase()}function D(){const e=this.resume();this.stack[this.stack.length-1].title=e}function v(){const e=this.resume();this.stack[this.stack.length-1].url=e}function b(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function w(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function C(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ie(),n.position={start:Hl(e.start),end:void 0},t.push(n)),this.stack.push(n)}function F(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Hl(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Hl(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(C.call(this,e),F.call(this,e))}function k(){this.data.atHardBreak=!0}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function S(){const e=this.resume();this.stack[this.stack.length-1].value=e}function B(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function _(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(zl,Ul)}(t),n.identifier=Gi(t).toLowerCase()}function R(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function I(){const e=this.resume();this.stack[this.stack.length-1].url=e}function O(){const e=this.resume();this.stack[this.stack.length-1].title=e}function L(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Gi(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function U(e){this.data.characterReferenceType=e.type}function q(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Ml(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=ul(t)}this.stack[this.stack.length-1].value+=r}function V(e){this.stack.pop().position.end=Hl(e.end)}function H(e){F.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){F.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function $(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function Q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}(n)(function(e){for(;!li(e););return e}(Ol(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,a,i){const l=[];let o,u,c,d,m;for(s=n+("string"===typeof s?s.toString():new TextDecoder(a||void 0).decode(s)),c=0,n="",r&&(65279===s.charCodeAt(0)&&c++,r=void 0);c<s.length;){if(Ll.lastIndex=c,o=Ll.exec(s),d=o&&void 0!==o.index?o.index:s.length,m=s.charCodeAt(d),!o){n=s.slice(c);break}if(10===m&&c===d&&e)l.push(-3),e=void 0;else switch(e&&(l.push(-5),e=void 0),c<d&&(l.push(s.slice(c,d)),t+=d-c),m){case 0:l.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),l.push(-2);t++<u;)l.push(-1);break;case 10:l.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return i&&(e&&l.push(-5),n&&l.push(n),l.push(null)),l}}()(e,t,!0))))}function Hl(e){return{line:e.line,column:e.column,offset:e.offset}}function Wl(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Wl(e,r):$l(e,r)}}function $l(e,t){let n;for(n in t)if(ql.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yl(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ta({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ta({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ta({start:t.start,end:t.end})+") is still open")}function Gl(e){const t=this;t.parser=function(n){return Vl(n,Ve(Ve(Ve({},t.data("settings")),e),{},{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}const Ql="object"===typeof self?self:globalThis,Kl=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[a,i]=t[s];switch(a){case 0:case-1:return n(i,s);case 1:{const e=n([],s);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),s);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new Ql[e](t),s)}case 8:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:e}=new Uint8Array(i);return n(new DataView(e),i)}}return n(new Ql[a](i),s)};return r})(new Map,e)(0),Jl="",{toString:Xl}={},{keys:Zl}=Object,eo=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Xl.call(e).slice(8,-1);switch(n){case"Array":return[1,Jl];case"Object":return[2,Jl];case"Date":return[3,Jl];case"RegExp":return[4,Jl];case"Map":return[5,Jl];case"Set":return[6,Jl];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},to=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},no=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},a=r=>{if(n.has(r))return n.get(r);let[i,l]=eo(r);switch(i){case 0:{let t=r;switch(l){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);t=null;break;case"undefined":return s([-1],r)}return s([i,t],r)}case 1:{if(l){let e=r;return"DataView"===l?e=new Uint8Array(r.buffer):"ArrayBuffer"===l&&(e=new Uint8Array(r)),s([l,[...e]],r)}const e=[],t=s([i,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(l)switch(l){case"BigInt":return s([l,r.toString()],r);case"Boolean":case"Number":case"String":return s([l,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],o=s([i,n],r);for(const t of Zl(r))!e&&to(eo(r[t]))||n.push([a(t),a(r[t])]);return o}case 3:return s([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([i,{source:e,flags:t}],r)}case 5:{const t=[],n=s([i,t],r);for(const[s,i]of r)(e||!to(eo(s))&&!to(eo(i)))&&t.push([a(s),a(i)]);return n}case 6:{const t=[],n=s([i,t],r);for(const s of r)!e&&to(eo(s))||t.push(a(s));return n}}const{message:o}=r;return s([i,{name:l,message:o}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},ro="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Kl(no(e,t)):structuredClone(e):(e,t)=>Kl(no(e,t));function so(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let i="";if(37===a&&hi(e.charCodeAt(n+1))&&hi(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(i=String.fromCharCode(a,t),s=1):i="\ufffd"}else i=String.fromCharCode(a);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function ao(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function io(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const lo=function(e){if(null===e||void 0===e)return uo;if("function"===typeof e)return oo(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=lo(e[n]);return oo(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return oo(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"===typeof e)return function(e){return oo(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function oo(e){return function(t,n,r){return Boolean(co(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function uo(){return!0}function co(e){return null!==e&&"object"===typeof e&&"type"in e}const mo=[],ho=!0,po=!1;function fo(e,t,n,r){let s;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):s=t;const a=lo(s),i=r?-1:1;!function e(s,l,o){const u=s&&"object"===typeof s?s:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,d,m=mo;if((!t||a(s,l,o[o.length-1]||void 0))&&(m=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[ho,e];return null===e||void 0===e?mo:[e]}(n(s,o)),m[0]===po))return m;if("children"in s&&s.children){const t=s;if(t.children&&"skip"!==m[0])for(c=(r?t.children.length:-1)+i,d=o.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,d)(),u[0]===po)return u;c="number"===typeof u[1]?u[1]:c+i}}return m}}(e,void 0,[])()}function go(e,t,n,r){let s,a,i;"function"===typeof t&&"function"!==typeof n?(a=void 0,i=t,s=n):(a=t,i=n,s=r),fo(e,a,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return i(e,r,n)},s)}function xo(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&"text"===a.type?a.value="["+a.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&"text"===i.type?i.value+=r:s.push({type:"text",value:r}),s}function yo(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function Do(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(vo(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(vo(t.slice(s),s>0,!1)),a.join("")}function vo(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;9===t||32===t;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const bo={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=so(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let i,l=e.footnoteCounts.get(r);void 0===l?(l=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=a+1,l+=1,e.footnoteCounts.set(r,l);const o={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,o);const u={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return xo(e,t);const s={src:so(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:so(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return xo(e,t);const s={href:so(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:so(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=yo(n[r])}return t}(n):yo(t),a={},i=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const e=r[l];(s||0!==l||"element"!==e.type||"p"!==e.tagName)&&i.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?i.push(e):i.push(...e.children)}const o=r[r.length-1];o&&(s||"element"!==o.type||"p"!==o.tagName)&&i.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:a,children:i};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Sa(t.children[1]),i=Aa(t.children[t.children.length-1]);a&&i&&(r.position={start:a,end:i}),s.push(r)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,i=a?a.length:t.children.length;let l=-1;const o=[];for(;++l<i;){const n=t.children[l],r={},i=a?a[l]:void 0;i&&(r.align=i);let u={type:"element",tagName:s,properties:r,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),o.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(o,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:Do(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:jo,yaml:jo,definition:jo,footnoteDefinition:jo};function jo(){}const wo=["children"],No={}.hasOwnProperty,Co={};function Fo(e,t){e.position&&(t.position=function(e){const t=Sa(e),n=Aa(e);if(t&&n)return{start:t,end:n}}(e))}function Eo(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,ro(s)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function ko(e,t){const n=t.data||{},r=!("value"in t)||No.call(n,"hProperties")||No.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Ao(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function So(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Bo(e,t){const n=function(e,t){const n=t||Co,r=new Map,s=new Map,a=new Map,i=Ve(Ve({},bo),n.handlers),l={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=l.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=So(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=So(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:Eo,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:i,one:function(e,t){const n=e.type,r=l.handlers[n];if(No.call(l.handlers,n)&&r)return r(l,e,t);if(l.options.passThrough&&l.options.passThrough.includes(n)){if("children"in e){const{children:t}=e,n=ht(e,wo),r=ro(n);return r.children=l.all(e),r}return ro(e)}return(l.options.unknownHandler||ko)(l,e,t)},options:n,patch:Fo,wrap:Ao};return go(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),l}(e,t),r=n.one(e,void 0),s=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ao,r=e.options.footnoteBackLabel||io,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let o=-1;for(;++o<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[o]);if(!s)continue;const a=e.all(s),i=String(s.identifier).toUpperCase(),u=so(i.toLowerCase());let c=0;const d=[],m=e.footnoteCounts.get(i);for(;void 0!==m&&++c<=m;){d.length>0&&d.push({type:"text",value:" "});let e="string"===typeof n?n:n(o,c);"string"===typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(o,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const h=a[a.length-1];if(h&&"element"===h.type&&"p"===h.tagName){const e=h.children[h.children.length-1];e&&"text"===e.type?e.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...d)}else a.push(...d);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(a,!0)};e.patch(s,p),l.push(p)}if(0!==l.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:Ve(Ve({},ro(i)),{},{id:"footnote-label"}),children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:"\n"},s),a}function To(e,t){return e&&"run"in e?async function(n,r){const s=Bo(n,Ve({file:r},t));await e.run(s,r)}:function(n,r){return Bo(n,Ve({file:r},e||t))}}function Po(e){if(e)throw e}var _o=n(240);function Ro(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Io(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let s=-1;const a=n.pop();if("function"!==typeof a)throw new TypeError("Expected function as last argument, not "+a);!function t(r){const i=e[++s];let l=-1;if(r)a(r);else{for(var o=arguments.length,u=new Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];for(;++l<n.length;)null!==u[l]&&void 0!==u[l]||(u[l]=n[l]);n=u,i?function(e,t){let n;return s;function s(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];const o=e.length>s.length;let u;o&&s.push(a);try{u=e.apply(this,s)}catch(r){if(o&&n)throw r;return a(r)}o||(u&&u.then&&"function"===typeof u.then?u.then(i,a):u instanceof Error?a(u):i(u))}function a(e){if(!n){n=!0;for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];t(e,...s)}}function i(e){a(null,e)}}(i,t)(...u):a(null,...u)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Oo={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Lo(e);let n,r=0,s=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let i=-1,l=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(s=a):(l=-1,s=i));r===s?s=i:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(Lo(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Lo(e);let t,n=e.length,r=-1,s=0,a=-1,i=0;for(;n--;){const l=e.codePointAt(n);if(47!==l)r<0&&(t=!0,r=n+1),46===l?a<0?a=n:1!==i&&(i=1):a>-1&&(i=-1);else if(t){s=n+1;break}}if(a<0||r<0||0===i||1===i&&a===r-1&&a===s+1)return"";return e.slice(a,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++t<r.length;)Lo(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){Lo(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",a=0,i=-1,l=0,o=-1;for(;++o<=e.length;){if(o<e.length)n=e.codePointAt(o);else{if(47===n)break;n=47}if(47===n){if(i===o-1||1===l);else if(i!==o-1&&2===l){if(s.length<2||2!==a||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",a=0):(s=s.slice(0,r),a=s.length-1-s.lastIndexOf("/")),i=o,l=0;continue}}else if(s.length>0){s="",a=0,i=o,l=0;continue}t&&(s=s.length>0?s+"/..":"..",a=2)}else s.length>0?s+="/"+e.slice(i+1,o):s=e.slice(i+1,o),a=o-i-1;i=o,l=0}else 46===n&&l>-1?l++:l=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Lo(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Mo={cwd:function(){return"/"}};function zo(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Uo(e){if("string"===typeof e)e=new URL(e);else if(!zo(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const qo=["history","path","basename","stem","extname","dirname"];class Vo{constructor(e){let t;t=e?zo(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Mo.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<qo.length;){const e=qo[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)qo.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?Oo.basename(this.path):void 0}set basename(e){Wo(e,"basename"),Ho(e,"basename"),this.path=Oo.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?Oo.dirname(this.path):void 0}set dirname(e){$o(this.basename,"dirname"),this.path=Oo.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?Oo.extname(this.path):void 0}set extname(e){if(Ho(e,"extname"),$o(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Oo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){zo(e)&&(e=Uo(e)),Wo(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?Oo.basename(this.path,this.extname):void 0}set stem(e){Wo(e,"stem"),Ho(e,"stem"),this.path=Oo.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Ia(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Ho(e,t){if(e&&e.includes(Oo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Oo.sep+"`")}function Wo(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $o(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Yo=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Go={}.hasOwnProperty;class Qo extends Yo{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Io()}copy(){const e=new Qo;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(_o(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(Zo("data",this.frozen),this.namespace[e]=t,this):Go.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Zo("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=nu(e),n=this.parser||this.Parser;return Jo("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Jo("process",this.parser||this.Parser),Xo("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const a=nu(e),i=n.parse(a);function l(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(i,a,function(e,t,r){if(e||!t||!r)return l(e);const s=t,a=n.stringify(s,r);!function(e){return"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)}(a)?r.result=a:r.value=a,l(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),Jo("processSync",this.parser||this.Parser),Xo("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,Po(e),t=r}),tu("processSync","process",n),t}run(e,t,n){eu(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,a){const i=nu(t);r.run(e,i,function(t,r,i){const l=r||e;t?a(t):s?s(l):n(void 0,l,i)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){Po(e),n=t,r=!0}),tu("runSync","run",r),n}stringify(e,t){this.freeze();const n=nu(t),r=this.compiler||this.Compiler;return Xo("stringify",r),eu(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(Zo("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];u(e,s)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?o(e):l(e)}return this;function i(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,n)}else l(e)}}function l(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(n.settings=_o(!0,n.settings,e.settings))}function o(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function u(e,n){let r=-1,s=-1;for(;++r<t.length;)if(t[r][0]===e){s=r;break}if(-1===s)t.push([e,...n]);else if(n.length>0){let[r,...a]=n;const i=t[s][1];Ro(i)&&Ro(r)&&(r=_o(!0,i,r)),t[s]=[e,r,...a]}}}}const Ko=(new Qo).freeze();function Jo(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Xo(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Zo(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eu(e){if(!Ro(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function tu(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nu(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Vo(e)}const ru=[],su={allowDangerousHtml:!0},au=/^(https?|ircs?|mailto|xmpp)$/i,iu=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lu(e){const t=ou(e),n=uu(e);return cu(t.runSync(t.parse(n),n),e)}function ou(e){const t=e.rehypePlugins||ru,n=e.remarkPlugins||ru,r=e.remarkRehypeOptions?Ve(Ve({},e.remarkRehypeOptions),su):su;return Ko().use(Gl).use(n).use(To,r).use(t)}function uu(e){const t=e.children||"",n=new Vo;return"string"===typeof t&&(n.value=t),n}function cu(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,i=t.skipHtml,l=t.unwrapDisallowed,o=t.urlTransform||du;for(const u of iu)Object.hasOwn(t,u.from)&&qs((u.from,u.to&&u.to,u.id));return go(e,function(e,t,s){if("raw"===e.type&&s&&"number"===typeof t)return i?s.children.splice(t,1):s.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Za)if(Object.hasOwn(Za,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Za[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=o(String(n||""),t,e))}}if("element"===e.type){let i=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!i&&r&&"number"===typeof t&&(i=!r(e,t,s)),i&&s&&"number"===typeof t)return l&&e.children?s.children.splice(t,1,...e.children):s.children.splice(t,1),t}}),Va(e,{Fragment:lt.Fragment,components:s,ignoreInvalidStyle:!0,jsx:lt.jsx,jsxs:lt.jsxs,passKeys:!0,passNode:!0})}function du(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return-1===t||-1!==s&&t>s||-1!==n&&t>n||-1!==r&&t>r||au.test(e.slice(0,t))?e:""}const mu=e=>{let{message:t}=e;return(0,lt.jsx)("div",{className:"flex ".concat("user"===t.message_type?"justify-end":"justify-start"),children:(0,lt.jsx)("div",{className:"max-w-2xl lg:max-w-4xl px-3 py-2 rounded-lg ".concat("user"===t.message_type?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),children:(0,lt.jsxs)("div",{className:"flex items-start space-x-2",children:["assistant"===t.message_type&&(0,lt.jsx)(zs,{className:"h-4 w-4 mt-1 flex-shrink-0"}),(0,lt.jsxs)("div",{className:"flex-1",children:["assistant"===t.message_type?(0,lt.jsx)("div",{className:"text-sm prose prose-sm max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0 prose-headings:my-1",children:(0,lt.jsx)(lu,{components:{p:e=>{let{children:t}=e;return(0,lt.jsx)("p",{className:"mb-2 last:mb-0",children:t})},ul:e=>{let{children:t}=e;return(0,lt.jsx)("ul",{className:"list-disc pl-4 mb-2 last:mb-0",children:t})},li:e=>{let{children:t}=e;return(0,lt.jsx)("li",{className:"mb-1",children:t})},strong:e=>{let{children:t}=e;return(0,lt.jsx)("span",{className:"font-semibold",children:t})},em:e=>{let{children:t}=e;return(0,lt.jsx)("span",{className:"italic",children:t})},h2:e=>{let{children:t}=e;return(0,lt.jsx)("h2",{className:"font-bold text-base mb-1 mt-2 first:mt-0",children:t})},h3:e=>{let{children:t}=e;return(0,lt.jsx)("h3",{className:"font-semibold text-sm mb-1 mt-2 first:mt-0",children:t})}},children:t.content})}):(0,lt.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:t.content}),(0,lt.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,lt.jsx)("span",{className:"text-xs ".concat("user"===t.message_type?"text-blue-100":"text-gray-500"),children:it.formatTimestamp(t.created_at)}),t.response_time_ms&&(0,lt.jsxs)("span",{className:"text-xs text-gray-400 flex items-center",children:[(0,lt.jsx)(Ot,{className:"h-3 w-3 mr-1"}),t.response_time_ms,"ms"]})]})]}),"user"===t.message_type&&(0,lt.jsx)(yt,{className:"h-4 w-4 mt-1 flex-shrink-0"})]})})})},hu=e=>{let{isOpen:t,onClose:n,initialMessage:r=""}=e;const{user:s}=ut(),[a,i]=(0,l.useState)([]),[o,u]=(0,l.useState)(null),[c,d]=(0,l.useState)([]),[m,h]=(0,l.useState)(r),[p,f]=(0,l.useState)(!1),[g,x]=(0,l.useState)(!1),[y,D]=(0,l.useState)(null),[v,b]=(0,l.useState)(!1),[j,w]=(0,l.useState)(!1),[N,C]=(0,l.useState)(null),[F,E]=(0,l.useState)(""),k=(0,l.useRef)(null),A=(0,l.useRef)(null);(0,l.useEffect)(()=>{(()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[c]),(0,l.useEffect)(()=>{t&&(D(null),B())},[t]),(0,l.useEffect)(()=>{t&&!v&&A.current&&A.current.focus()},[t,v]);const S=(0,l.useMemo)(()=>c.map((e,t)=>(0,lt.jsx)(mu,{message:e},e.id||t)),[c]),B=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{f(!0),D(null);const e=await it.getChatSessions();if(!e||"object"!==typeof e)throw new Error("Invalid response from server");const t=e.sessions||[];i(t),o||0!==t.length?!o&&t.length>0&&(u(t[0]),await T(t[0].id)):await P()}catch(y){console.error("Error loading sessions:",y),e<1?setTimeout(()=>B(e+1),1e3):D("Unable to load chat. Please try refreshing the page.")}finally{f(!1)}},T=async e=>{try{f(!0);const t=await it.getChatMessages(e);d(t.messages||[])}catch(y){D("Failed to load messages"),console.error("Error loading messages:",y)}finally{f(!1)}},P=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Chat";try{const t=(await it.createChatSession(e)).session;return i(e=>[t,...e]),u(t),d([]),w(!1),t}catch(y){D("Failed to create new chat session"),console.error("Error creating session:",y)}},_=async e=>{u(e),w(!1),await T(e.id)},R=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const t=it.validateMessage(e);if(t.isValid){if(!o){if(!await P())return}x(!0),D(null);try{const e={id:Date.now(),message_type:"user",content:t.message,created_at:(new Date).toISOString()};d(t=>[...t,e]),h("");const n=await it.sendMessage(o.id,t.message);if(n.success){if(d(e=>[...e.slice(0,-1),n.userMessage,n.aiMessage]),n.userMessage&&a.length>0){const e=await it.getChatSessions();i(e.sessions||[])}}else D("Failed to get AI response")}catch(y){D("Failed to send message"),console.error("Error sending message:",y),d(e=>e.slice(0,-1))}finally{x(!1)}}else D(t.error)},[o,m,a]);(0,l.useEffect)(()=>{r&&t&&o&&R(r)},[r,t,o,R]);const I=async()=>{F.trim()&&N&&await(async(e,t)=>{try{await it.updateChatSession(e,{title:t}),i(n=>n.map(n=>n.id===e?Ve(Ve({},n),{},{title:t}):n)),(null===o||void 0===o?void 0:o.id)===e&&u(e=>Ve(Ve({},e),{},{title:t}))}catch(y){D("Failed to update session title"),console.error("Error updating session:",y)}})(N,F.trim()),C(null),E("")},O=()=>{C(null),E("")};return t?(0,lt.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col w-[54rem] h-[48rem] max-w-4xl bg-white rounded-lg border border-gray-200 shadow-2xl",children:[(0,lt.jsxs)("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex items-center justify-between",children:[(0,lt.jsxs)("div",{className:"flex items-center",children:[(0,lt.jsx)(Rs,{className:"h-5 w-5 mr-2"}),(0,lt.jsxs)("span",{className:"font-semibold",children:["AI ","tutor"===(null===s||void 0===s?void 0:s.role)?"Teaching":"Study"," Assistant"]})]}),(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)("button",{onClick:()=>b(!v),className:"text-white hover:text-blue-100 transition-colors","aria-label":v?"Maximize":"Minimize",children:v?(0,lt.jsx)(Is,{className:"h-4 w-4"}):(0,lt.jsx)(Os,{className:"h-4 w-4"})}),(0,lt.jsx)("button",{onClick:n,className:"text-white hover:text-blue-100 transition-colors","aria-label":"Close AI Assistant",children:(0,lt.jsx)(vt,{className:"h-5 w-5"})})]})]}),!v&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsxs)("div",{className:"bg-gray-50 p-2 border-b border-gray-200 flex items-center justify-between",children:[(0,lt.jsxs)("button",{onClick:()=>w(!j),className:"flex items-center text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[(0,lt.jsx)(Ht,{className:"h-4 w-4 mr-1"}),(null===o||void 0===o?void 0:o.title)||"New Chat"]}),(0,lt.jsx)("button",{onClick:()=>P(),className:"flex items-center text-sm text-blue-600 hover:text-blue-800 transition-colors","aria-label":"New Chat",children:(0,lt.jsx)(Dn,{className:"h-4 w-4"})})]}),j&&(0,lt.jsx)("div",{className:"bg-white border-b border-gray-200 max-h-32 overflow-y-auto",children:a.map(e=>(0,lt.jsx)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:N===e.id?(0,lt.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[(0,lt.jsx)("input",{type:"text",value:F,onChange:e=>E(e.target.value),className:"flex-1 text-sm px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>{"Enter"===e.key&&I(),"Escape"===e.key&&O()},autoFocus:!0}),(0,lt.jsx)("button",{onClick:I,className:"text-green-600 hover:text-green-800",children:(0,lt.jsx)(sn,{className:"h-3 w-3"})}),(0,lt.jsx)("button",{onClick:O,className:"text-gray-600 hover:text-gray-800",children:(0,lt.jsx)(vt,{className:"h-3 w-3"})})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("button",{onClick:()=>_(e),className:"flex-1 text-left text-sm text-gray-700 hover:text-gray-900 truncate",children:e.title}),(0,lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,lt.jsx)("button",{onClick:()=>(e=>{C(e.id),E(e.title)})(e),className:"text-gray-400 hover:text-gray-600",children:(0,lt.jsx)(Ls,{className:"h-3 w-3"})}),(0,lt.jsx)("button",{onClick:()=>(async e=>{try{if(await it.deleteChatSession(e),i(t=>t.filter(t=>t.id!==e)),(null===o||void 0===o?void 0:o.id)===e){const t=a.filter(t=>t.id!==e);t.length>0?await _(t[0]):(u(null),d([]),await P())}}catch(y){D("Failed to delete session"),console.error("Error deleting session:",y)}})(e.id),className:"text-red-400 hover:text-red-600",children:(0,lt.jsx)(bs,{className:"h-3 w-3"})})]})]})},e.id))}),y&&(0,lt.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-3",children:(0,lt.jsxs)("div",{className:"flex items-start",children:[(0,lt.jsx)(zt,{className:"h-4 w-4 text-red-400 mr-2 mt-0.5 flex-shrink-0"}),(0,lt.jsxs)("div",{className:"flex-1",children:[(0,lt.jsx)("p",{className:"text-sm text-red-700 mb-2",children:y}),(0,lt.jsxs)("div",{className:"flex space-x-2",children:[(0,lt.jsx)("button",{onClick:()=>{D(null),B()},className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded hover:bg-red-200",children:"Retry"}),(0,lt.jsx)("button",{onClick:()=>D(null),className:"text-xs text-red-500 hover:text-red-700",children:"Dismiss"})]})]})]})}),(0,lt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[p&&0===c.length?(0,lt.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,lt.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,lt.jsx)(Ms,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading chat..."]})}):0===c.length?(0,lt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,lt.jsx)(zs,{className:"h-12 w-12 text-gray-300 mb-2"}),(0,lt.jsx)("p",{className:"text-gray-500 text-sm",children:"tutor"===(null===s||void 0===s?void 0:s.role)?"Hi! I'm your AI Teaching Assistant. Ask me about teaching strategies, lesson planning, student engagement, or educational best practices!":"Hi! I'm your AI Study Assistant. Ask me anything about your studies!"})]}):S,g&&(0,lt.jsx)("div",{className:"flex justify-start",children:(0,lt.jsx)("div",{className:"bg-gray-100 text-gray-800 max-w-2xl lg:max-w-4xl px-3 py-2 rounded-lg",children:(0,lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lt.jsx)(zs,{className:"h-4 w-4"}),(0,lt.jsxs)("div",{className:"flex space-x-1",children:[(0,lt.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,lt.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,lt.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),(0,lt.jsx)("div",{ref:k})]}),(0,lt.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,lt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m.trim()&&!g&&R()},className:"flex space-x-2",children:[(0,lt.jsx)("input",{ref:A,type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"Ask me anything...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,maxLength:2e3}),(0,lt.jsx)("button",{type:"submit",disabled:!m.trim()||g,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?(0,lt.jsx)(Ms,{className:"h-4 w-4 animate-spin"}):(0,lt.jsx)(zn,{className:"h-4 w-4"})})]}),(0,lt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[m.length,"/2000 characters"]})]})]})]}):null},pu=e=>{let{initialMessage:t=""}=e;const{user:n,isAuthenticated:r}=ut(),[s,a]=(0,l.useState)(!1),[i,o]=(0,l.useState)(!1);if(!r||"student"!==(null===n||void 0===n?void 0:n.role)&&"tutor"!==(null===n||void 0===n?void 0:n.role))return null;return(0,lt.jsxs)(lt.Fragment,{children:[!s&&(0,lt.jsx)("button",{onClick:()=>{a(!0),o(!1)},className:"fixed bottom-6 right-6 z-40 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50","aria-label":"Open AI ".concat("tutor"===(null===n||void 0===n?void 0:n.role)?"Teaching":"Study"," Assistant"),children:(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(Rs,{className:"h-6 w-6"}),i&&(0,lt.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})}),(0,lt.jsx)(hu,{isOpen:s,onClose:()=>{a(!1)},initialMessage:t})]})};class fu extends l.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("AI Chat Error Boundary caught an error:",e,t)}render(){return this.state.hasError?(0,lt.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 bg-white border border-red-200 rounded-lg shadow-lg p-4 max-w-md",children:[(0,lt.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 mb-2",children:[(0,lt.jsx)(zt,{className:"h-5 w-5"}),(0,lt.jsx)("span",{className:"font-semibold",children:"AI Chat Error"})]}),(0,lt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Something went wrong with the AI chat. Please refresh the page and try again."}),(0,lt.jsx)("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"text-sm bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700",children:"Retry"})]}):this.props.children}}const gu=fu,xu=()=>(0,lt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,lt.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h1",{className:"text-9xl font-bold text-primary-600",children:"404"}),(0,lt.jsx)("div",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Page Not Found"})]}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsx)("p",{className:"text-lg text-gray-600",children:"Oops! The page you're looking for doesn't exist."}),(0,lt.jsx)("p",{className:"text-gray-500",children:"It might have been moved, deleted, or you entered the wrong URL."})]}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,lt.jsxs)(Ie,{to:"/",className:"btn-primary inline-flex items-center justify-center",children:[(0,lt.jsx)(mn,{className:"h-4 w-4 mr-2"}),"Go Home"]}),(0,lt.jsx)("button",{onClick:()=>window.history.back(),className:"btn-secondary inline-flex items-center justify-center",children:"Go Back"})]}),(0,lt.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Or try searching for what you need:"}),(0,lt.jsxs)("div",{className:"relative",children:[(0,lt.jsx)(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,lt.jsx)("input",{type:"text",placeholder:"Search tutors, subjects, or resources...",className:"input-field pl-10",onKeyPress:e=>{"Enter"===e.key&&e.target.value.trim()&&alert("Searching for: ".concat(e.target.value))}})]})]})]}),(0,lt.jsxs)("div",{className:"pt-8",children:[(0,lt.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Need help? Try these popular pages:"}),(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)(Ie,{to:"/login",className:"block text-primary-600 hover:text-primary-700 text-sm",children:"Sign In to Your Account"}),(0,lt.jsx)(Ie,{to:"/signup",className:"block text-primary-600 hover:text-primary-700 text-sm",children:"Create New Account"})]})]})]})});const yu=function(){return(0,lt.jsx)(ct,{children:(0,lt.jsx)(Pe,{children:(0,lt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lt.jsxs)(Ee,{children:[(0,lt.jsx)(Ce,{path:"/",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(jt,{}),(0,lt.jsx)(wt,{})]})})}),(0,lt.jsx)(Ce,{path:"/login",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsx)(rn,{})})}),(0,lt.jsx)(Ce,{path:"/signup",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsx)(ln,{})})}),(0,lt.jsx)(Ce,{path:"/tutor-setup",element:(0,lt.jsx)(dt,{allowedRoles:["tutor"],children:(0,lt.jsx)(Qt,{})})}),(0,lt.jsx)(Ce,{path:"/student-setup",element:(0,lt.jsx)(dt,{allowedRoles:["student"],children:(0,lt.jsx)(Kt,{})})}),(0,lt.jsx)(Ce,{path:"/forgot-password",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsx)(un,{})})}),(0,lt.jsx)(Ce,{path:"/reset-password/:token",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsx)(dn,{})})}),(0,lt.jsx)(Ce,{path:"/about",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(jt,{}),(0,lt.jsx)(Tt,{})]})})}),(0,lt.jsx)(Ce,{path:"/browse-tutors",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(jt,{}),(0,lt.jsx)(qt,{})]})})}),(0,lt.jsx)(Ce,{path:"/tutors/:id",element:(0,lt.jsx)(dt,{requireAuth:!1,children:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(jt,{}),(0,lt.jsx)(Yt,{})]})})}),(0,lt.jsx)(Ce,{path:"/dashboard",element:(0,lt.jsx)(dt,{requireAuth:!0,children:(0,lt.jsx)(mt,{})})}),(0,lt.jsx)(Ce,{path:"/student/*",element:(0,lt.jsx)(dt,{allowedRoles:["student"],children:(0,lt.jsx)(xs,{})})}),(0,lt.jsx)(Ce,{path:"/tutor/*",element:(0,lt.jsx)(dt,{allowedRoles:["tutor"],children:(0,lt.jsx)(Es,{})})}),(0,lt.jsx)(Ce,{path:"/admin/*",element:(0,lt.jsx)(dt,{allowedRoles:["admin"],children:(0,lt.jsx)(_s,{})})}),(0,lt.jsx)(Ce,{path:"*",element:(0,lt.jsx)(xu,{})})]}),(0,lt.jsx)(gu,{children:(0,lt.jsx)(pu,{})})]})})})};u.createRoot(document.getElementById("root")).render((0,lt.jsx)(l.StrictMode,{children:(0,lt.jsx)(yu,{})}))})();
//# sourceMappingURL=main.d1559e81.js.map